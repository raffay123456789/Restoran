"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="00e98e00-2e44-5d38-8481-7bc7205e9995")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8259],{758259:(e,t,i)=>{i.d(t,{S_:()=>P,cw:()=>N,g_:()=>x,gk:()=>k});var a=i(675678),r=i(776250),n=i(737947),o=i(966712),l=i(988261),s=i(776621),m=i(650322),_=i(27087),d=i(881388),p=i(939863),c=i(303345),u=i(980820),g=i(738269),f=i(662275),h=i(988022),E=i(964258),y=i(243987),T=i(888870),v=i(239671),b=i(622139),S=i(637590),I=i(50292),A=i(507877),C=i(995852),R=i(902957),w=i(114961);let x=(0,u.nF)((e,{teamId:t,teamName:i,previousView:a})=>{e.dispatch(g.$T({view:"promoReview",teamId:t,teamName:i,previousView:a}))}),P=(0,u.nF)((e,t)=>{let{promoCode:i,teamId:a,teamName:r,onSuccess:n,onError:o}=t;_.Ay.post("/api/teams/redeem_promo",{promo_code:i,team_id:a}).then(()=>{n(),e.dispatch(d.s.flash((0,p.t)("flash.redeem_promo.success",{teamName:r})))}).catch(t=>{o(),e.dispatch(d.s.error((0,p.t)("flash.redeem_promo.failure")))})}),N=(0,u.nF)((e,t)=>{let{teamId:i,surveyResult:a}=t,r=e.getState(),n=r.user?.id,l=(0,o.kc)().ps_benchmark;_.Ay.post(`/api/teams/${i}/pro_trial`).then(()=>{l&&n?e.dispatch(A._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"allProjects"}})):e.dispatch(g.$T({view:"team",teamId:i})),e.dispatch(d.s.flash((0,p.t)("payments.pro_trial.start_pro_trial_success"))),T.R_.trackInitiationSubmit(a,!0)}).catch(t=>{l&&n?e.dispatch(A._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"recentsAndSharing"}})):e.dispatch(g.$T({view:"recentFiles"})),e.dispatch(d.s.error((0,p.t)("payments.pro_trial.start_pro_trial_error"))),T.R_.trackInitiationSubmit(a,!1)})}),k=(0,u.nF)((e,{teamName:t,invites:i,teamId:u,selectedCurrency:T,hasSelectedStudentTeam:x,teamFlowType:P,onSuccess:N})=>{let k;let U=e.getState(),D=(0,o.kc)().ps_benchmark,F=(0,o.kc)().pro_onboarding_launch,O=(0,o.kc)().campfire_cart,W=U.user?.id,L=(e,t)=>({annual_quantity:(0,y.fD)(e,t),monthly_quantity:(0,y.Rq)(e,t)}),z=null,M=null,G=null;if((0,o.kc)().campfire_cart_pro_upgrade_endpoint_migration){if(!(M=(0,y.ne)(U.payment.billingPeriod))){e.dispatch(d.s.error((0,p.t)("payments.invalid_billing_interval_error")));return}if(O){let t=U.payment.campfireSeats?.byUser,i=Object.values(u?U.teamUserByTeamId[u]:{}).map(e=>e.user_id??"");if(t&&(0,c.HG)(t,i))G=(0,c.VB)(t)??null,z=U.payment.campfireSeats?.totals??null;else{e.dispatch(d.s.error((0,p.t)("payments.errors.error_processing_upgrade_request"))),(0,s.$D)(a.FigmaTeam.MONETIZATION_UPGRADES,Error("Unable to retrieve valid selectedUserSeatTypes while submitting Pro upgrade request"),{extra:{teamId:u,selectedUserSeatTypes:t}});return}}else z={design:U.payment.numDesignEditors,figjam:U.payment.numWhiteboardEditors}}let B={...L(U.payment.billingPeriod,U.payment.numDesignEditors),annual_whiteboard_quantity:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).annual_quantity,monthly_whiteboard_quantity:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).monthly_quantity,editor_status_changes:U.payment.editorStatusChanges,subscription_monthly_quantity_figjam:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).monthly_quantity,subscription_annual_quantity_figjam:L(U.payment.billingPeriod,U.payment.numWhiteboardEditors).annual_quantity,vat_gst_id:U.payment.vatGstId||null,regional_vat_gst_id:U.payment.regionalVatGstId||null,legal_name:U.payment.legalName||null,display_name:U.payment.displayName||null,selected_user_seat_types:G,count_by_billable_product:z,billing_interval:M};if(null===u){let e=U.payment.promo,a=!!U.user&&(0,m.cn)(U.user);if(null!=e)k={...B,team_name:t,invite_emails:i,promo_code:e.code};else if(a&&x)k={...B,team_name:t,invite_emails:i,student_team:!0};else{let e=(0,o.DC)();k={...B,team_name:t,invite_emails:i,subscribe_to_pro:!0,address:e?.address,payment_method_id:e?.payment_method_id,selected_currency:T}}}else k={...B,selected_currency:T};let $=u?`/api/subscriptions-2018-11-08/team/${u}`:"/api/teams/create",q=U.selectedView,j=U.payment.upgradingNewTeam;_.Ay.post($,k).then(({data:t})=>{let a="team"in t.meta?t.meta.team:t.meta,o=()=>{if(D&&W){let t={userId:W,teamId:a.id,orgId:null};e.dispatch(A._l({workspace:t,view:{view:"allProjects",isProUpgrade:F||void 0}}))}else e.dispatch(g.$T({view:"team",teamId:a.id})),F?e.dispatch(f.to({type:I.C,data:{teamId:a.id}})):e.dispatch(d.s.flash((0,p.t)("flash.successfully_upgraded_to_a_professional_team")))};u||(0,E.P8)(a,e,{dontRedirect:!0,inviteEmails:i,teamFlowType:P}),e.dispatch(C.I2({submitPending:!1})),e.dispatch(C.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[]}}})),a&&e.dispatch(R.yJ({team:a,userInitiated:!1})),a.student_team&&e.dispatch(C.Lo({billingPeriod:b.tY.UNSPECIFIED})),U.payment.promo&&((0,l._H)(),e.dispatch(C.Ay({promo:null})));let s=new URLSearchParams(n.Ay.location.search);if(j){if(s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(g.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:v.nT.Design}))}else o()}else if(e.dispatch(w.Be({teamId:a.id})),s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(g.$T({...r,teamToMoveFileToOnNavigate:a.id,editorType:v.nT.Design}))}else o();(0,r.sx)("Pro Team Purchased (GTM)"),N&&N()}).catch(t=>{let i=(t,i={})=>{let a=new URLSearchParams(n.Ay.location.search),r=a.get("onCompleteRedirectFileKey"),o=a.get("onCompleteRedirectNodeId");e.dispatch(g.$T({...q,view:"teamUpgrade",teamFlowType:t?S.SC.UPGRADE_EXISTING_TEAM:S.SC.CREATE_AND_UPGRADE,teamId:t||i.freeTeamId||null,paymentStep:b.tn.PAYMENT_AND_ADDRESS,previousView:q.previousView,planType:S.Sc.TEAM,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:o}}:{}}))};e.dispatch(C.I2({submitPending:!1}));let a=t.data?.message||t.message;null!==u?(0,h._J)("Pro Checkout Error",u,U,{error_message:a}):(0,r.sx)("Pro Checkout Error"),((t,a)=>{let r=(0,p.Jv)(t);r&&("PROMO_CODE"===t.data.reason?(e.dispatch(C.Ay({promo:null})),i(a,{}),e.dispatch(C.Qg({error:r}))):"CARD_ERROR"===t.data.reason?(e.dispatch(C.WG({token:null})),i(a,{}),e.dispatch(C.Qg({error:r}))):e.dispatch(d.s.error(r)))})(t,u)})})},888870:(e,t,i)=>{i.d(t,{$Q:()=>I,Mm:()=>y,NN:()=>E,PG:()=>R,R_:()=>a,TB:()=>A,bo:()=>C,h3:()=>S,iX:()=>T});var a,r=i(411855),n=i(776250),o=i(163023),l=i(939863),s=i(809840),m=i(746869),_=i(965821),d=i(485247),p=i(569673),c=i(301834),u=i(383234),g=i(637427),f=i(236446),h=i(176694);let E="Pro Trial Initiation Modal",y="Pro Trial Downgrade Modal";var T=(e=>(e[e.SELECT_TEAM=0]="SELECT_TEAM",e[e.SELECT_TEAM_TYPE=1]="SELECT_TEAM_TYPE",e[e.SELECT_FEATURES=2]="SELECT_FEATURES",e))(T||{}),v=(e=>(e.FREELANCER="freelancer",e.AGENCY="agency",e.PRODUCT="product",e.OTHER="other",e))(v||{}),b=(e=>(e.UNLIMITED_FILES="unlimited_files",e.COMPONENT_LIBRARIES="component_libraries",e.ORGANIZING_FILES="organizing_files",e.VOTING_WORKSHOPS="voting_workshops",e.PLAYING_VIDEOS="playing_videos",e.SHARING_FILES="sharing_files",e.INVITING_VISITORS="inviting_visitors",e.AUDIO="audio",e))(b||{});let S=Object.keys(T).length/2,I={freelancer:"https://static.figma.com/uploads/06cfa92c773695fb0be0202d467640e521950e67",agency:"https://static.figma.com/uploads/e98abc8479042db5e94f5c35bf764ad4326f892f",product:"https://static.figma.com/uploads/915ace9058a397e6e4ceadc221dd20a9d95898d7",other:"https://static.figma.com/uploads/4423aaa8499d483db2703e6cad1b4c90805e7f16"},A=[{teamType:"freelancer",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.freelancer"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.freelancer"))},{teamType:"agency",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.agency"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.agency"))},{teamType:"product",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.product"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.product"))},{teamType:"other",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"))}],C={unlimited_files:r.createElement(o.B,{svg:_.A}),component_libraries:r.createElement(o.B,{svg:g.A}),organizing_files:r.createElement(o.B,{svg:d.A}),voting_workshops:r.createElement(o.B,{svg:h.A}),playing_videos:r.createElement(o.B,{svg:f.A}),sharing_files:r.createElement(o.B,{svg:u.A}),inviting_visitors:r.createElement(o.B,{svg:p.A}),audio:r.createElement(o.B,{svg:c.A})},R=[{featureType:"unlimited_files",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.unlimited_files"))},{featureType:"component_libraries",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.component_libraries"))},{featureType:"organizing_files",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.organizing_files"))},{featureType:"voting_workshops",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.voting_workshopping"))},{featureType:"playing_videos",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.playing_videos"))},{featureType:"sharing_files",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.sharing_files"))},{featureType:"inviting_visitors",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.inviting_visitors"))},{featureType:"audio",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.using_audio"))}];(a||(a={})).trackInitiationSubmit=function(e,t){(0,n.sx)("pro_trial_initiation_submit",{startedTrialSuccessfully:t,...e,...m.ng.getTrackingProperties(),features:e.features?e.features.join(", "):null})}},421276:(e,t,i)=>{i.d(t,{X:()=>s});var a=i(411855),r=i(163023),n=i(901536),o=i(809840);if(443==i.j)var l=i(377869);function s(e){return a.createElement("p",{className:n.cx.flex.itemsCenter.gap8.mt8.$},a.createElement(r.B,{svg:l.A,className:n.cx.colorIconDesign.$}),a.createElement(o.E,{fontSize:13},e.bulletLabel))}},573821:(e,t,i)=>{i.d(t,{L0:()=>m,UA:()=>s,_:()=>_,fS:()=>d});var a=i(411855),r=i(901536),n=i(939863),o=i(809840),l=i(421276);let s="seen_pro_onboarding_welcome_modal";function m(){return a.createElement("div",{className:r.cx.mt16.$},a.createElement(l.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_files_for_all_your_ideas")}),a.createElement(l.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_projects_to_organize_your_files")}),a.createElement(l.X,{bulletLabel:(0,n.t)("pro_onboarding.dev_mode_for_simpler_inspection_and_handoff")}))}function _({user:e}){return a.createElement(o.E,{fontSize:24,fontWeight:"bold"},(0,n.tx)("pro_onboarding.welcome_to_professional",{userName:e.name.split(" ")[0]}))}function d(){return a.createElement("img",{width:313,src:"https://static.figma.com/uploads/4323e87513cec17f5decef84ebf66c12c0d2ea59",alt:"An illustration welcoming you to Figma Professional"})}},50292:(e,t,i)=>{i.d(t,{C:()=>g});var a=i(411855),r=i(188507),n=i(939863),o=i(809840),l=i(662275),s=i(760824),m=i(101505),_=i(860178),d=i(212957),p=i(237870),c=i(700886),u=i(573821);let g=(0,p.Ju)(function({teamId:e}){let t=(0,_.iZ)(),i=(0,r.d4)(t=>t.teams[e]),p=(0,r.wA)(),g=(0,r.d4)(e=>e.userTeamFlags);if(!t||g[e]?.[u.UA])return null;let f=()=>{p(s.bE({all_team_flags:[{team_id:e,flags:{[u.UA]:!0}}]})),p(l.Ce())},h=a.createElement(a.Fragment,null,(0,n.tx)("pro_onboarding.you_successfully_upgraded_team_name_to_a_professional_plan",{teamName:a.createElement(o.E,{fontWeight:"bold"},i.name)}),a.createElement(u.L0,null));return a.createElement(c.xx,{title:a.createElement(u._,{user:t}),description:h,media:a.createElement(u.fS,null),primaryCta:{type:"button",label:a.createElement(o.E,{fontSize:13},(0,n.tx)("pro_onboarding.get_started")),ctaTrackingDescriptor:m.c.GET_STARTED,onClick:f},trackingContextName:"Pro Onboarding Team Upgrader Welcome Modal",trackingProperties:d.S.getTrackingProperties(e),onClose:f,closeButtonColor:"light"})},"ProOnboardingTeamUpgraderWelcomeModal")}}]);

//# debugId=00e98e00-2e44-5d38-8481-7bc7205e9995

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/e01b57c52958a2ac8bfff9056dc79e1d81a2512d/8259-e4fa70dbaf245593.min.js.map