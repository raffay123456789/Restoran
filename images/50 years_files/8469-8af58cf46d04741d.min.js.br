"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f275316c-4706-5a25-a30b-6a1f48ab65d4")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8469],{949012:(e,t,n)=>{n.d(t,{A:()=>a});let a=new(n(554630)).b({name:"FigmaScope",dependencies:[],exports:[],routeHints:[],enforce:!1,friendFiles:[]})},277e3:(e,t,n)=>{n.d(t,{A:()=>a});let a=new(n(554630)).b({name:"code-connect",dependencies:[],routeHints:[],exports:["code_connect_atoms.ts","figmadoc.ts*","figmadoc_preview.ts*","typings.ts*","code_connect_view.ts*","preload_code_connect.ts*"],friendFiles:[]})},406270:(e,t,n)=>{n.d(t,{Pf:()=>r,kL:()=>a,zN:()=>o});let a="code_connect_debug_modal--container--DUec7",o="code_connect_debug_modal--controlGroup--wmsoE",r="code_connect_debug_modal--label--cAs9P"},128909:(e,t,n)=>{n.d(t,{DD:()=>g,F9:()=>I,G5:()=>E,Iw:()=>_,J$:()=>s,M7:()=>f,Qs:()=>i,YN:()=>p,as:()=>y,b:()=>o,cL:()=>A,fq:()=>C,gY:()=>u,jH:()=>b,jt:()=>w,kL:()=>a,pz:()=>r,s6:()=>m,tb:()=>l,uw:()=>v,v_:()=>h,xR:()=>d,yl:()=>c});let a="code_connect_modal--container--gdZJZ",o="code_connect_modal--closeButton--lC3YZ",r="code_connect_modal--sidebar--B46--",i="code_connect_modal--content--xlswn",l="code_connect_modal--sidebarHeading--bQvXS",s="code_connect_modal--sidebarSubheading--DNWUs",c="code_connect_modal--modal--K8M-q",d="code_connect_modal--selectedTab--KlRSR",m="code_connect_modal--unSelectedTab--LnDy3",u="code_connect_modal--stepWrapper--2Jt3f",p="code_connect_modal--circleNumber--j-DIh",h="code_connect_modal--circleNumberText--WCfy1",g="code_connect_modal--title--eSJ5C",f="code_connect_modal--stepContent--WMmuq",v="code_connect_modal--stepText--i8GgM",E="code_connect_modal--command--XnF2h",A="code_connect_modal--copyButton--Hecf7",C="code_connect_modal--copyButtonMultiline--pesTb code_connect_modal--copyButton--Hecf7",w="code_connect_modal--commandText--mYtNV",y="code_connect_modal--commandTextMultiLine--N2swX",b="code_connect_modal--spacer--zHdi3",_="code_connect_modal--bottomButton--OnRXO",I="code_connect_modal--githubIcon--PlOpd"},659350:(e,t,n)=>{n.d(t,{Pf:()=>r,hF:()=>o,kL:()=>a});let a="comment_debug_settings_modal--container--NLPWv",o="comment_debug_settings_modal--input--wSHX-",r="comment_debug_settings_modal--label--Gf3r8"},350022:(e,t,n)=>{n.d(t,{M:()=>a,W:()=>o});let a="viewport_overlay--overflowContainer--mmnLC",o="viewport_overlay--innerContainer--ogzA0"},78422:(e,t,n)=>{n.d(t,{Fd:()=>i,GE:()=>o,KM:()=>a,Y$:()=>r,bw:()=>l});let a="multiplayer_viewport_overlay--viewportFrame--QsDIw",o="multiplayer_viewport_overlay--multiplayerBellOuterContainer--nFGro",r="multiplayer_viewport_overlay--prototypeView---d4-5",i="multiplayer_viewport_overlay--delayTransition--YaWi4",l="multiplayer_viewport_overlay--recordingVideo--4NI-8"},283339:(e,t,n)=>{n.d(t,{k:()=>a});let a="ml_export_modal--container--Yt5uZ"},763933:(e,t,n)=>{n.d(t,{ET:()=>o,HG:()=>l,Jy:()=>s,M4:()=>m,OP:()=>c,dG:()=>i,eP:()=>r,iE:()=>a,t$:()=>d});let a="face_stamps--stamp--W89mK",o="face_stamps--miniStampContainer--SDVwN",r="face_stamps--stampImagePlaceholder--pXueE",i="face_stamps--miniStamp--8eY9E",l="face_stamps--stampContainer--pSzJJ",s="face_stamps--draggingCopy--iNJaR",c="face_stamps--faceLabel--L-WBK ellipsis--ellipsis--Tjyfa",d="face_stamps--faceLabelPlaceholder--E9aYz",m="face_stamps--nonMiniStampPlaceholderContainer--QGaUd"},746958:(e,t,n)=>{n.d(t,{Dp:()=>y,Eu:()=>s,GW:()=>p,Gf:()=>r,IO:()=>h,Kk:()=>C,Ms:()=>d,N1:()=>v,Rq:()=>b,Vy:()=>c,Xg:()=>g,Y$:()=>E,_Q:()=>w,_q:()=>A,hQ:()=>o,iO:()=>m,jT:()=>a,se:()=>l,ts:()=>f,wK:()=>u,yV:()=>i});let a="insert_media_modal--modalContainer--uNx1u",o="insert_media_modal--contentContainer--wh-bQ",r="insert_media_modal--sectionTitle--AkeLl text--fontPos11--2LvXf text--_fontBase--QdLsd",i="insert_media_modal--sectionDescription--potid text--fontPos11--2LvXf text--_fontBase--QdLsd",l="insert_media_modal--sectionDescriptionLink--Atf7X text--fontPos11--2LvXf text--_fontBase--QdLsd",s="insert_media_modal--embedsSection--KStKI insert_media_modal--section--d-vDa",c="insert_media_modal--embedEntryContainer--tK18E",d="insert_media_modal--embedTextBoxRow--crqIf",m="insert_media_modal--embedTextBoxContainer--q2IEG",u="insert_media_modal--embedTextBox--K5yUk",p="insert_media_modal--embedTextBoxBorder--vGy-s",h="insert_media_modal--embedTextBoxBorderError--h0-ou",g="insert_media_modal--embedTextBoxIcon--tlB4V",f="insert_media_modal--examplesContainer--G4gFh",v="insert_media_modal--headerContainer--Tb6A1",E="insert_media_modal--exampleHeader--j6rti text--fontPos11--2LvXf text--_fontBase--QdLsd",A="insert_media_modal--iconsContainer--oOP2I",C="insert_media_modal--icon--66XmK",w="insert_media_modal--iconLink--XCWwX",y="insert_media_modal--iconImage--HHKPc",b="insert_media_modal--embedAddButton--XRIWX"},588930:(e,t,n)=>{n.d(t,{BF:()=>u,Cm:()=>y,H2:()=>A,KE:()=>s,LC:()=>p,LT:()=>c,QH:()=>f,R3:()=>i,Te:()=>a,Uf:()=>_,W7:()=>d,WF:()=>v,Wh:()=>h,XF:()=>S,_s:()=>g,dv:()=>k,g_:()=>w,iE:()=>l,iG:()=>o,iw:()=>I,k$:()=>m,kk:()=>M,rf:()=>x,sl:()=>E,tL:()=>C,yu:()=>b,zc:()=>r});let a="voice_toolbar--audioButtonInDropdown--lmLzR",o="voice_toolbar--centeredContainer--h6AK-",r="voice_toolbar--iconContainer--LjNP5 voice_toolbar--centeredContainer--h6AK-",i="voice_toolbar--avatarWrapper--t-5vS",l="voice_toolbar--wrapper--MHTQ-",s="voice_toolbar--toolbar--co357 voice_toolbar--centeredContainer--h6AK-",c="voice_toolbar--toolbarOverflowHiddenWhileAnimating--qBMho",d="voice_toolbar--toolbarBorder--BT0R2",m="voice_toolbar--activeToolbarBorderParent--jsMm1",u="voice_toolbar--ongoingCallToolbarBorderParent--cmLFf",p="voice_toolbar--noCallToolbarBorderParent--OQ7Oe",h="voice_toolbar--volumeIcon--U-TCI",g="voice_toolbar--muteButton--aVex8",f="voice_toolbar--audioIconNotJoined---DG1Y",v="voice_toolbar--audioIconUnavailableSpan--H1YdE",E="voice_toolbar--audioIconDisabled--gCpOC",A="voice_toolbar--audioIconToolbar--nW-XS",C="voice_toolbar--audioIconMenu--trTHP",w="voice_toolbar--headphoneContainerWithHover--pTh5Y voice_toolbar--iconContainer--LjNP5 voice_toolbar--centeredContainer--h6AK-",y="voice_toolbar--voiceToolbarInnerWithJoinCall--Xu27i voice_toolbar--_voiceToolbarInnerBase--eFNzx voice_toolbar--centeredContainer--h6AK-",b="voice_toolbar--joinCopy--YVidt",_="voice_toolbar--voiceToolbarInner--hruxy voice_toolbar--_voiceToolbarInnerBase--eFNzx voice_toolbar--centeredContainer--h6AK-",I="voice_toolbar--audioIcon--XaW03 voice_toolbar--centeredContainer--h6AK-",x="voice_toolbar--numParticipants--wS2AS",k="voice_toolbar--numParticipantsInClosedWidgetStateNew--emfkW",M="voice_toolbar--centeredContainerWithHover--wGcWC voice_toolbar--centeredContainer--h6AK-",S="voice_toolbar--avatarObserveClickTarget--QALFw"},524639:(e,t,n)=>{n.d(t,{Ge:()=>c,JY:()=>a,V6:()=>s,VF:()=>l,f_:()=>i,r3:()=>r,s:()=>o});let a="dlt_universal_insert_collage--universalInsertCollageIcon--1oKSL",o="dlt_universal_insert_collage--collageIconContainer--Mkqay",r="dlt_universal_insert_collage--ignorePointerEvents--G4rRr",i="dlt_universal_insert_collage--collageScaleContainer--uLvqK",l="dlt_universal_insert_collage--collageImage--LdlFw",s="dlt_universal_insert_collage--errorBoundaryFallback--6P7SR",c="dlt_universal_insert_collage--universalInsertCollageIconContainer--yExun"},468951:(e,t,n)=>{n.d(t,{C0:()=>s,D9:()=>y,EA:()=>v,O8:()=>C,QE:()=>u,Qf:()=>f,SD:()=>h,TK:()=>i,UD:()=>a,W0:()=>d,WK:()=>A,_v:()=>w,cG:()=>l,fK:()=>g,hQ:()=>m,iG:()=>E,nT:()=>p,sI:()=>c,wx:()=>r,yM:()=>o});let a="vote_pins--votePinRoot--zOOjP",o="vote_pins--votePin--5E3rC",r="vote_pins--header--pfexD",i="vote_pins--headerText--O9EJ7 text--fontPos14--OL9Hp text--_fontBase--QdLsd",l="vote_pins--closeButtonContainer--WZCu2",s="vote_pins--medal--hNcNQ",c="vote_pins--expandingSection--wKym-",d="vote_pins--voterListSeparator--k0aO1",m="vote_pins--voterList--6fCBS",u="vote_pins--voterListItem--wa-M9",p="vote_pins--userName---6RMO text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",h="vote_pins--loadingAvatar--hq0Fh",g="vote_pins--loadingUserName--80x3W",f="vote_pins--voterListOverflowItem--V2jcD vote_pins--voterListItem--wa-M9",v="vote_pins--voterListOverflowIcon--xyXs6",E="vote_pins--voterListOverflowText--48DhR vote_pins--userName---6RMO text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",A="vote_pins--stampPreviewList--qlQDN",C="vote_pins--stampPreview--XkjWz",w="vote_pins--stampPreviewOverflow--QoTgf text--fontPos12--YsUAh text--_fontBase--QdLsd",y="vote_pins--offscreenMeasurementContainer--QYGnX"},255556:(e,t,n)=>{n.d(t,{j:()=>a});let a={library:new(n(531827)).MH}},458565:(e,t,n)=>{n.d(t,{$5:()=>g,E6:()=>p,d9:()=>m});var a=n(38580),o=n(106757),r=n(335682),i=n(529928),l=n(284111),s=n(582947);let c=(0,i.bt)(e=>e.multiplayer.allUsers);(0,a.eU)(e=>{let t=e(o.p9),n=e(c);if(t&&0!==n.length)return n.filter(e=>e.userID!==t.id)});let d=(0,i.bt)(e=>e.multiplayer.deviceNameFilter),m=(0,a.eU)(e=>{let t=e(c),n=e(d);return null!=e(r.yV)&&null!=n&&new Set(t.filter(e=>e.deviceName===n).map(e=>e.userID)).size>1}),u=(0,s.r1)("seen_spotlight_hint"),p=(0,l.Z1)(u,(e,t)=>{let n=t(c),a=t(d);if(t(h))return!1;let o=n.filter(e=>e.deviceName===a),r=Math.max(...Object.values(o).map(e=>e.joinedAtS))-300,i=new Set;for(let e of o)e.joinedAtS>=r&&i.add(e.userID);return!(i.size<5)&&!e}),h=(0,i.bt)(e=>{let t="fullscreen"===e.selectedView.view&&!e.mirror.appModel.showUi,n="prototype"===e.selectedView.view&&e.selectedView.hideUI;return t||n}),g=(0,i.bt)(e=>{let t="fullscreen"===e.selectedView.view&&e.mirror.appModel.showUi,n="prototype"===e.selectedView.view&&!e.selectedView.hideUI;return t||n})},634238:(e,t,n)=>{n.d(t,{NE:()=>l});var a=n(587670),o=n(288706),r=n(992271);let i=(0,n(674011).SG)(()=>a.Ez5.prototypingEditorState().activePrototypeDevice),l=(0,o.mg)(i,e=>(0,r.ln)(e.presetIdentifier))},512591:(e,t,n)=>{n.d(t,{z:()=>d});var a=n(411855),o=n(109388),r=n(629019),i=n.n(r),l=n(376485),s=n(808631),c=n(28752);function d(e){if(!e.dragState?.dragPosition||!e.dragState?.dragOffset)return null;let t=e.dragState.dragPosition.subtract(e.dragState.dragOffset),n=(0,l.ZQ)(e.dragState.draggingResource)?s.W:e.dragState.draggingResource.redirect_icon_url;return(0,o.createPortal)(a.createElement("img",{src:n,alt:e.dragState.draggingResource.name,className:i()(c.fe,{[c.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y},draggable:!1}),document.getElementById("fullscreen-root"))}},964156:(e,t,n)=>{n.d(t,{S:()=>u});var a=n(411855),o=n(109388),r=n(629019),i=n.n(r),l=n(128765),s=n(27703),c=n(882945),d=n(927625),m=n(28752);function u(e){let t=(0,l.fG)();if(!e.dragState?.dragPosition||!e.dragState?.dragOffset)return null;let n=e.dragState.draggingResource,r=e.dragState.dragPosition.subtract(e.dragState.dragOffset),{imageUrl:u,name:p,thumbnailIsSet:h,hubFileId:g,clientMeta:f,isWhiteboard:v,resizedThumbnailUrls:E}=t(n);return(0,o.createPortal)(a.createElement("div",{className:i()(m.y3,{[m.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:r.x,top:r.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y}},a.createElement(c.FK,{removeBorder:!0},a.createElement(d.Ho,{backgroundColor:(0,s.Cn)(f),image:u,isSet:h,isWhiteboard:v,hubFileId:g,alt:p,resizedThumbnailUrls:E}))),document.getElementById("fullscreen-root"))}},312167:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(964937),o=n(809831),r=n(894571),i=n(57150),l=n(867795),s=n(161405);function c(e){let t="whiteboard"===(0,o.lg)(),n=(0,s.F5)(),c=async a=>(e.insertAction(a),t&&(0,s.oM)({type:l.p.ORG_FACE_STAMPS,source:e.triggeredFrom,options:{...n,query:e.searchQuery}}),await Promise.resolve());return(0,r.t)(e,{insertAction:c,dragPreviewPointerPosition:i.N.RELATIVE,getDragPreviewSrc:()=>{let t=(0,a.F)(e.icon);return t.replace('<img src="',"").substring(0,t.replace('<img src="',"").indexOf('" '))},recordingKey:`insertable-facestamp-${e.resource.id}-${e.mini?"mini":"full"}`})}},662153:(e,t,n)=>{n.d(t,{c:()=>y});var a=n(188507),o=n(153234),r=n(738269),i=n(259927),l=n(802915),s=n(809831),c=n(780700),d=n(756085),m=n(269167),u=n(894571),p=n(57150),h=n(934802),g=n(556261),f=n(56099),v=n(272794),E=n(376485),A=n(867795),C=n(808631),w=n(161405);function y(e){let t=(0,g.yN)({migrationGroup:f.L.GROUP_1,component:"useInsertablePlugin",attribute:"currentOrgId",legacy:(e,t)=>t?.id??void 0,migrated:e=>e?.key.parentId??void 0}),n=(0,c.Gt)(e.resource.plugin_id,e.triggeredFrom),y=(0,c.dR)(e.resource.plugin_id,e.triggeredFrom),b="whiteboard"===(0,s.lg)(),_=(0,w.F5)(),I=(0,l.t)(e.resource.plugin_id,n,y),x=(0,a.wA)(),k=I.length>0,M=(0,d.cW)(),S=(0,m.EO)(M[e.resource.plugin_id]),T=(0,h.x)({isWidget:!1,id:e.resource.plugin_id}),{validatePublishedPluginInOrgAllowlist:D}=(0,d.j1)(e.resource.plugin_id);return(0,u.t)(e,{insertAction:t=>{if(e.showRequestFlow)return Promise.resolve();let a=D();if(!(0,E.ZQ)(e.resource)&&!a)return Promise.resolve();if(S)T();else{let{e:a}=t;k?x(r.j7({type:i.LO,data:{pluginId:e.resource.plugin_id,target:{top:a.clientY,bottom:a.clientY,right:a.clientX,left:a.clientX,width:0,height:0},triggeredFrom:e.triggeredFrom}})):(0,E.ZQ)(e.resource)?y():n()}return b&&(0,w.oM)({id:e.resource.plugin_id,type:A.p.PLUGINS,source:e.triggeredFrom,options:{..._,query:e.searchQuery}}),Promise.resolve()},dragPreviewPointerPosition:p.N.CENTERED,getDragPreviewSrc:()=>(0,E.ZQ)(e.resource)?C.W:e.resource.redirect_icon_url||"",onPointerDownCallback:()=>{e.showRequestFlow||(0,E.ZQ)(e.resource)||S||v.F.getAndCache(e.resource,t)},recordingKey:o.Pt("plugin",e.resource.plugin_id)})}},867272:(e,t,n)=>{n.d(t,{B:()=>u});var a=n(587670),o=n(153234),r=n(809831),i=n(777078),l=n(128765),s=n(894571),c=n(57150),d=n(867795),m=n(161405);function u(e){let{insertTemplate:t}=(0,i.Fz)(),n="whiteboard"===(0,r.lg)(),u=(0,m.F5)(),{primaryKey:p,imageUrl:h}=(0,l.fG)()(e.resource),g=async o=>{let{dropPosition:r,isClick:i}=o;return n&&(0,m.oM)({id:e.resource.template.id,type:d.p.TEMPLATES,source:e.triggeredFrom,options:{...u,query:e.searchQuery}}),await t({template:e.resource,templateInsertionDirection:i?a.hKj.RIGHT:a.hKj.CUSTOM_POSITION,templateCustomPosition:i?void 0:r,triggeredFrom:e.triggeredFrom})};return(0,s.t)(e,{insertAction:g,dragPreviewPointerPosition:c.N.RELATIVE,getDragPreviewSrc:()=>h||"",recordingKey:o.Pt("template",p)})}},247014:(e,t,n)=>{n.d(t,{Uz:()=>r,pE:()=>i,qj:()=>o});var a=n(634832),o=(e=>(e.FILE_COMMENT="file_comment",e.FILE_VIEW="file_view",e.FILE_EDIT="file_edit",e.FILE_COLLABORATION="file_collaboration",e))(o||{}),r=(e=>(e.VOTE_STARTED="vote_started",e.TIMER_STARTED="timer_started",e.SPOTLIGHT_STARTED="spotlight_started",e.AI_PROMPT_BUILDER="ai_prompt_builder",e.AI_SUMMARY="ai_summary",e.AI_CLUSTER="ai_cluster",e))(r||{});function i(e){if("file_collaboration"===e.activityUnitType)return{file_key:e.fileKey,activity_type:e.activityUnitType,event_data:{collaboration_type:e.collaborationType,num_people_in_file:e.numPeopleInFile}};(0,a.assertNever)(e.activityUnitType)}},746830:(e,t,n)=>{n.d(t,{F:()=>o});var a=n(547807);let o=new class{constructor(){this.GetUploadUrlsSchemaValidator=(0,a.vh)(),this.SaveWalkthroughMediaSchemaValidator=(0,a.vh)(),this.UpdateWalkthroughMediaPositionValidator=(0,a.vh)(),this.DeleteWalkthroughMediaValidator=(0,a.vh)()}getUploadUrls(e){return this.GetUploadUrlsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/walkthrough_media/${e}/upload_urls`))}saveWalkthroughMedia(e,t,n,a,o,r,i,l,s,c){return this.SaveWalkthroughMediaSchemaValidator.validate(async({xr:d})=>await d.post("/api/walkthrough_media",{file_key:e,file_version_id:t,user_media_content_path:a,position_info_content_path:n,title:o,page_id:r,position_x:i,position_y:l,audio_only:s,length_ms:c}))}updateWalkthroughMediaPosition(e,t,n){return this.UpdateWalkthroughMediaPositionValidator.validate(async({xr:a})=>await a.put(`/api/walkthrough_media/${e}`,{position_x:t,position_y:n}))}deleteWalkthroughMedia(e){return this.DeleteWalkthroughMediaValidator.validate(async({xr:t})=>await t.del(`/api/walkthrough_media/${e}`))}}},951840:(e,t,n)=>{n.d(t,{i:()=>r});var a=n(27087),o=n(247014);let r=new class{recordActivity(e){let t=(0,o.pE)(e);a.Ay.post("/api/workspace_activity",t)}}},70699:(e,t,n)=>{n.d(t,{Q:()=>L});var a=n(411855),o=n(188507),r=n(629019),i=n.n(r),l=n(91408),s=n(966712),c=n(554322),d=n(268537),m=n(564577),u=n(939863),p=n(67294),h=n(738269),g=n(801161),f=n(798099),v=n(226055),E=n(408405),A=n(85098),C=n(335682),w=n(860178),y=n(498606),b=n(298543),_=n(7959),I=n(27947),x=n(749283),k=n(928491),M=n(42296),S=n(847768),T=n(588930),D=n(837746),P=n(362679),B=n(13556);let N=(0,l.jz)(D.m52),R=(0,l.jz)(D.Ko3);var F=(e=>(e.CURRENT_USER="current_user",e.FILE_OWNER="file_owner",e))(F||{});function U(e){let{user:t,onClick:n,volumeIcon:r,containsCursor:l,secondaryActions:c,disableSpotlightAnimation:g}=e,v=(0,C.q5)(),E=(0,o.d4)(e=>e.multiplayer),x=(0,w.iZ)(),T=E.allUsers.length>1,D=x?.id===t.userID,[N,R]=a.useState(!1),F=a.useRef(null),U=(0,o.wA)(),O=a.createElement(k.Ro,{entity:{...t,id:t.userID},className:S.Fp,size:24,key:t.userID}),L=(0,s.kc)().file_view_history&&(0,A.Py)(t);(0,A.AD)(t)?O=a.createElement("span",{className:S.LH},a.createElement(I.vQ,{sessionID:t.sessionID,observingSessionID:E.observingSessionID,presenterSessionID:E.presenterSessionID??null,nominatedSessionID:E.sessionsNominatingCurrentUser.length>0?E.sessionID:null,user:t,showColorIndicators:T,horizontal:!0,disableSpotlightAnimation:g})):L&&(O=a.createElement("span",{className:S.LH},a.createElement("div",{className:M._L},a.createElement(p.H8,{user:{...t,id:t.userID}}))));let H=i()({[S.MO]:!0,[S.cJ]:!(0,s.kc)().file_view_history,[S.Vs]:(0,s.kc)().file_view_history,[S.Cu]:e.isCurrentUserHeaderRow,[S.BI]:e.isInListbox&&!L,[S.yH]:l&&!L,[S.UD]:L}),V=()=>D?"current_user":t.userID===v?.creatorId?"file_owner":null,Q=(0,s.kc)().file_view_history&&(0,A.Py)(t),z=a.createElement(_.fI,{className:S.Hl},O,a.createElement("span",{className:S.nP},a.createElement("span",{className:S.ko},a.createElement("span",{className:S.j7},Q?a.createElement(a.Fragment,null,a.createElement("span",{className:S.DL},t.name),L?a.createElement("span",{className:S.FH},a.createElement(m.h1,{date:t.viewedAt})):null):a.createElement(a.Fragment,null,a.createElement("span",{className:S.DL},t.name,(0,s.kc)().file_view_history&&(()=>{let e=V();return"current_user"===e?a.createElement("span",null," ",(0,u.tx)("collaboration.voice.you_lower_cased")):"file_owner"===e?a.createElement("span",null," ",(0,u.tx)("collaboration.voice.owner")):""})()),(0,s.kc)().file_view_history?l&&a.createElement("span",{className:S.FH},(0,u.tx)("collaboration.voice.click_to_follow")):(()=>{let e=V();return"current_user"===e?a.createElement("span",{className:S.xn},(0,u.tx)("collaboration.voice.you")):"file_owner"===e?a.createElement("span",{className:S.xn},(0,u.tx)("collaboration.voice.file_owner")):null})())),r&&a.createElement("span",{className:S.e6},r)),a.createElement("span",{className:S.vO},c&&c.length>0&&a.createElement("div",{onMouseUp:f.dG},a.createElement("div",{className:S.G7,ref:F},a.createElement(_.YW,{svg:P.A,fallbackSvg:B.A,isBackgroundTransparent:!1,selected:N,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,u.t)("fullscreen.toolbar.multiplayer.more_options"),className:i()(S.hv,{[S.VQ]:N}),onClick:e=>{e.stopPropagation(),R(!0)}})),(()=>{let e=F.current;if(N&&e){let t=c?.map(e=>a.createElement(d.c$,{onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick(t),R(!1),U(h.oB())},key:e.key},e.text));return a.createElement(b.Cf,{targetRect:e.getBoundingClientRect(),minWidth:160,closeDropdown:()=>{R(!1)},autoHeight:(0,s.kc)().file_view_history},t)}return a.createElement(a.Fragment,null)})()))));return n?a.createElement("button",{className:H,onClick:n,key:t.userID},z):a.createElement("div",{className:H,key:t.userID},z)}function O(e){let t=(0,o.d4)(e=>e.multiplayer),n=(0,o.d4)(e=>"prototype"===e.selectedView.view?e.prototype.showProgressBar:(0,E.T)(e?.progressBarState?.mode)),r=t.allUsers.length>1,l=(0,c.Av)(),s=(0,v.GS)(),{user:d,onClick:m,volumeIcon:h,disableSpotlightAnimation:g}=e,f=n?M.K$:"";if(!(0,A.AD)(d))return a.createElement("div",{className:i()(M.C7,f)},a.createElement(p.H8,{user:{...d,id:d.userID}}),h&&a.createElement("span",{className:T.Wh},h));{let n=`voice-avatar-session-${d.sessionID}`;return a.createElement("span",{"data-onboarding-key":e.onboardingKey,className:i()(T.R3,f)},m&&a.createElement("button",{className:T.XF,onClick:m,"data-tooltip-proxy-element-id":n,"aria-label":(0,u.t)("fullscreen.toolbar.multiplayer.follow_a_name",{name:d.name}),"data-fullscreen-intercept":!0}),a.createElement(I.vQ,{sessionID:d.sessionID,observingSessionID:t.observingSessionID,presenterSessionID:t.presenterSessionID??null,nominatedSessionID:t.sessionsNominatingCurrentUser.length>0?t.sessionID:null,user:d,showColorIndicators:r,tooltipProxyId:n,tooltipOffsetY:((s?R:l)-N)/2,disableSpotlightAnimation:g,hasBorder:e.hasBorder}),h&&a.createElement("span",{className:T.Wh},h))}}function L(e){let{user:t,onboardingKey:n,callMetadata:r,isOverflow:i,isCurrentUserHeaderRow:l,onUserClick:s,containsCursor:c,secondaryActions:d,disableSpotlightAnimation:m,hasBorder:u}=e,p=(0,o.wA)(),f=r&&a.createElement(x.i,{userId:t.userID,microphoneStyle:r.microphoneStyle,call:r.call,alwaysShowVoiceBars:i,volumeIconMutedState:i?x.S.DEFAULT:x.S.MINI}),v=s&&(e=>{e.stopPropagation(),e.preventDefault(),(0,A.AD)(t)&&(s(t),i?p(h.oB()):p(g.jD()))});return i||l?a.createElement(U,{user:t,volumeIcon:f,onClick:v,containsCursor:c,secondaryActions:d,disableSpotlightAnimation:m,isCurrentUserHeaderRow:l}):a.createElement(O,{user:t,onboardingKey:n,volumeIcon:f,onClick:v,disableSpotlightAnimation:m,hasBorder:u})}},141810:(e,t,n)=>{n.d(t,{w:()=>M});var a=n(411855),o=n(181912),r=n(320063),i=n(374626),l=n(251960),s=n(456104),c=n(458565),d=n(683694),m=n(582947),u=n(860178),p=n(945020),h=n(397065),g=n(218997),f=n(15839),v=n(463546),E=n(776250),A=n(511617),C=n(946689),w=n(939863);let y={SPOTLIGHT_GUIDE:"https://help.figma.com/hc/articles/5025214483351-Facilitate-meetings-with-spotlight",FOLLOW_GUIDE:"https://help.figma.com/hc/articles/360040322673-Follow-collaborators-in-a-file"};function b(e){return a.createElement("div",null,a.createElement("div",{className:"multiplayer_nux_modals--title--N0NZG text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.title),a.createElement("div",{className:"multiplayer_nux_modals--content--mROkG"},e.content),a.createElement("div",{className:"multiplayer_nux_modals--footerContainer--I-MS-"},a.createElement(C.vd,{className:"multiplayer_nux_modals--footerButton--TJL3G",onClick:e.primaryCTAOnClick},e.primaryCTA),a.createElement(C.tM,{onClick:e.secondaryCTAOnClick},e.secondaryCTA)))}function _({onDismissModal:e}){let t=(0,w.tx)("collaboration.spotlight.2_0.onboarding_spotlight.description_with_spotlight_arg",{spotlightMeButtonText:a.createElement("b",null,(0,w.tx)("collaboration.spotlight.tooltip.spotlight_me"))});return a.createElement(b,{title:(0,w.tx)("collaboration.spotlight.onboarding_spotlight.title"),content:t,secondaryCTA:(0,w.tx)("collaboration.voice.learn_more"),secondaryCTAOnClick:()=>(0,A.FJ)(y.SPOTLIGHT_GUIDE,"_blank","noopener"),primaryCTA:(0,w.tx)("collaboration.spotlight.onboarding.next"),primaryCTAOnClick:()=>{e(),(0,E.sx)("Context Viewed",{name:"should-close-open-spotlight-nux"})}})}function I({onDismissModal:e}){return a.createElement(b,{title:(0,w.tx)("collaboration.spotlight.onboarding_observation.title"),content:(0,w.tx)("collaboration.spotlight.onboarding_observation.description"),secondaryCTA:(0,w.tx)("collaboration.voice.learn_more"),secondaryCTAOnClick:()=>(0,A.FJ)(y.FOLLOW_GUIDE,"_blank","noopener"),primaryCTA:(0,w.tx)("collaboration.spotlight.onboarding.done"),primaryCTAOnClick:()=>{e()}})}let x="seen_synchronous_collaboration_onboarding",k=(0,m.r1)(x);function M(){let e=(0,i.md)(c.d9),t=(0,i.md)(d.PD),n=(0,i.md)(c.$5),m=(0,i.md)(k),E=(0,u.J$)(),A=(0,o.A)().subtract(7,"day").isBefore((0,o.A)(E)),C=(0,s.e)({overlay:v.aI5,priority:h.N.DEFAULT_MODAL},[t,m]),w=(0,s.e)({overlay:v.ar0,priority:h.N.DEFAULT_MODAL}),y=(0,a.useCallback)(()=>{e&&n&&!A&&C.show({canShow:(e,t)=>!e&&!t})},[e,n,A,C]),b=(0,a.useCallback)(()=>{w.show()},[w]),M=(0,a.useCallback)(()=>{C.complete(),b()},[C,b]);return(0,r.h)(y),(0,l.E)(C.uniqueId,p.M8,y),a.createElement(a.Fragment,null,a.createElement(g.h,{element:({onClickPrimaryCta:e})=>a.createElement(_,{onDismissModal:e}),isShowing:C.isShowing,modalType:f.q3.WALK_THROUGH,onboardingKey:"multiplayer-spotlight-nux-key",onClickPrimaryCta:M,onClose:C.complete,onManualDismiss:C.complete,shouldDismissWhenLostDOMTarget:!0,trackingContextName:"multiplayer_onboarding",userFlagOnShow:x,width:268}),a.createElement(g.h,{element:({dismissModal:e})=>a.createElement(I,{onDismissModal:e}),isShowing:w.isShowing,modalType:f.q3.WALK_THROUGH,onboardingKey:"multiplayer-observation-nux-key",onClickPrimaryCta:w.complete,onClose:w.complete,onManualDismiss:w.complete,shouldDismissWhenLostDOMTarget:!0,trackingContextName:"multiplayer_observation_onboarding",userFlagOnShow:x,width:268}))}},754407:(e,t,n)=>{n.d(t,{b:()=>C});var a=n(411855),o=n(320063),r=n(374626),i=n(939863),l=n(256975),s=n(251960),c=n(456104),d=n(458565),m=n(683694),u=n(563835),p=n(945020),h=n(397065),g=n(218997),f=n(507956),v=n(15839),E=n(463546);let A=()=>(0,i.t)("collaboration.spotlight.nudge_spotlight.title");function C(){let e=(0,r.md)(m.PD),t=(0,r.md)(d.E6),n=(0,f.ks)(),i=(0,l._I)(),C=n&&!i,w=(0,c.e)({overlay:E.hPP,priority:h.N.SECONDARY_MODAL},[e,t]),y=(0,a.useCallback)(()=>{C||w.show({canShow:(e,t)=>!e&&t})},[C,w]);(0,o.h)(()=>{y()});let b=(0,a.useCallback)(()=>{w.isShowing||y()},[w.isShowing,y]);return(0,s.E)(w.uniqueId,p.M8,b),a.createElement(g.h,{isShowing:w.isShowing,modalType:v.q3.ANNOUNCEMENT_POINTER,trackingContextName:"multiplayer_spotlight_nudge",element:u._,title:A,userFlagOnShow:"seen_spotlight_hint",onboardingKey:"multiplayer-spotlight-nux-key",onClickPrimaryCta:w.complete,onClose:w.complete,onManualDismiss:w.complete})}},745968:(e,t,n)=>{n.d(t,{l:()=>s});var a=n(411855),o=n(629019),r=n.n(o),i=n(120825);let l=[i.Hi,i.u$,i.BN,i.uu,i.B8];function s(e){let[t,n]=(0,a.useState)(!0),[o,s]=(0,a.useState)(1),c=(0,a.useRef)(null),d=0===o;(0,a.useEffect)(()=>{d&&n(!1)},[d]),(0,a.useEffect)(()=>{s(e=>Math.min(4,e+1)),n(!1);let e=requestAnimationFrame(()=>{n(!0),e=void 0});return()=>{void 0!==e&&cancelAnimationFrame(e)}},e);let m=(0,a.useCallback)(e=>{let t=()=>{s(e=>Math.max(e-1,0))};c.current?.removeEventListener("transitionend",t),e?.addEventListener("transitionend",t),c.current=e},[]);return[r()(l[t?o-1:o],t&&i._K),m,c]}},839653:(e,t,n)=>{n.d(t,{E:()=>s,o:()=>l});var a=n(96328),o=n(939863),r=n(448211),i=n(913964);function l(e){let t=[(0,o.t)("fullscreen.accessibility_dom.comment_pin")];return e.setSize>1&&t.push((0,o.t)("fullscreen.accessibility_dom.pos_in_set",{i:e.setPos,size:e.setSize})),(0,a.Yx)(t,"unit")}function s(e){let t=[];for(let[n,a]of(e.shapeType&&t.push((0,r.ZG)(e.shapeType)),"img"===e.ariaRole?e.accessibleLabel?t.push(e.accessibleLabel):t.push((0,o.t)("fullscreen.accessibility_dom.unlabeled_image")):"MEDIA"===e.type?e.accessibleLabel?t.push(e.accessibleLabel):t.push((0,o.t)("fullscreen.accessibility_dom.unlabeled_video")):t.push((0,i.r)(e.type,e.editorType)),("SECTION"===e.type||"INSTANCE"===e.type||"FRAME"===e.type)&&e.name&&t.push(e.name),e.contentsHidden&&t.push((0,o.t)("fullscreen.accessibility.contents_hidden")),e.setData.size>1&&t.push((0,o.t)("fullscreen.accessibility_dom.pos_in_set",{i:e.setData.i,size:e.setData.size})),e.numChildren&&e.numChildren>0&&t.push((0,o.t)("fullscreen.accessibility_dom.num_children",{n:e.numChildren})),Object.entries(e.stampFrequencies??{})))t.push((0,o.t)("fullscreen.accessibility_dom.num_stamps",{count:a,name:n}));return(0,a.Yx)(t,"unit")}},951034:(e,t,n)=>{n.d(t,{X:()=>I});var a=n(411855),o=n(752795),r=n(966712),i=n(241395),l=n(601607),s=n(911259),c=n(517911),d=n(448211),m=n(188507),u=n(75395),p=n(629019),h=n.n(p),g=n(37943),f=n(745968),v=n(839653),E=n(120825);function A({onShowPin:e,onShowThread:t,threadId:n,isDebugMode:o,setPos:r,setSize:i,pinStyles:l}){let[s,c,d]=(0,f.l)(o?[n]:[]),p=(0,a.useMemo)(()=>(0,v.o)({setPos:r,setSize:i}),[r,i]),A=(0,m.wA)(),C=(0,m.d4)(e=>e.screenreader.lastCreatedCommentId);return(0,a.useLayoutEffect)(()=>{C&&n===C&&(d?.current?.focus(),A((0,g.zq)({lastCreatedCommentId:null})))},[C,n,A,d]),a.createElement(u.E,{htmlAttributes:{id:`accessibility-comment-pin-${n}`,role:"button",tabIndex:-1,onFocus:e},ref:c,style:l,className:h()(E.rH,s),"aria-label":p,onClick:t,children:void 0})}var C=n(975350),w=n(433861),y=n(514736),b=n(440535);function _(e,t){let n=Math.min(e.length,t.length);for(let a=0;a<n;a++){if(e[a]<t[a])return -1;if(e[a]>t[a])return 1}return e.length-t.length}function I({isDebugMode:e,threads:t,navigate:n,parentTransformProperties:u,intermediateTransformProperties:p,parentAbsoluteTransform:h,parentDimensions:g}){let f=function(e){let t=(0,y.s)(),n=(0,a.useContext)(w.kw),o=(0,m.wA)();return(0,a.useCallback)(a=>{o((0,C.l5)({thread:a,viewport:n,config:t,navigate:e}))},[n,t,e,o])}(n),v=function(e){let t=(0,y.s)(),n=(0,a.useContext)(w.kw),o=(0,m.wA)();return(0,a.useCallback)(a=>{o((0,C.At)({thread:a,viewport:n,config:t,source:b.Eq.accessibilityCommentPin,navigate:e}))},[n,t,e,o])}(n),E=(0,a.useMemo)(()=>(function(e){let t=[...new Set((e??[])?.map(e=>e.comments[0].client_meta?.stable_path).filter(o.isNotNullish))];return t.sort(_),t})(t),[t]),I=(0,l.wA)((e,t)=>{let n=JSON.parse(t),a=new Map;for(let t of n){let n=e.getFromStablePath(t);n&&a.set(JSON.stringify(t),n.absoluteBoundingBox)}return a},JSON.stringify(E));return a.createElement(a.Fragment,null,t?.map((n,o)=>{let l;if(r.kc().a11y_dom_css_positioning){let e=n.comments[0].client_meta,t=I.get(JSON.stringify(e?.stable_path));if(e&&t){let n=e.node_offset??{x:0,y:0},a=e.selection_box_anchor??{x:24,y:24},o=i.s.identity();o.translate(t.x,t.y),o.translate(n.x,n.y),l=d.EO(a,o.toFigMatrix(),g,h)}else l={position:"absolute",width:1,height:1}}else{let e=n.comments[0].client_meta?.node_offset??{x:0,y:0},t=c.c4(n.comments),a=s.XC.getPinSize(t.length),o={x:e.x+(p?.x??0),y:e.y+(p?.y??0),width:a.width,height:a.height,angle:0};l=d.l0(o,u)}return a.createElement(A,{key:n.id,threadId:n.id,isDebugMode:e,setPos:o+1,setSize:t.length,onShowPin:()=>f(n),onShowThread:()=>v(n),pinStyles:l})}))}},610171:(e,t,n)=>{n.d(t,{x:()=>r});var a=n(44948),o=n(103907);function r(e,t=!0){let{data:n,status:i}=(0,o.wq)();return(0,a.k9)(()=>{if("loaded"===i)return t?n.filter(t=>t.comments[0]?.client_meta?.node_id===e):n.filter(t=>t.comments[0]?.client_meta?.node_id===e&&t.comments.length>0&&!t.comments[0].resolved_at)},[n,e,i,t])}},918379:(e,t,n)=>{n.d(t,{IN:()=>K,xw:()=>j,ez:()=>W});var a=n(411855),o=n(188507),r=n(634832),i=n(587670),l=n(534611),s=n(707458),c=n(138020),d=n(220848),m=n.n(d),u=n(126049),p=n(939683),h=n(358145),g=n(572206),f=n(975350),v=n(738269),E=n(103907),A=n(259927),C=n(140908),w=n(138369),y=n(617524),b=n(809831),_=n(654034),I=n(457630),x=n(737499),k=n(860178),M=n(100197),S=n(433861),T=n(440535),D=n(239671),P=n(514736),B=n(330633),N=n(55786),R=n(911259),F=n(787672),U=n(984871),O=n(517911),L=n(947894),H=n(231072),V=n(593392),Q=(e=>(e[e.Gradual=0]="Gradual",e[e.Jump=1]="Jump",e))(Q||{});let z=R.XC.getPinSize(3),Y=Math.max(N.u5,z.width,z.height),G=e=>10*Math.round(100*e/10);function W(e,t,n){let a=n,o=t*n,r=Y+(0,B.H)(e,n);return o<3*r&&(a=3*r*n/o),a}function j(e,t,n,a,o){if("page"===t.clusterBy){let t=m()(a,e=>Math.max(Math.abs(e.x-n.x),Math.abs(e.y-n.y))),r=Math.abs(t.x-n.x),i=Math.abs(t.y-n.y),l=r>i?"width":"height",s=Math.max(r,i),c=e.clusterClickResultViewportPercentage/100,d=o[l]*c/(2*s),u=W(e,s,d);return u/o.zoomScale<1.5&&(u*=1.5),Math.min(u,e.minZoomPercentage/100+.5)}if("slide"===t.clusterBy)return Math.round(26)/100;(0,r.assertNever)(t.clusterBy)}let X=[i.NLJ.COMMENTS,i.NLJ.SELECT,i.NLJ.SCALE,i.NLJ.HAND,i.NLJ.TYPE],q=(e,t,n,a,o)=>{let{threads:i}=e,c=i.map(e=>a(e)),d=i.map(e=>{let t=e.comments[0].client_meta;return t?.in_frame?t.node_id:void 0}),m=new Map;for(let e of c)for(let t of e.avatars)m.has(t.avatar_user_id)?(m.get(t.avatar_user_id).num_unread_comments+=t.num_unread_comments,m.get(t.avatar_user_id).num_comments+=t.num_comments):m.set(t.avatar_user_id,t);let u={...e},p=1===i.length;if("page"===n.clusterBy)u=e;else if("slide"===n.clusterBy){let e=i[0].comments.length>0?i[0].comments[0].client_meta?.node_id:void 0;if(e){let t=s.q.instance.get(e),n=t?t.findContainingSlideOrSelf():l.AD;if(n&&n!==l.AD){let e=s.q.instance.get(n);u.x=e?.absoluteBoundingBox.x+e?.absoluteBoundingBox.w/2,u.y=e?.absoluteBoundingBox.y+e?.absoluteBoundingBox.h/2}}t.zoomScale<.25&&(p=!1)}else(0,r.assertNever)(n.clusterBy);return{id:p?i[0].id:(0,O.Ao)(e,i.length),x:e.x,y:e.y,pins:c,isUnread:c.some(e=>e.isUnread),avatarMap:m,onClick:o(u,c),anchoredNode:d.every(e=>e===d[0])?d[0]:void 0,isPinnedToFile:c.some(e=>e.isPinnedToFile),isSinglePin:p}};"customElements"in window&&customElements.define(H.Z.desiredElementName,H.Z);let Z=a.memo(function(e){let t=!!e.activeThread||e.threads.length>0,n=(0,k.iZ)(),d=(0,P.s)(),m=(0,U.Z5)(),N=(0,o.wA)(),H=a.useContext(S.kw),Q=a.useRef(null),z=(0,o.d4)(e=>e.mirror.appModel.currentTool),Y=(0,M.ut)(i.Ez5?.editorState().handToolTemporarilyEnabled,!1),W=(0,x.BI)(),Z=e.activeThread?.id===T.hm,K=Z?null:e.activeThread?.id||null,J=(0,o.d4)(e=>e.comments.emphasizedPinIds),{zoomScale:$,deltaOffsetX:ee,deltaOffsetY:et,deltaZoomScale:en}=(0,I.PD)({subscribeToUpdates_expensive:t}),{requestToDeselectCommentPin:ea}=e,[eo,er]=a.useState(!1),ei=(0,E.qN)(),el=(0,b.my)()===D.nT.Design,es=(0,w.Kf)({isDesign:el,isUnauth:!n}),ec=(0,y.EO)(),ed=(0,o.d4)(e=>![i.m1T.DESIGN_LAYOUT,i.m1T.WHITEBOARD_LAYOUT,i.m1T.HISTORY,i.m1T.PREVIEW,i.m1T.COMMENTS,i.m1T.DEV_HANDOFF,i.m1T.SLIDE_LAYOUT].includes(e.mirror.appModel.activeCanvasEditModeType)||e.mirror.appModel.activeUserAction!==i.QOV.DEFAULT)&&(!W||W?.shouldOptimizeForIpadApp&&W?.shouldFadeCommentsDuringEdit)||z===i.NLJ.MULTISELECT,[em,eu]=a.useState({viewport:H.getViewportInfo(),hasJumped:!1}),ep=a.useRef(e.threads);a.useEffect(()=>{ep.current=e.threads},[e.threads]);let eh=a.useCallback(e=>ep.current?.find(t=>t.id===e)||null,[ep]),eg=(0,o.d4)(e=>e.mirror.appModel.activeUserAction);a.useEffect(()=>{let e=Q.current;e&&(e.shouldDisablePointerEvents=!es()&&d?.disableCommentsWhenHandToolEnabled&&z===i.NLJ.HAND||Y||void 0!==eg&&eg!==i.QOV.DEFAULT||z===i.NLJ.MULTISELECT)},[Q,z,Y,eg,d?.disableCommentsWhenHandToolEnabled,es]);let ef=e.dragDisabledOverride||!X.includes(z),ev=(0,L.B)(eh,e.pageId,e.setClientMeta,ef,e.requestToSelectCommentPin,e.isPinned),eE=(0,L.x)(ef),eA=a.useMemo(()=>new Set(e.threads.filter(e=>eE(e)).map(e=>e.id)),[eE,e.threads]),eC=a.useCallback(e=>{N(f.wg({threadId:e}));let t=eh(e);t&&H.setHovering(t.canvasPosition)},[H,N,eh]),ew=a.useCallback(e=>{N(f.RP({threadId:e})),H.setHovering(null)},[H,N]),ey=(0,p.am)(),eb=a.useCallback((e,t)=>es()?()=>ec("COMMENT_PIN_CLICK"):()=>{ey("Comment Cluster Clicked",{clusterSize:t.length,commentThreadIds:t.map(e=>e.id)});let n=j(m,d,e,t,H.getViewportInfo());H.navigateTo(e,n),ea&&ea()},[m,d,H,ey,ea,es,ec]),e_=a.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation();let n=eh(e);if(!n)return;let a=H.getViewportInfo(),o=Q.current.getPinViewportRect(n.id),r=(0,I.Z0)(a,o),i={x:r.x+o.height/2,y:r.y-o.width/2,height:0,width:0},l=(0,I.HD)(i,a);N(v.j7({type:A.Z7,data:{thread:n,pinClientRect:l}}))},[N,H,eh]),eI=Q.current,ex=(0,I.ni)(),ek=a.useCallback(e=>{eI?.onViewportUpdate(e)},[eI]);a.useEffect(()=>{t&&ek(H.getViewportInfo())},[ek,t,H]),(0,I.D6)({subscribeToUpdates_expensive:t},ek),a.useEffect(()=>{eI&&(eI.bounds={min:{x:ex.x,y:ex.y},max:{x:ex.x+ex.width,y:ex.y+ex.height}},eI.onElementClicked=ev.onPinClicked,eI.onElementDragEnd=ev.onDragEnd,eI.onElementDragMove=ev.onDragUpdate,eI.onElementDragStart=ev.onDragStart,eI.onElementContextMenu=e_)},[e_,eI,ev,ex]);let eM=a.useCallback(e=>{let t;let a=(0,O.c4)(e.comments),o=e.comments.slice(1).reduce((e,t)=>t.isUnread?e+1:e,0);if(e.boundingBoxAnchorCanvasPosition)t=e.boundingBoxAnchorCanvasPosition;else if(e.comments[0].client_meta?.selection_box_anchor&&(t=e.comments[0].client_meta.selection_box_anchor,e.comments[0].client_meta?.in_frame)){let n=e.comments[0].client_meta,a=g.Mi.subtract(t,n);t=g.Mi.add(e.canvasPosition,a)}let i=!!e.isPendingFromSinatra,l={id:e.id,x:e.canvasPosition.x,y:e.canvasPosition.y,isOurs:e.comments[0].user_id===n?.id,pending:i,avatars:a,createdAt:new Date(Date.parse(e.comments[0].created_at)),onMouseEnter:()=>eC(e.id),onMouseLeave:()=>ew(e.id),previewMessageMeta:e.comments[0].message_meta,isUnread:e.comments[0].isUnread||o>0,numUnreadReplies:o,isDraggable:eA.has(e.id)&&!e.boundingBoxAnchorCanvasPosition,isResolved:!!e.comments[0].resolved_at,label:e.comments[0].order_id||"",updatedAt:e.comments[e.comments.length-1].created_at,selectionBoxAnchor:t,otherBoundingBoxes:e.otherBoundingBoxes,numAttachments:e.comments.map(e=>e.attachments?.length||0).reduce((e,t)=>e+t,0),isPinnedToFile:(0,C.U6)()?!!e.commentPin:void 0};return e.sidebarItemType===T.kT.COMMENT_THREAD?{...l,type:T.kT.COMMENT_THREAD}:e.sidebarItemType===T.kT.WALKTHROUGH_MEDIA?{...l,type:T.kT.WALKTHROUGH_MEDIA,lengthMs:e.walkthrough.meta.lengthMs.status===c.tT.Loaded?e.walkthrough.meta.lengthMs.data:0}:e.sidebarItemType===T.kT.FEED_POST?{...l,type:T.kT.FEED_POST,feedPostTitle:e.feedPostTitle,pinVerticalStagger:e.pinVerticalStagger}:void(0,r.assertNever)(e)},[n,eA,eC,ew]),eS=a.useMemo(()=>e.threads.reduce((e,t)=>{let{canvasPosition:n}=t;return n&&e.push({...t,canvasPosition:n}),e},[]),[e.threads]),[eT,eD]=a.useState(new Map),eP=a.useCallback((e,t)=>{eD(n=>new Map(n.set(e,t)))},[]),eB=(0,h.ZC)(eS),eN=eS!==eB&&void 0!==eB;a.useEffect(()=>{eN&&eD(new Map)},[eN,eS]);let eR=(0,h.ZC)(ei),[eF,eU]=a.useState(()=>{if(ei)return(0,_.Zz)(e.threads)});a.useEffect(()=>{void 0===eF&&!eR&&ei&&(0,_.Zz)(e.threads)&&eU(!0)},[eR,ei,e.threads,eF]),a.useEffect(()=>{eN&&eF&&(e.threads.some(e=>null!=e.commentPin&&e.comments.some(e=>e.isUnread))||eU(!1))},[eF,eN,e.threads]);let eO=a.useCallback((e,t)=>{let n=new Set(e.map(e=>e.id)),a=G(t.zoomScale),o=eT.get(a);if(o){let e=o.map(e=>q(e,t,d,eM,eb));return new F.n(e,n,t.zoomScale,eF)}{eP(a,o=(0,B.g)(e,t,m));let r=o.map(e=>q(e,t,d,eM,eb));return new F.n(r,n,t.zoomScale,eF)}},[eT,d,eF,eM,eb,m,eP]),eL=a.useCallback((e,t)=>{let n=[],a=new Set(e.map(e=>e.id));if(t.zoomScale>=.25){if(eT.get(100))n=eT.get(100);else{for(let t of e)n.push({x:t.canvasPosition.x,y:t.canvasPosition.y,threads:[t]});eT.set(100,n),eD(eT)}}else if(t.zoomScale<.25&&e.length>0){if(eT.get(0))n=eT.get(0);else{let t=function(e){let t=new Map;for(let n of e){let e=n.comments.length>0?n.comments[0].client_meta?.node_id:void 0;if(e){let a=s.q.instance.get(e),o=a?a.findContainingSlideOrSelf():l.AD;o&&o!==l.AD?t.has(o)?t.get(o).push(n):t.set(o,[n]):t.has(l.AD)?t.get(l.AD).push(n):t.set(l.AD,[n])}}return t}(e);for(let e of t.keys()){let a=t.get(e),o=s.q.instance.get(e),r={x:o?.absoluteRenderBounds.x+o?.absoluteRenderBounds.w,y:o?.absoluteRenderBounds.y,threads:a};n.push(r)}eT.set(0,n),eD(eT)}}let o=n.map(e=>q(e,t,d,eM,eb));return new F.n(o,a,t.zoomScale)},[eT,d,eM,eb]),eH=a.useCallback(e=>{eu({viewport:H.getViewportInfo(),hasJumped:1===e})},[H]),eV=(0,u.A)(eH,m.rebuildClustersZoomDelay),eQ=a.useMemo(()=>{let e;return"page"===d.clusterBy?e=eO(eS,em.viewport):"slide"===d.clusterBy?e=eL(eS,em.viewport):(0,r.assertNever)(d.clusterBy),e.applyInstant=em.hasJumped,e},[eS,em,d.clusterBy,eL,eO]);a.useEffect(()=>{let e=em.viewport.zoomScale;if($===e)return;let t=Q.current;e>$&&t&&(t.isZoomingOut=!0);let{width:n,height:a}=H.getViewportInfo();Math.abs(en)/$>.45||Math.abs(ee)/n>.95||Math.abs(et)/a>.95?eH(1):eV(0)},[H,en,ee,et,m.rebuildClustersZoomDelay,em.viewport,$,eI,eV,eH]);let ez=a.useCallback(e=>{er(null!=e),Q.current=e},[]);a.useEffect(()=>{if(Q.current){let e=Q.current;if(eo)e.data={clusters:eQ,selectedPinId:K,emphasizedPinIds:J,dimUnselectedPins:!!ed};else{e.wrapperOffsetFn=e=>H.getCommentsWrapperOffset(e);let t=H.getViewportInfo();e.initialViewport=t,e.data={clusters:eQ,selectedPinId:K,emphasizedPinIds:J,dimUnselectedPins:!!ed},e.clientConfig=d}}},[H,K,J,eo,eQ,d,ed]);let eY=!!e.activeThread,eG=e.activeThread?(0,O.c4)(e.activeThread.comments).length:1,{setActivePinSize:eW}=e;return a.useEffect(()=>{if(!eY){eW(null);return}if(Z){let e=R.XC.getPinSize(1);eW({height:e.height,width:e.width});return}eW({width:R.XC.getPinSize(eG).width,height:0})},[eW,eY,Z,eG]),a.createElement(V.p,null,a.createElement("clustered-pins",{ref:ez}))}),K=a.memo(function(e){return a.createElement(Z,{activeThread:e.activeThread,setActivePinSize:e.setActivePinSize,threads:e.threads,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,pageId:e.pageId,setClientMeta:e.setClientMeta,isCommunity:e.isCommunity,requestToSelectCommentPin:e.requestToSelectCommentPin,requestToDeselectCommentPin:e.requestToDeselectCommentPin,dragDisabledOverride:e.dragDisabledOverride,isPinned:e.isPinned,key:e.pageId})})},787672:(e,t,n)=>{n.d(t,{n:()=>a});class a{constructor(e,t,n,a){this._cached_all=null,this.applyInstant=!1,this.minimizeUnpinned=!1,this.clusters=e.reduce((e,t)=>(e[t.id]=t,e),{}),this.order=e.map(e=>e.id),this.leafNodes=t;let o={};a&&(this.minimizeUnpinned=!0),e.forEach(e=>{e.pins.forEach(t=>{o[t.id]=e.id})}),this.hierarchy=o,this.zoomScale=n}get length(){return this.order.length}all(){return this._cached_all||(this._cached_all=this.order.map(e=>this.clusters[e])),this._cached_all}getParentOf(e){let t=this.hierarchy[e];return t&&this.clusters[t]||null}}},947894:(e,t,n)=>{n.d(t,{B:()=>x,x:()=>_});var a=n(411855),o=n(188507),r=n(609494),i=n(572206),l=n(975350),s=n(103907),c=n(138369),d=n(617524),m=n(809831),u=n(654034),p=n(862442),h=n(457630),g=n(335682),f=n(860178),v=n(433861),E=n(440535),A=n(239671),C=n(514736),w=n(697373),y=n(911259),b=n(517911);function _(e){let t=(0,f.TA)(),n=g.q5()?.canEdit;return a.useCallback(a=>!!(!0!==e&&(0,E.b7)(a.sidebarItemType))&&(!!n||a.comments[0].user_id===t),[e,t,n])}function I(e,t){let n=a.useContext(v.kw);return a.useCallback(a=>{let o=e(a.id);if(!o||!o.canvasPosition)return;let r=n.getViewportInfo(),l=(0,h.Z0)(r,o.canvasPosition),s=i.Mi.subtract(l,a.offset);t((0,h.$$)(r,s),o,r)},[e,t,n])}function x(e,t,n,g,E,_){let x=a.useContext(v.kw),k=(0,o.wA)(),M=x.getCommentDestinationForCanvasPosition,S=(0,w.fG)(),T=(0,w.pC)(),D=(0,w.gu)(),P=x.getValidCommentsRect,B=a.useCallback(e=>{x.setHovering(e)},[x]),N=I(e,B),R=I(e,a.useCallback((e,n)=>{if(n.comments[0]?.client_meta?.selection_box_anchor){let a=S(e,M(e,t)?.nodeId);if(a){let e=(0,r.pV)(n.comments[0].client_meta.selection_box_anchor,a);if(e.x!==n.comments[0].client_meta.selection_box_anchor.x||e.y!==n.comments[0].client_meta.selection_box_anchor.y){let t={...n.comments[0].client_meta};t.selection_box_anchor=e,k(l.hY({thread:n,clientMeta:t}))}}}B(e)},[t,S,M,k,B])),F=I(e,a.useCallback((e,a,o)=>{let s;let c=(0,h.Z0)(o,e);if(!(0,u.rN)(c,P()))return;if(T(e)){k(l.UU()),D(),B(null);return}let d=M(e,t,!1),m={x:e.x,y:e.y,node_id:d?.nodeId,node_offset:d?.nodeOffset,viewport:o,page_id:t,in_frame:d?.inFrame,selection_box_anchor:a.comments[0].client_meta?.selection_box_anchor,stable_path:d?.stablePath};if(a.comments[0].client_meta?.selection_box_anchor){if(a.comments[0].client_meta.in_frame){let t=a.comments[0].client_meta,n=a.comments[0].client_meta.selection_box_anchor,o=i.Mi.subtract(n,t),r=a.canvasPosition;if(d?.inFrame){let t=i.Mi.subtract(r,e);s=i.Mi.add(i.Mi.add(e,o),t)}else s=i.Mi.add(o,r)}else s=a.comments[0].client_meta?.selection_box_anchor;let t=S(e,d?.nodeId);t&&(s=(0,r.pV)(s,t))}m.selection_box_anchor=s,n({thread:a,clientMeta:m}),B(null)},[t,n,k,M,S,T,D,P,B])),U=function(e,t,n){let r=(0,o.wA)(),i=a.useContext(v.kw),u=(0,s.I_)(),g=(0,C.s)(),E=(0,p.Z)("comments_navigate"),w=(0,f.iZ)(),_=(0,m.my)()===A.nT.Design,I=(0,c.Kf)({isDesign:_,isUnauth:!w}),x=(0,d.EO)();return a.useCallback(a=>{if(I()){x("COMMENT_PIN_CLICK");return}let o=e(a);if(o){if(t){if(!o.isPendingFromSinatra&&o.canvasPosition){let e=(0,h.Z0)(i.getViewportInfo(),o.canvasPosition),n=(0,b.c4)(o.comments).length,a=y.XC.getPinSize(n);t(o.id,{x:e.x,y:e.y,width:1.15*a.width,height:1.15*a.height})}}else r(l.bB({receiptsAPI:u.commentReceipts,viewport:i,thread:o,skipDeactivatingExistingActiveComment:n,config:g,navigate:E}))}},[u,r,e,i,t,n,g,E,I,x])}(e,E,_);return a.useMemo(()=>({onDragEnd:F,onPinClicked:U,onDragUpdate:R,onDragStart:N}),[N,F,U,R])}},385648:(e,t,n)=>{n.d(t,{B:()=>tS});var a=n(411855),o=n(188507),r=n(520411),i=n(135876),l=n(901536),s=n(939863),c=n(975350),d=n(672517),m=n(138369),u=n(809831),p=n(763223),h=n(356390),g=n(373119),f=n(29680),v=n(860178),E=n(239671),A=n(143678),C=n(984871),w=n(697373),y=n(91425),b=n(70575),_=n(152811),I=n(729064),x=n(560945),k=n(355819),M=n(226055),S=n(797539),T=n(358145),D=n(316082),P=n(153234),B=n(634832);function N(e){let t=a.useRef(null),n=(0,x.w)(t)??x.c,o=function(e){switch(e.display){case"inline-flex":return e.selected?"card--selectedCard---f8bk card--_card--xs0Vl":"card--card---tdpz card--_card--xs0Vl";case"flex":return e.selected?"card--flexSelectedCard---zq1t card--selectedCard---f8bk card--_card--xs0Vl":"card--flexCard--i3MFT card--card---tdpz card--_card--xs0Vl";default:(0,B.assertNever)(e.display)}}(e);return a.createElement("div",{className:"card--container--aao5L"},a.createElement("button",{"aria-label":e.ariaLabel,style:{width:n.width,height:n.height,borderRadius:e.borderRadius},className:"card--keyboardFocusableCard--rZ7LL",onClick:e.onClick,onFocus:e.onFocus,onBlur:e.onBlur}),a.createElement("div",{ref:t,className:o,role:"none",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},e.children))}var R=n(617524),F=n(335682),U=n(440535),O=n(360163),L=n(841368),H=n(118786),V=n(460869),Q=n(16633),z=n(629019),Y=n.n(z),G=n(609494),W=n(163023),j=n(46481),X=n(498606),q=n(400333),Z=n(928491),K=n(896528);let J="comment_avatar_list--avatarListElement--7ghSl",$=a.memo(function(e){let{userId:t,imgUrl:n,handle:o}=e,r=a.useMemo(()=>({id:t,img_url:n,handle:o}),[t,n,o]);return a.createElement("div",{className:J},a.createElement(Z.Ro,{size:24,entity:r,className:"comment_avatar_list--commentAvatar--LwAuB"}))});function ee(e){let{avatars:t,maxAvatarsShown:n}=e,o=a.useMemo(()=>t.slice(0,n-1),[t,n]),r=t.length===n,i=t.length>e.maxAvatarsShown,l=t[e.maxAvatarsShown-1];return a.createElement("div",{className:e.grayscale?"comment_avatar_list--avatarListGrayscale--TQPH8 comment_avatar_list--avatarList--ogW8K":"comment_avatar_list--avatarList--ogW8K"},o.map(e=>a.createElement($,{key:e.avatar_user_id,userId:e.avatar_user_id,imgUrl:e.avatar_url,handle:e.avatar_user_handle})),r&&l&&a.createElement($,{key:l.avatar_user_id,userId:l.avatar_user_id,imgUrl:l.avatar_url,handle:l.avatar_user_handle}),i&&a.createElement("div",{className:J},a.createElement(K.f,{size:24,className:"comment_avatar_list--overflowAvatar--6i3DO comment_avatar_list--commentAvatar--LwAuB",text:`${e.avatars.length-e.maxAvatarsShown+1}`})))}var et=n(227795),en=n(564577),ea=n(661843);let eo=a.memo(function(e){return a.createElement("div",{className:"comment_metadata--commentMetadata---ku0T"},(e.orderId||e.parentName&&!e.hideParentName)&&a.createElement("span",{className:"comment_metadata--parentName--pO-hK text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(ei,{parentName:e.parentName||null,orderId:e.orderId,hideParentName:e.hideParentName,thread:e.thread,hideOrphanedState:e.hideOrphanedState})),a.createElement(er,{rootUser:e.rootUser,createdAt:e.createdAt,isPendingFromSinatra:e.isPendingFromSinatra}))});function er(e){return a.createElement("span",{className:"comment_metadata--authorTimeCreated--su-Jn"},a.createElement("div",{className:"comment_metadata--author--FqE-k text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto"},e.rootUser),"\xa0",a.createElement("div",{className:"comment_metadata--timeCreated---00vM text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isPendingFromSinatra?(0,s.tx)("comments.in_a_moment"):a.createElement(en.h1,{date:e.createdAt,capitalize:!0})))}function ei(e){let t=(0,ea.Kq)(e.thread);if(!e.hideOrphanedState&&t){if(e.orderId){let t=(0,s.tx)("comments.unattached");return(0,s.tx)("comments.parent_name_and_number",{parentName:t,commentNumber:e.orderId})}return null}return e.hideParentName||!e.parentName?e.orderId?(0,s.tx)("comments.number_only",{commentNumber:e.orderId}):null:e.orderId?(0,s.tx)("comments.parent_name_and_number",{parentName:e.parentName,commentNumber:e.orderId}):a.createElement("span",null,e.parentName)}let el="comments_row_presentation--button--wBibN",es="comments_row_presentation--headerElement--FStcl",ec="comments_row_presentation--blueDot--n7bLI",ed="comments_row_presentation--countMetadata--xGPiX";var em=n(761070),eu=n(95779),ep=n(236521),eh=n(411929),eg=n(164828),ef=n(633347),ev=n(122975);let eE=a.memo(function(e){return a.createElement("div",{className:"comments_row_presentation--replyAndAttachmentCount--OrlJC"},0!==e.replyCount&&a.createElement(a.Fragment,null,a.createElement("div",{className:ed},(0,s.tx)("comments.reply_count",{replyCount:e.replyCount})),0!==e.attachmentCount&&a.createElement("div",{className:"comments_row_presentation--dot--9cR30 comments_row_presentation--countMetadata--xGPiX"},"\xb7")),0!==e.attachmentCount&&a.createElement("div",{className:ed},(0,s.tx)("comments.attachment_count",{attachmentCount:e.attachmentCount})))}),eA=a.memo(function(e){return a.createElement(a.Fragment,null,e.postTitle&&a.createElement("div",{className:"comments_row_presentation--postTitle--9oNMe"},e.postTitle),!(0,G.I)(e.messageMeta)&&a.createElement(q.HH,{className:"comments_row_presentation--commentMessage--q-YaC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k comment_message--commentMessage--kZCzD",messageMeta:e.messageMeta,commentId:e.commentId}),a.createElement(eE,{replyCount:e.replyCount,attachmentCount:e.attachmentCount}))}),eC=e=>e.stopPropagation(),ew=a.memo(function(e){let{isOptionsMenuDropdownShown:t,isPendingFromSinatra:n,optionsMenuRef:r,onClickOptionsMenu:i,isUnavailable:l,isResolved:c,isUnread:d,onChangeResolveState:m,thread:u,isFocusedThread:h,userCanResolveThread:g,openPostDetailModal:f}=e,v=(0,o.d4)(e=>e.comments.hoveredPinIds),E=(0,M.GS)(),A=e.thread.replyCount||e.thread.comments.length-1,C=e.thread.attachments?.length||e.thread.comments.map(e=>e.attachments?.length||0).reduce((e,t)=>e+t,0)||0,w=e.avatars[0].avatar_user_handle,y=e.hideResolve||!g||n,b=!!t,_=u.sidebarItemType===U.kT.FEED_POST&&!(0,p.y)(),I=a.createElement("div",{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,s.t)("comments.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},a.createElement(W.B,{svg:em.A})),x=null!=u.commentPin,k=a.createElement(a.Fragment,null,!n&&!_&&a.createElement("div",{className:es,ref:r},a.createElement(et.YW,{className:b?void 0:el,selected:b,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,s.t)("comments.more_actions"),onClick:i,onMouseDown:eC},a.createElement(j.U,{svg:eu.A},a.createElement(L.J,null)))),e.thread.sidebarItemType===U.kT.FEED_POST&&a.createElement("div",{className:es,ref:r},a.createElement(et.K0,{svg:ev.A,className:el,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,s.t)("fig_feed.view_post"),onClick:f,onMouseDown:eC})),!y&&a.createElement("div",{className:es},a.createElement(et.K0,{svg:c?eg.A:eh.A,className:Y()(c?"comments_row_presentation--resolvedButton--EJTu4 comments_row_presentation--button--wBibN":!x&&el,e.isUnread?"":"comments_row_presentation--buttonRead--zeH0O"),"data-tooltip-type":X.Ib.TEXT,"data-tooltip":x?(0,s.t)("comments.pinning.cannot_resolve"):c?(0,s.t)("comments.mark_as_unresolved"):(0,s.t)("comments.mark_as_resolved"),onClick:m,onMouseDown:eC,disabled:x},a.createElement(j.U,{svg:c?eg.A:eh.A},c?a.createElement(H.g,null):a.createElement(V.W,null)))));return a.createElement("div",{className:Y()(u.isActive?"comments_row_presentation--commentSelected--whxrP comments_row_presentation--_comment--x7j04 text--fontPos11--2LvXf text--_fontBase--QdLsd":h?"comments_row_presentation--commentFocused---7hfS comments_row_presentation--_comment--x7j04 text--fontPos11--2LvXf text--_fontBase--QdLsd":"comments_row_presentation--comment--wtdS- comments_row_presentation--_comment--x7j04 text--fontPos11--2LvXf text--_fontBase--QdLsd",{"comments_row_presentation--unread--xgn7e":d,"comments_row_presentation--pinHovered--k1OJV":v.includes(u.id)})},!E&&a.createElement("span",{className:ec}),a.createElement("div",{className:"comments_row_presentation--commentInner--Eu0xM"},E&&a.createElement("div",{className:ec},a.createElement(Q.C,null)),a.createElement("span",{className:"comments_row_presentation--commentHeader---8DED"},e.thread.sidebarItemType===U.kT.FEED_POST&&a.createElement(W.B,{svg:ef.A,className:"comments_row_presentation--postIcon--VsaAl"}),a.createElement(ee,{maxAvatarsShown:4,avatars:e.avatars,grayscale:!e.isUnread}),a.createElement("div",{className:t?"comments_row_presentation--buttonsVisible--m7qED comments_row_presentation--buttons--qc-Yn":"comments_row_presentation--buttons--qc-Yn"},l?I:k)),a.createElement(eo,{rootUser:w,createdAt:e.thread.comments[0].created_at,isPendingFromSinatra:n,orderId:e.orderId,parentName:e.parentName,hideParentName:e.hideParentName,thread:e.thread,hideOrphanedState:e.hideOrphanedState}),e.thread.sidebarItemType===U.kT.FEED_POST&&a.createElement("div",{className:"comments_row_presentation--postThumbnailContainer--NjgZy"},a.createElement("img",{src:e.thread.feedPostThumbnail,alt:"placeholder",className:"comments_row_presentation--postThumbnail--SPSS3 feed_post_popover_modal--postThumbnail--jac1E",style:{backgroundColor:e.thread.feedPostThumbnailBackground,padding:e.thread.padFeedPostThumbnail?"8px":"0"}}),e.thread.feedPostNumContent>1&&a.createElement("div",{className:"comments_row_presentation--numContent--HmWiu comments_row_presentation--postThumbnailOverlay--pPIMf feed_post_popover_modal--postThumbnailOverlay--vDoKP"},a.createElement(W.B,{svg:ep.A,className:"comments_row_presentation--overlayIcon--91i3d"}))),a.createElement(eA,{commentId:e.thread.comments[0].id,messageMeta:e.thread.comments[0].message_meta,replyCount:A,attachmentCount:C,postTitle:e.thread.sidebarItemType===U.kT.FEED_POST?e.thread.feedPostTitle:void 0})))});var ey=n(587670),eb=n(534611),e_=n(344780),eI=n(572206),ex=n(877432),ek=n(392592),eM=n(785080),eS=n(970516),eT=n(738269),eD=n(507877),eP=n(662275),eB=n(309249),eN=n(103907),eR=n(862442),eF=n(177505),eU=n(479118),eO=n(132135),eL=n(99506),eH=n(433861),eV=n(918379),eQ=n(514736),ez=n(187882),eY=n(875331),eG=n(52678),eW=n(240416);function ej(e){let t=(0,o.d4)(e=>e.mirror.appModel.pagesList);return null===e.page||(0,eU.Fy)(t,e.page)===ey.xal.LOADED}let eX=a.memo(function(e){let{element:t}=e,{comments:n}=t,{getClosestThread:r,onResolveComment:i}=e.extras,l=a.useMemo(()=>{let e=new Map,t=[];return n.forEach(n=>{if(e.has(n.user.id)){let a=e.get(n.user.id);t[a].num_unread_comments+=n.isUnread?1:0,t[a].num_comments+=1}else t.push({avatar_url:n.user.img_url,avatar_user_id:n.user.id,avatar_user_handle:n.user.handle,num_unread_comments:n.isUnread?1:0,num_comments:1}),e.set(n.user.id,t.length-1)}),t},[n]),d=!!n[0].resolved_at,p=n.some(e=>e.isUnread),g=!!t.isPendingFromSinatra,f=(0,o.d4)(e=>e.dropdownShown),A=f&&f.type===(0,O.K)(t.id),y=a.useRef(null),b=(0,T.ZC)(t.isActive),_=a.useRef(!1),I=(0,v.iZ)(),x=(0,F.q5)(),k=(0,D.y)(),M=ej(t),B=a.useMemo(()=>!k&&!M,[k,M]),L=(0,w.hB)(),H=a.useMemo(()=>L(t),[L,t]),V=t.id,{isFocusedThread:Q,onCanvasMentionSelect:z,onCommentFocus:Y,onCommentBlur:G,onCommentMouseEnter:W,onCommentMouseLeave:j,onClickOptionsMenu:X,onCommentSelect:q,onChangeResolveState:Z,onCanvasMentionCopyLink:K,openPostDetailModal:J}=function(e,t,n){let r=(0,o.wA)(),{comments:i}=e,l=!!i[0].resolved_at,d=a.useRef(!1),[m,u]=a.useState(!1),p=e.id,g=!F.q5()?.canEdit,f=(0,o.d4)(e=>e.mirror.appModel.showComments),v=(0,D.y)(),E=ej(e),A=a.useContext(eH.kw),y=(0,eQ.s)(),b=(0,ea.Kq)(e),_=(0,eR.Z)("comments_navigate"),I=!!e.isPendingFromSinatra,x=(0,eN.I_)(),k=(0,eB.fr)(),M=(0,o.Pj)(),S=(0,ez.n0)(),T=(0,eY.VS)({pagesList:S,isComparingChanges:!1,enabled:!!e.isCanvasMention}),P=(0,eF.dh)(!!e.isCanvasMention),B=a.useCallback(()=>{let t=M.getState().openFile;if(t){let n=(0,eO.jN)({file:t,nodeId:e.nodeId,isFigJam:t.editorType===eL._Y.WHITEBOARD});r(eS.S({url:n}))}},[r,e.nodeId,M]),N=a.useCallback(()=>v||E?(r(ek.F.dequeue({matchType:"offline-comment-navigation"})),!1):(r(ek.F.enqueue({type:"offline-comment-navigation",message:(0,s.t)("comments.unavailable_offline")})),!0),[v,E,r]),R=a.useCallback(async()=>{if(!N()&&(d.current=!0,r(c.Fm({threadId:p,source:void 0})),e.nodeId||e.stablePath)){let t;let n=M.getState().mirror.sceneGraph;e.isCanvasMention&&k&&r(eM.k({thread:e,receiptsAPI:k}));let a=eb.x7;e.stablePath?a=`[${e.stablePath.join(",")}]`:e.nodeId&&(a=`[${e.nodeId}]`),e.isCanvasMention&&e.page&&e.page!==P&&(await T(e.page),await (0,ex.yQ)()),ey.glU.setActiveCommentAnchorData({stablePath:a}),ey.fp8.markMentionsAsReadFromStablePath(a),e.stablePath?t=n.getFromStablePath(e.stablePath):e.nodeId&&(t=n.get(e.nodeId)),t&&_((0,eW.e)(t,A,"canvas-mentions"),{additionalTrackEventParams:{text_node_id_path:e.nodeId,mention_id:e.uuid}})}},[N,r,p,e,M,k,_,A,T,P]),L=(0,w.Ue)(),H=a.useMemo(()=>{if(L)return L(e)},[L,e]),V=a.useCallback(()=>{if(N())return;d.current=!0,g&&!f&&h.Y5.triggerAction("toggle-show-comments",{source:"comment_sidebar_list"}),H&&H(),e_.sn.start("view_comment_thread");let n=A.getViewportInfo(),a={thread:e,viewport:A,config:y,navigate:_,isOrphanedComment:b};if(r(I?c.l5(a):c.bB({...a,receiptsAPI:x.commentReceipts})),!b&&!y.disableZoomViewportOnCommentSelection){let a=t(e.id);if(a){let t=eI.Mi.distance(e.canvasPosition,a?.canvasPosition),o=(0,eV.ez)(C.i$,t,n.zoomScale);o>n.zoomScale&&(A.setZoomScale(n.zoomScale,o),A.setCanvasSpaceCenter(e.canvasPosition,n,o))}}},[x.commentReceipts,y,f,r,t,b,I,_,H,N,e,g,A]),Q=a.useCallback(()=>{u(!0),r(c.NJ({threadId:p}))},[r,p]),z=a.useCallback(()=>{requestAnimationFrame(()=>{u(!1)}),r(c.Oo({threadId:p}))},[r,p]),Y=a.useCallback(()=>{r(c.NJ({threadId:p}))},[r,p]),G=a.useCallback(()=>{d.current=!1,r(c.Oo({threadId:p}))},[r,p]);return{isFocusedThread:m,onCanvasMentionSelect:R,onCommentFocus:Q,onCommentBlur:z,onCommentMouseEnter:Y,onCommentMouseLeave:G,onClickOptionsMenu:a.useCallback(e=>{e.stopPropagation(),r(eD.gR({type:(0,O.K)(p)}))},[r,p]),onCommentSelect:V,onChangeResolveState:a.useCallback(e=>{e.stopPropagation(),r(eT.oB()),n&&n(p,!l)},[p,r,n,l]),onCanvasMentionCopyLink:B,openPostDetailModal:a.useCallback(()=>{e.sidebarItemType===U.kT.FEED_POST&&r((0,eP.to)({type:eG.K,data:{postUuid:e.feedPostPublicUuid,inFileView:!0}}))},[r,e])}}(t,r,i),{scrollableRef:$}=e,{isActive:ee}=t;a.useEffect(()=>{_.current||!ee||b||$.current?.scrollToRow(V)},[ee,V,b,$]);let[et,en]=a.useState(null);a.useEffect(()=>{if(!y.current||!A){en(null);return}en(y.current?.getBoundingClientRect())},[A,y]);let eo=I?.id,er=a.useMemo(()=>!!(0,U.m)(t.sidebarItemType)&&(x&&eo?(0,S.To)(t,x,eo):null),[x,eo,t]),ei=(0,P.rf)(`comment-sidebar-comment-${t.id}`,"click",q),el=(0,u.my)()===E.nT.Design,es=(0,m.Kf)({isDesign:el,isUnauth:!I}),ec=(0,R.EO)();return es()&&(ei=()=>ec("SELECT_COMMENT_SIDEBAR")),t.isCanvasMention&&(ei=z),a.createElement(a.Fragment,null,a.createElement(N,{onClick:ei,onBlur:G,onFocus:Y,onMouseEnter:W,onMouseLeave:j,ariaLabel:(0,s.t)("comments.aria_label_select_comment"),selected:t.isActive,display:"flex"},a.createElement(ew,{isPendingFromSinatra:g,parentName:H,orderId:t.comments[0].order_id||null,optionsMenuRef:y,onClickOptionsMenu:X,hideResolve:e.extras.hideResolve||!!t.isCanvasMention,isResolved:d,onChangeResolveState:Z,thread:t,avatars:l,isOptionsMenuDropdownShown:A,hideParentName:e.extras.hidePageName,hideOrphanedState:e.extras.hideOrphanedState,userCanResolveThread:er,isUnread:p,isFocusedThread:Q,isUnavailable:B,openPostDetailModal:J})),!B&&et&&a.createElement(O.R,{thread:t,isUnread:p,targetRect:et,copyLink:t.isCanvasMention?K:e.extras.copyLink,onDeleteThread:e.extras.onDeleteThread}))}),eq=a.memo(function(e){let{index:t,start:n,measureRef:o}=e.virtualItem,{setSize:r}=e,i=a.useRef(t);a.useEffect(()=>{i.current=t},[t,i]);let l=a.useCallback(e=>{let t=e?.getBoundingClientRect().height;t&&r(i.current,t),o(e)},[i,o,r]);return a.createElement("div",{ref:l,style:{position:"absolute",top:n,left:0,width:"100%"}},e.children)});function eZ(e){let t=a.useRef(null),{elements:n}=e,o=(0,M.GS)(),r=(0,w.Lc)(),i=a.useRef(n);a.useEffect(()=>{i.current=n},[n]);let l=(0,x.w)(t),{estimatedSize:s}=e,c=a.useRef(null),d=a.useRef(new Map),m=a.useCallback(e=>0===n.length?0:d.current.get(e)||s,[n,s]),u=a.useCallback((e,t)=>{d.current.set(e,t)},[]),p=(0,I.z)({size:n.length,parentRef:c,estimateSize:m,overscan:10,paddingEnd:r}),h=p.scrollToIndex,g=a.useRef({scrollToRow:t=>{h(n.findIndex(n=>n[e.elementKey]===t))}});return a.useEffect(()=>{g.current={scrollToRow:t=>{h(n.findIndex(n=>n[e.elementKey]===t))}}},[n,h,e.elementKey]),a.createElement("div",{ref:t,className:"comments_sidebar_list--container--VBa2a"},a.createElement(k.P,{scrollContainerRef:c,height:l?.height||0},a.createElement("div",{style:{height:`${p.totalSize}px`,width:"100%",position:"relative",marginTop:o?"var(--spacer-1)":void 0}},p.virtualItems.map(t=>{let n=e.elements[t.index],o=n[e.elementKey],r=e.row;return a.createElement(eq,{key:o,virtualItem:t,setSize:u},a.createElement(r,{element:n,dataset:i,scrollableRef:g,extras:e.extras}))}))))}let eK=a.memo(function(e){let{onResolveComment:t,hideResolve:n,copyLink:o,hidePageName:r,hideOrphanedState:i,onDeleteThread:l}=e,s=(0,S.$I)(e.items),c=a.useMemo(()=>({onResolveComment:t,getClosestThread:s,hideResolve:n,copyLink:o,hidePageName:r,hideOrphanedState:i,onDeleteThread:l}),[t,s,n,o,r,i,l]);return a.createElement(eZ,{elements:e.items,elementKey:"id",row:eX,estimatedSize:133,extras:c})});var eJ=n(531461),e$=n(799569),e0=n(268537),e1=n(782683),e2=n(13583),e5=n(452441),e3=n(32863),e4=n(639685),e6=n(630834);let e8=a.forwardRef((e,t)=>{let{searchInputRef:n,onMouseDown:o,onMouseUp:r,onClearSearchClick:i,onClearSearchKeyDown:l,onBlur:c,onSearchKeyDown:d,onSearchChange:m}=(0,e3.ne)(e,t),u=a.useCallback(e=>{e.stopPropagation(),d(e)},[d]),p=a.useCallback(e=>{"Enter"===e.key&&l(e),e.stopPropagation()},[l]);return a.createElement("div",{className:"sidebar_search--searchContainer--eU94N"},a.createElement(j.U,{svg:e4.A,className:"sidebar_search--searchIcon--3FhmC","aria-label":(0,s.t)("fullscreen.accessibility.search_icon")},a.createElement(e1.h,null)),a.createElement(e5.L,{ref:n,placeholder:e.placeholder||(0,s.t)("search.sidebar_search_placeholder"),className:"sidebar_search--searchInput--ySEJ2 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",value:e.query,onMouseDown:o,onMouseUp:r,onBlur:c,onChange:m,onKeyDown:u,spellCheck:!1}),!!e.query&&a.createElement("button",{className:"sidebar_search--xIcon--1xoiw",onClick:i,onKeyDown:p,"aria-label":(0,s.t)("search.sidebar_search_clear")},a.createElement(j.U,{svg:e6.default},a.createElement(e2.L,null))))});e8.displayName="sidebarSearchBar";var e7=n(298543),e9=n(138020),te=n(939683),tt=n(794272),tn=n(296922),ta=n(638889),to=n(881388),tr=n(27087);let ti=(0,n(980820).nF)((e,t)=>{let n=tr.Ay.put(`/api/file/${t.key}/file_followers`,{notification_preference:t.notification_preference}).catch(t=>{let n=t.data?.message||"An error occurred while updating notification preference.";e.dispatch(to.s.flash(n)),console.error(t)}),a=e.getState().user?.id;t.id?tn.WB()?.optimisticallyUpdate({FileFollower:{[t.id]:{notificationPreference:t.notification_preference}}},n):a&&tn.WB()?.optimisticallyCreate({FileFollower:{[`optimistic-id-${t.key}`]:{key:t.key,userId:a,notificationPreference:t.notification_preference,unreadComments:null,statusChangeNotifs:!1}}},n)});var tl=(e=>(e.ALL="all",e.PARTICIPATING="participating",e.NONE="none",e))(tl||{}),ts=n(279145),tc=n(369351),td=n(507956),tm=n(109546),tu=n(977955);function tp(e){let t=(0,o.d4)(F.sS),n=(0,v.iZ)(),r=(0,eN.jp)(),i=(0,eN.I_)(),l=(0,eB.fr)(),d=(0,eN.n6)(),m=(0,td.ks)(),u=(0,o.wA)(),p=(0,o.d4)(e=>e.mirror.appModel.showComments),g=a.useCallback(()=>{h.Y5.triggerAction("toggle-show-comments",{source:"comments_sidebar_setting"})},[]),f=(0,tt.R)(e=>e.mirror.appModel.keyboardShortcuts),E=(0,ts.c1)(f,"toggle-show-comments"),A=(0,te.am)();if(a.useEffect(()=>{A("Properties Panel Comments Tab Settings Opened")},[A]),!t||!n||!e.clientRect)return null;if("loaded"!==r.status)return a.createElement(e7.Cf,{showPoint:!0,targetRect:e.clientRect,key:r.status,focusContainerOnMount:!0,propagateCloseClick:!0},a.createElement("div",{className:tu.IZ},(0,s.tx)("comments.error_loading_notification_preferences")));let C=r?.data?.notificationPreference||tl.NONE,w=r?.data?.statusChangeNotifs?.status==="loaded"&&(0,e9.oA)(r?.data?.statusChangeNotifs),y=e=>{e!==C&&(u(ti({id:r?.data?.id,key:t,notification_preference:e})),A("Comments Notification Preference Changed",{newPreference:e,fileKey:t}))},b=e=>{if(e===w)return;let a=tc.sr.updateStatusChangePreferences({fileKey:t,optIn:e}).catch(e=>{let t=e.data?.message||"An error occurred while updating status change preference.";u(to.s.flash(t)),console.error(e)});r?.data?.id?tn.WB()?.optimisticallyUpdate({FileFollower:{[r?.data?.id]:{statusChangeNotifs:e}}},a):n?.id&&tn.WB()?.optimisticallyCreate({FileFollower:{[`optimistic-id-${t}`]:{key:t,userId:n.id,notificationPreference:null,unreadComments:null,statusChangeNotifs:e}}},a),A("Dev Mode Notification Preference Changed",{newPreference:e,fileKey:t})},_=[a.createElement(e0.MM,{key:"preference",checked:!p,onClick:g,role:"menuitemcheckbox","data-fullscreen-intercept":!0},(0,s.tx)("comments.hide_comments"),E&&a.createElement(ta.S,{shortcut:E,className:tm.K8})),a.createElement(e0.wv,{key:"separator-0"}),a.createElement(e0.MM,{key:"comment-notification-title",role:"menuitemcheckbox",checked:!1,disabled:!0,"data-fullscreen-intercept":!0},(0,s.tx)("comments.comment_notifications")),a.createElement(e0.MM,{key:"notification-all",checked:C===tl.ALL,onClick:()=>{y(tl.ALL)},role:"menuitemcheckbox","data-fullscreen-intercept":!0},(0,s.tx)("comments.everything_option")),a.createElement(e0.MM,{key:"notification-participating",checked:C===tl.PARTICIPATING,onClick:()=>{y(tl.PARTICIPATING)},role:"menuitemcheckbox","data-fullscreen-intercept":!0},(0,s.tx)("comments.just_mentions_and_replies_option")),a.createElement(e0.MM,{key:"notification-none",checked:C===tl.NONE,onClick:()=>{y(tl.NONE)},role:"menuitemcheckbox","data-fullscreen-intercept":!0},(0,s.tx)("comments.nothing_option")),a.createElement(e0.wv,{key:"separator-1"})],I=[a.createElement(e0.MM,{key:"dev-mode-notification-title",role:"menuitemcheckbox",checked:!1,disabled:!0,"data-fullscreen-intercept":!0},(0,s.tx)("comments.dev_mode_notifications")),a.createElement(e0.MM,{key:"notification-dm-status-changes",checked:!!w,onClick:()=>{b(!0)},role:"menuitemcheckbox","data-fullscreen-intercept":!0},(0,s.tx)("comments.status_changes")),a.createElement(e0.MM,{key:"notification-dm-none",checked:!w,onClick:()=>{b(!1)},role:"menuitemcheckbox","data-fullscreen-intercept":!0},(0,s.tx)("comments.nothing_option")),a.createElement(e0.wv,{key:"separator-2"})],x=[..._,...m?I:[],a.createElement(e0.c$,{key:"mark_all_read",onClick:()=>{let e=i.commentReceipts;e&&l&&u(c.Tb({commentReceiptsAPI:e,canvasMentionReceiptsAPI:l}))},disabled:0===d,className:"comments_sidebar_settings_menu--nonCheckmarkable--gB9uN","data-fullscreen-intercept":!0},(0,s.tx)("comments.mark_all_as_read"))];return a.createElement(e7.Jz,{id:e.id,showPoint:!0,targetRect:e.clientRect,key:r.status,hideDropdown:()=>u(eD.gR({type:U._f})),autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,options:x,focusContainerOnMount:!0,propagateCloseClick:!0})}var th=n(917701);let tg="comments_sidebar_header--headerIconButton--JiHD6",tf="comments_sidebar_header--headerIconButtonSel--3-zXH";var tv=n(999918),tE=n(120118),tA=n(115381);let tC="COMMENTS_SIDEBAR_SORT_FILTER_DROPDOWN";function tw(e){return a.createElement(e0.MM,{checked:e.isChecked,buttonRef:e.buttonRef,onFocus:e.onFocus,onClick:e.onClick,role:"menuitemcheckbox",disabled:!!e.disabled,"data-fullscreen-intercept":!0},e.text)}function ty(e){let t=(0,o.wA)(),n=(0,o.d4)(e=>e.dropdownShown),r=n&&n?.type===tC,i=n&&n?.type===th.a,l=a.useRef(null),d=a.useRef(null),p=e.filters.some(t=>"resolved"!==t&&e.activeFilters.has(t))||!e.activeFilters.has("resolved"),h="all"!==e.activeMode,g=(p||h)&&!r,f=a.useCallback(()=>{t(c.UU()),e.threadManager.setQuery("")},[t,e.threadManager]),A=a.useCallback(n=>{t(c.UU()),e.threadManager.setQuery(n)},[t,e.threadManager]),C=(0,v.iZ)(),w=(0,u.my)()===E.nT.Design,y=(0,m.Kf)({isDesign:w,isUnauth:!C}),b=(0,R.EO)(),I=a.useCallback(()=>{if(y())return b("SELECT_COMMENT_SIDEBAR");t(c.UU()),i?t(eT.oB()):t(eT.j7({type:th.a}))},[t,i,y,b]),x=a.useCallback(()=>{t(c.UU()),r?t(eT.oB()):t(eT.j7({type:tC}))},[t,r]),k=a.useMemo(()=>{let n=[];return e.sorts&&e.sorts.forEach(o=>{n.push(a.createElement(tw,{key:`sort-option-${o}`,type:o,text:(0,_.L9)(o),isChecked:e.activeSort===o,onClick:()=>{e.threadManager.setSort(o),t(eT.oB())}}))}),e.sorts?.length>0&&e.filters?.length>0&&n.push(a.createElement(e0.wv,null)),e.filters&&e.filters.forEach(o=>n.push(a.createElement(tw,{key:`filter-option-${o}`,type:o,text:(0,_.T4)(o),isChecked:"resolved"===o?!e.activeFilters.has("resolved"):e.activeFilters.has(o),disabled:_.vO[e.activeMode].includes(o),onClick:()=>{e.threadManager.toggleFilter(o),t(eT.oB())}}))),e.filters?.length>0&&e.modes&&e.modes.length>0&&n.push(a.createElement(e0.wv,null)),e.modes&&e.modes.forEach(o=>n.push(a.createElement(tw,{key:`filter-option-${o}`,type:o,text:(0,_.ek)(o),isChecked:e.activeMode===o,onClick:()=>{let n=e.activeMode===o?"all":o;e.threadManager.setMode(n),t(eT.oB())}}))),n},[e.sorts,e.filters,e.modes,e.activeSort,e.threadManager,e.activeFilters,e.activeMode,t]),M="comments-sidebar-sort-filter",S="comments-sidebar-settings";return a.createElement(a.Fragment,null,a.createElement("div",{className:e.stackHeader?"comments_sidebar_header--sidebarHeaderStacked--qkQGM comments_sidebar_header--sidebarHeader--BwT0H text--fontPos11--2LvXf text--_fontBase--QdLsd":"comments_sidebar_header--sidebarHeader--BwT0H text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(e8,{focusOnMount:!1,query:e.activeQuery||"",clearSearch:f,onChange:A}),a.createElement("div",{className:"comments_sidebar_header--sidebarHeaderButtons--XMkx3"},a.createElement("div",{ref:l},a.createElement(et.YW,{svg:g?tA.A:tE.A,selected:!!r,selectedClassName:tf,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,s.t)("comments.sort_filter"),onClick:x,className:g?"comments_sidebar_header--sortButtonActive--sPnuw":tg,onMouseDown:e=>r&&e.stopPropagation(),"aria-haspopup":"menu","aria-expanded":r,"aria-owns":M})),!e.hideSettingsDropdown&&a.createElement("div",{ref:d},a.createElement(et.YW,{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,s.t)("comments.settings"),onClick:I,selected:!!i,selectedClassName:tf,className:tg,onMouseDown:e=>i&&e.stopPropagation(),"aria-haspopup":"menu","aria-expanded":i,"aria-owns":S},a.createElement(j.U,{svg:tv.A},a.createElement(L.J,null)))),e.onCloseButton&&a.createElement(e$.Jn,{className:tg,recordingKey:"threadHeader",onClick:e.onCloseButton,innerText:(0,s.t)("comments.close_sidebar"),"aria-label":(0,s.t)("comments.close_sidebar")}))),r&&l.current&&a.createElement(e7.Jz,{id:M,showPoint:!0,targetRect:l.current.getBoundingClientRect(),options:k,hideDropdown:x,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,propagateCloseClick:!0}),!e.hideSettingsDropdown&&i&&d.current&&a.createElement(tp,{id:S,clientRect:d.current.getBoundingClientRect()}))}var tb=n(960340);function t_(e){return a.createElement("div",{className:"empty_state_message_view--emptyStateWrapper--QSOXE"},a.createElement("div",{className:"empty_state_message_view--emptyStateInner--XVxQ0"},a.createElement(W.B,{className:"empty_state_message_view--commentTool--lg4bm",svg:tb.A}),a.createElement("div",{className:"empty_state_message_view--emptyStateMessage--3q4Qh"},e.message)))}function tI(e){return e.hasActiveQuery?a.createElement(t_,{message:(0,s.tx)("comments.no_comments_matched_your_search")}):({filters:e.filters}).filters.has("yours")?a.createElement(t_,{message:(0,s.tx)("comments.when_you_leave_a_comment_or_get_mentioned_in_one_it_ll_show_up_here")}):a.createElement(t_,{message:(0,s.tx)("comments.give_feedback_ask_a_question_or_just_leave_a_note_of_appreciation_click_anywhere_in_the_file_to_leave_a_comment")})}function tx(e){let t=(0,f.dH)(),{activeQuery:n,activeFilters:o}=a.useContext(_.hh),{loadedSidebarItems:r}=e,i=!n||n&&!r.length,l=r.length,s=(0,g.q)(),c=(0,v.iZ)(),p=(0,u.my)()===E.nT.Design,h=(0,m.Kf)({isDesign:p,isUnauth:!c});return(0,d.T8)(a.createElement(a.Fragment,null,s&&a.createElement(b.Mw,{panelName:b.ON.COMMENTS}),i&&!l&&!h()&&a.createElement(tI,{hasActiveQuery:!!n,filters:o,empty:!r.length}),a.createElement(eK,{items:r,onResolveComment:e.onResolveComment,hideResolve:e.hideResolve,copyLink:e.copyLink,onDeleteThread:e.onDeleteThread,hidePageName:e.hidePageName,hideOrphanedState:e.hideOrphanedState})),A.e0.COMMENTS_TOOL,{currentTool:t})}let tk=e=>e.stopPropagation(),tM=[eJ.hJ.COMMENTS_ONLY,eJ.hJ.POSTS_ONLY];function tS(e){let t=(0,o.wA)(),{activeQuery:n,activeSort:d,activeMode:m,activeFilters:u,filteredSidebarItems:g,threadManager:f}=a.useContext(_.hh),v=(0,w.Qj)(),E=(0,w.Yo)(),A=(0,w.lM)(),b=a.useMemo(()=>e.sorts&&Array.from(e.sorts)||v,[e.sorts,v]),I=a.useMemo(()=>e.filters&&Array.from(e.filters)||E,[e.filters,E]),x=a.useMemo(()=>(0,p.y)()&&!A?tM:void 0,[A]),k=a.useMemo(()=>"loaded"===g.status&&g.data||[],[g]),M=a.useRef(k);a.useEffect(()=>{M.current=k},[k,M]);let S=a.useCallback((e,n)=>{let a=M.current.find(t=>t.id===e);a&&t(c.hx({thread:a,resolved:n}))},[M,t]),T=a.useRef(null);a.useEffect(()=>{T.current?.focus()},[]);let{disableSidebar:D}=(0,C.Z5)(),P=a.useCallback(()=>{(0,C.uw)({disableSidebar:!1})},[]),B=(0,y.v)(),N=e.copyLinkOverride??B,R=(0,r.U1)(T);return D?a.createElement("div",{className:l.cx.flex.flexColumn.justifyStart.alignCenter.m8.mt18.$},(0,s.tx)("comments.you_have_disabled_the_comments_sidebar_via_the_debug_menu"),a.createElement("div",{className:l.cx.flex.flexRow.justifyCenter.alignCenter.$},a.createElement("button",{className:l.cx.p10.w100.m8.$,style:{backgroundColor:"green",color:"white"},onClick:P},(0,s.tx)("comments.re_enable")))):a.createElement("div",{className:"comments_sidebar--container--g86FO","data-comments-sidebar":!0,onKeyDown:e=>{"Escape"===e.key&&h.Y5.triggerAction("set-tool-default"),tk(e)},onMouseDown:tk,ref:R,tabIndex:0,"aria-label":(0,s.t)("fullscreen.accessibility.comments_sidebar"),"data-fullscreen-intercept":!0},a.createElement(ty,{sorts:b,filters:I,modes:x,activeQuery:n,activeMode:m,activeSort:d,activeFilters:u,threadManager:f,hideSettingsDropdown:e.hideSettingsDropdown,onCloseButton:e.onCloseButton,stackHeader:e.stackHeader}),a.createElement(i.x,{className:"comments_sidebar--loading--7fXvY",isLoading:"loading"===g.status},()=>a.createElement(tx,{hidePageName:e.hidePageName,hideOrphanedState:e.hideOrphanedState,onResolveComment:S,copyLink:N,onDeleteThread:e.onDeleteThread,emptyState:e.emptyState,hideResolve:e.hideResolve,loadedSidebarItems:k})))}},797539:(e,t,n)=>{n.d(t,{$2:()=>n3,To:()=>n1,$I:()=>n0});var a=n(411855),o=n(188507),r=n(939683),i=n(966712),l=n(572206),s=n(47506),c=n(975350),d=n(738269),m=n(293017),u=n(138020),p=n(296922),h=n(881388),g=n(939863),f=n(654034),v=n(440535),E=n(746830);let A=(0,n(980820).nF)((e,{thread:t,clientMeta:n})=>{if(t.sidebarItemType!==v.kT.WALKTHROUGH_MEDIA){console.error("shouldn't have gotten to here");return}let a=t.walkthrough,o=E.F.updateWalkthroughMediaPosition(a.id,n.x,n.y),r=(0,g.t)("comments.an_error_occurred_while_moving_this_comment");e.dispatch((0,h.Q)({promise:o,fallbackError:r})),(0,p.WB)().optimisticallyUpdate({WalkthroughMedia:{[a.id]:{meta:{positionX:n.x,positionY:n.y,title:a.meta.title,description:(0,f.o8)(a.meta.description),pageId:a.meta.pageId,audioOnly:a.meta.audioOnly,lengthMs:a.meta.lengthMs.status===u.tT.Loaded?a.meta.lengthMs.data:0}}}},o)});var C=n(103907),w=n(29680),y=n(479118),b=n(737499),_=n(605328),I=n(335682),x=n(611978),k=n(547465),M=n(860178),S=n(360832),T=n(433861),D=n(402609),P=n(918379),B=n(514736),N=n(152811),R=n(587670),F=n(126049),U=n(259927),O=n(138369),L=n(809831),H=n(457630),V=n(100197),Q=n(239671),z=n(787672),Y=n(984871),G=n(517911),W=n(947894),j=n(593392),X=n(330633),q=n(109388),Z=n(629019),K=n.n(Z),J=n(358145),$=n(461816),ee=n.n($);class et{constructor(e,t,n,a){if(e.pins.length>1&&(this.showClusterCount=!0),!n)return;let o=er(e,n);if(!o){a||1!==e.pins.length||e.pins[0].isOurs||(this.expandPin=!0);return}let r=o.pins.length>1&&e.pins.length>1?eo(o,t):ea(o,t);this.initialPosition=r}}class en{constructor(e,t,n){let a=n.pins.length>1&&e.pins.length>1?eo(n,t):ea(n,t);this.finalPosition=a}}let ea=(e,t)=>({x:e.x+e.x*(t-1),y:e.y+e.y*(t-1)}),eo=(e,t)=>({x:e.x+e.x*(t-1)-32,y:e.y+e.y*(t-1)-32}),er=(e,t)=>{if(1===e.pins.length)return t.getParentOf(e.id);let n=t.getParentOf(e.pins[0].id)||null,a=n?new Set(n.pins.map(e=>e.id)):new Set;return e.pins.every(e=>a.has(e.id))||(n=null),n};var ei=n(330678),el=n(921355),es=n(928491),ec=n(80332),ed=n(351101),em=n(72667),eu=n(934545);let ep=ed.ay-1,eh=a.memo(function({avatar:e,isInCluster:t,isGhost:n}){let{src:o,fallbackStyle:r}=(0,a.useMemo)(()=>{let t=(0,es.Sw)(e.avatar_url);if(t)return{src:t};let n=(0,ec.$L)(e.avatar_user_id,ec.us),a=(0,ec.Xx)(n);return{src:t,fallbackStyle:{backgroundColor:n,color:a}}},[e.avatar_url,e.avatar_user_id]),i=e.avatar_user_handle[0];return a.createElement("div",{className:K()(eu.H,{[em.my]:t,[em.v2]:n,[eu.K_]:t})},o?a.createElement("img",{src:o,className:eu.my,draggable:!1,alt:i}):a.createElement("span",{className:eu.e7,style:r},i))}),eg=a.memo(function({avatars:e}){let t=e.slice(0,ep),n=e.slice(ep+1),o=e[ep];return a.createElement("div",{className:eu.dQ},a.createElement("div",{className:eu.u_},n.length?a.createElement("div",{className:eu.Ws},n.reverse().map(e=>a.createElement(eh,{key:e.avatar_user_id,avatar:e}))):null,o?a.createElement("div",{className:eu.OF},a.createElement(eh,{avatar:o})):null,t.length?a.createElement("div",{className:eu.q_},t.reverse().map(e=>a.createElement(eh,{key:e.avatar_user_id,avatar:e}))):null))});function ef(e,t,n,a=!1){if(!t||!(0,ei.x)())return Promise.resolve();let o=`translate3d(${t.x}px, ${t.y}px, 0px) scale(0.2)`;return new Promise((t,r)=>{let i=e.animate([{offset:n,transform:o}],{duration:200});i.onfinish=()=>{a&&(e.style.opacity="0"),t()},i.oncancel=()=>{r()}})}let ev=a.memo(function({cluster:e,selectedState:t,zoomScale:n,animationInfo:o}){let r=(0,a.useMemo)(()=>[...e.avatarMap.values()].sort((e,t)=>e.num_unread_comments>0&&t.num_unread_comments>0?e.num_comments>t.num_comments?-1:1:e.num_unread_comments>0?-1:t.num_unread_comments>0?1:e.num_comments>t.num_comments?-1:1).slice(0,5),[e.avatarMap]),i=1===r.length?r[0]:void 0,l=function(e,t){let n=(t-1)*e.x-32,a=(t-1)*e.y-32;return{x:e.x+n,y:e.y+a}}(e,n),s=(0,a.useRef)(null),c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(s.current){if(o instanceof et){let{initialPosition:t,showClusterCount:n}=o;if(s.current.style.opacity="1.0",n&&c.current){var e;(e=c.current)?(e.style.transition="none",e.style.opacity="1",(0,el.G)(e,[],{duration:1e3}).then(()=>{e.style.removeProperty("opacity"),e.style.removeProperty("transition")})):Promise.resolve()}t&&ef(s.current,t,0,!1)}else if(o instanceof en){let{finalPosition:e}=o;ef(s.current,e,1,!0)}}},[o]),a.createElement("div",{ref:s,"data-testid":"figma-comment-cluster",role:"button",tabIndex:0,className:K()(em.Di,{[em.gy]:e.isUnread,[em.rX]:t===G.LX.DIMMED}),style:{willChange:"transform",transform:`translate3d(${l.x}px, ${l.y}px, 0px) scale(var(--scale))`,opacity:o instanceof et?0:1,zIndex:o instanceof en?-1:0},onClick:e.onClick},a.createElement("div",{className:em.IS,"data-testid":"avatar-cluster"},a.createElement("div",{className:em.u_},i?a.createElement(eh,{avatar:i,isInCluster:!0,isGhost:!0}):null,r.map(e=>a.createElement(eh,{key:e.avatar_user_id,avatar:e,isInCluster:!0}))),a.createElement("div",{ref:c,className:em.A3,"display-thread-count":e.pins.length})))});var eE=n(296210),eA=n.n(eE),eC=n(344780),ew=n(609494),ey=n(153234),eb=n(564577),e_=n(356390);let eI=a.memo(function({absoluteBounds:e}){let{width:t,height:n,x:o,y:r}=e;return a.createElement("div",{className:"selection_box--selectionBox--FNRhk","data-testid":"figma-comment-selection-box",style:{width:t,height:n,left:o,top:r}})}),ex=e=>e.ctrlKey||e.altKey||e.shiftKey||e.metaKey;function ek(e,t){let n=(t-1)*e.x,a=(t-1)*e.y;return{x:e.x+n,y:e.y+a}}function eM(e,t,n,a=!1){if(!t||!(0,ei.x)())return Promise.resolve();let o=`translate3d(${t.x}px, ${t.y}px, 0px) scale(0.2)`;return new Promise((t,r)=>{let i=e.animate([{offset:n,transform:o}],{duration:200});i.onfinish=()=>{a&&(e.style.opacity="0"),t()},i.oncancel=()=>{r()}})}let eS=a.memo(function({pin:e}){let t=(0,a.useMemo)(()=>eA().sanitize((0,ew.sP)(e.previewMessageMeta),{ALLOWED_TAGS:["img","span"],ALLOWED_ATTR:["src","class"],ALLOWED_URI_REGEXP:RegExp("https://static.figma.com/emoji/*")}),[e.previewMessageMeta]),n=(0,a.useMemo)(()=>{let t=e.avatars.reduce((e,t)=>e+t.num_comments,0)-1,n=e.numAttachments,a=!!e.numUnreadReplies&&e.numUnreadReplies!==t,o=t?(0,g.t)("comments.preview_reply_count",{replyCount:a?e.numUnreadReplies:t,new:a?"true":"false"}):"",r=n?(0,g.t)("comments.attachment_count",{attachmentCount:n}):"",i="";return""!==o?i=""!==r?`${o} \xb7 ${r}`:o:""!==r&&(i=r),i},[e.avatars,e.numUnreadReplies,e.numAttachments]),o=(0,a.useMemo)(()=>(0,eb.JD)(e.createdAt,"short"),[e.createdAt]);return a.createElement("div",{className:eu.$N},a.createElement("div",{className:eu.Ud},a.createElement("div",{className:eu.T7,dir:"auto"},e.avatars[0].avatar_user_handle),a.createElement("div",{className:eu.Zr},o)),a.createElement("div",{className:eu.se,dir:"auto"},t),a.createElement("span",{className:eu.V_},n))});function eT(){return a.createElement("div",{className:eu.S})}let eD=a.memo(function({pin:e}){let{selectionBoxAnchor:t}=e,n=(0,H.Pl)({subscribeToUpdates_expensive:!!t});if(!t)return null;let o=ek(e,n),r=function(e,t,n){let a=ek(n,t),o=Math.min(e.x,a.x),r=Math.min(e.y,a.y);return{width:Math.max(e.x-o,a.x-o),height:Math.max(e.y-r,a.y-r),x:o,y:r}}(o,n,t);if(!r)return null;let i={x:r.x-o.x,y:r.y-o.y,width:r.width,height:r.height};return a.createElement(eI,{absoluteBounds:i})}),eP=a.memo(function({pin:e,selectedState:t,onPinClicked:n,onDragEnd:o,onDragUpdate:r,onDragStart:i,onContextMenu:s,animationInfo:c,recordingKey:d}){let m=(0,a.useRef)(null),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),f=ey.rf(d,"click",a.useCallback(()=>{eC.sn.start("view_comment_thread"),n(e.id)},[n,e.id])),{onPointerDown:v,dragOffset:E}=function({ref:e,canDrag:t,onDragStart:n,onDragEnd:o,onDragUpdate:r,onClick:i}){let[s,c]=(0,a.useState)("idle"),[d,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,g]=(0,a.useState)({x:0,y:0}),f=(0,a.useCallback)(t=>{0!==t.button||ex(t)||"idle"!==s||(e.current?.setPointerCapture(t.pointerId),t.stopPropagation(),p({x:t.clientX,y:t.clientY}),c("ready"),m(!1))},[s,e]),v=(0,a.useCallback)(e=>{if(m(!0),"idle"===s||!u||!t)return;let a={x:e.clientX,y:e.clientY},o=l.Mi.subtract(u,a);g(o),"ready"===s?(c("dragging"),n(o)):r(o)},[s,n,r,u,t]),E=(0,a.useCallback)(t=>{"dragging"===s?(e.current?.releasePointerCapture(t.pointerId),t.stopPropagation(),o(h),g({x:0,y:0})):d||i(),c("idle")},[e,s,h,o,i,d]);return(0,a.useEffect)(()=>("idle"!==s&&(document.addEventListener("pointermove",v),document.addEventListener("pointerup",E)),()=>{document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",E)}),[v,E,s]),(0,a.useMemo)(()=>({onPointerDown:f,dragOffset:h}),[f,h])}((0,a.useMemo)(()=>({ref:m,canDrag:e.isDraggable,onDragStart:t=>i({id:e.id,offset:t}),onDragEnd:t=>{o({id:e.id,offset:t})},onDragUpdate:t=>r({id:e.id,offset:t}),onClick:f}),[e,i,o,r,f]));(0,a.useEffect)(()=>{let t;return e.pending?t=setTimeout(()=>{g(!0)},500):g(!1),()=>{t&&clearTimeout(t)}},[e.pending]),(0,a.useEffect)(()=>{if(m.current){if(c instanceof et){let{initialPosition:t,expandPin:n}=c;if(t)m.current.style.opacity="1.0",eM(m.current,t,0,!1);else if(n){var e;p(!0),((e=m.current)?(requestAnimationFrame(()=>{e.style.setProperty("--expandAnimationTime","0.4s"),e.classList.add(eu.sz)}),(0,el.G)(e,[],{duration:400,endDelay:3500}).then(()=>{e.classList.remove(eu.sz),e.style.removeProperty("--expandAnimationTime")})):Promise.resolve()).then(()=>{p(!1)})}}else if(c instanceof en){let{finalPosition:e}=c;eM(m.current,e,1,!0)}}},[c]);let A=ey.BV(d,"pointerover",()=>{p(!0)});return a.createElement(a.Fragment,null,a.createElement("div",{"data-testid":`figma-comment-pin-${e.id}`,role:"button",tabIndex:0,className:K()(eu.ij,eu.C_,{[eu.wH]:t===G.LX.ACTIVE,[eu.rX]:t===G.LX.DIMMED,[eu.Fm]:e.pending||t===G.LX.ACTIVE,[eu.gy]:e.isUnread}),style:{opacity:c instanceof et&&c.initialPosition?0:1,zIndex:c instanceof en?-1:void 0,transform:0!==E.x||0!==E.y?`translate3d(${-E.x}px, ${-E.y}px, 0px)`:void 0},onPointerDown:v,onContextMenu:t=>s(e.id,{x:e.x,y:e.y,width:23*Math.min(e.avatars.length,2)+32,height:-32},t.nativeEvent),onPointerOver:A,onPointerOut:()=>{p(!1)}},a.createElement("div",{className:K()(eu.kW,{[eu.tu]:e.avatars.length>1})},h?a.createElement(eT,null):a.createElement(eg,{avatars:e.avatars}),u&&a.createElement(eS,{pin:e}))),e.selectionBoxAnchor&&u&&a.createElement(eD,{pin:e}))}),eB=a.memo(function({x:e,y:t,children:n}){let o=(0,a.useRef)(null),r=a.useContext(T.kw),i=a.useCallback(function(n){let a=o.current;if(a){let o=ek({x:e,y:t},n.zoomScale);a.style.transform=`translate3d(${o.x}px, ${o.y}px, 0px)`}},[e,t]);return(0,a.useLayoutEffect)(()=>(i(r.getViewportInfo()),e_.Y5&&e_.Y5.viewport.on("onSetViewport",i),()=>{e_.Y5&&e_.Y5.viewport.removeListener("onSetViewport",i)}),[i,r]),a.createElement("div",{style:{willChange:"transform"},ref:o},n)}),eN=a.memo(function({pin:e,selectedState:t,onPinClicked:n,onDragEnd:o,onDragUpdate:r,onDragStart:i,onContextMenu:l,animationInfo:s,recordingKey:c}){return a.createElement(eB,{x:e.x,y:e.y},a.createElement(eP,{pin:e,selectedState:t,onPinClicked:n,onDragEnd:o,onDragUpdate:r,onDragStart:i,onContextMenu:l,animationInfo:s,recordingKey:c}))});function eR(e){let{children:t}=e,n=(0,a.useRef)(null),[o,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(n.current){let e=n.current.attachShadow({mode:"open"}),t=document.createElement("style");t.innerHTML=["/** @postcss-export-raw */\n.selection_box--selectionBox--FNRhk {\n  position: absolute;\n  box-sizing: border-box;\n  border: dashed 2px var(--color-border-selected);\n  pointer-events: none;\n}\n","/** @postcss-export-raw */\n",em.Nz,eu.Nz].join("\n"),e.append(t),r(e)}},[]),a.createElement("div",{ref:n,"data-testid":"pin-renderer-shadow-dom-container"},o&&(0,q.createPortal)(t,o))}function eF({selectedPinId:e,dimUnselectedPins:t,emphasizedPinIds:n,clusteredThreads:o,clientConfig:r,shouldDisablePointerEvents:i,haveCommentsToShow:s,onPinClicked:c,onDragEnd:d,onDragUpdate:m,onDragStart:u,onContextMenu:p,disableFilteringPinsOnViewportChanges:h}){let g=(0,a.useContext)(T.kw),f=(0,H._X)({subscribeToUpdates_expensive:s}),v=(0,a.useMemo)(()=>g.getCommentsWrapperOffset(f),[g,f]),[E,A]=(0,a.useState)(f);f===E||h||A(f);let C=(0,J.ZC)(o),w=(0,a.useMemo)(()=>(function(e,t){let n=e.all();if(!t||0===t.all().length)return n.map(n=>n.pins.length>1?{cluster:n,animationInfo:new et(n,e.zoomScale,t,e.applyInstant)}:{cluster:n,animationInfo:{}});let a=n.reduce((e,t)=>(e.set(t.id,t),e),new Map),o=t.all(),r=o.reduce((e,t)=>(e.set(t.id,t),e),new Map),i=n.map(n=>{let a=r.get(n.id);return a?((0,G.xN)(n,a),{cluster:n,animationInfo:{}}):{cluster:n,animationInfo:new et(n,e.zoomScale,t,e.applyInstant)}}),l=o.filter(e=>!a.has(e.id)),s=ee()(l,t=>{let n=er(t,e);return n?[{cluster:t,animationInfo:new en(t,e.zoomScale,n)}]:[]});return s.length>100?i:s.concat(i)})(o,C),[o,C]),y=(0,a.useMemo)(()=>{let e=function(e,t){let n=(0,H.qc)(t),a=(0,H.kE)(78,t.zoomScale),o=(0,l.UI)(n,a);return e.filter(({cluster:e})=>!(e.x<o.x)&&!(e.x>o.x+o.width)&&!(e.y<o.y)&&!(e.y>o.y+o.height))}(w,E);return e.sort((e,t)=>e.cluster.id<t.cluster.id?-1:1),e},[w,E]),b=(0-f.offsetX)*f.zoomScale+v.x,_=(0-f.offsetY)*f.zoomScale+v.y,I={top:`${f.y+f.height/2}px`,left:`${f.x+f.width/2}px`,transform:`translate(${b}px, ${_}px)`};return a.createElement("div",{className:K()({"pin_renderer--overlay--oZ6wJ":!0,"pin_renderer--overlayPassthrough--IK1LV":f.isPanning||f.isZooming||i}),style:I,"data-testid":"clustered-comments-wrapper","aria-hidden":"true"},a.createElement(eR,null,a.createElement(a.Fragment,null,y.map(({cluster:n,animationInfo:o})=>{let r;return r=e?n.pins.find(t=>t.id===e)?G.LX.ACTIVE:G.LX.DIMMED:n.pins.every(e=>e.isResolved)?G.LX.DIMMED:t?G.LX.DIMMED:G.LX.NORMAL,a.createElement(a.Fragment,{key:n.id},1===n.pins.length?a.createElement(eN,{pin:n.pins[0],recordingKey:`commentPin.${n.pins[0].id}`,selectedState:r,onPinClicked:c,onDragEnd:d,onDragUpdate:m,onDragStart:u,onContextMenu:p,animationInfo:o}):a.createElement(ev,{cluster:n,selectedState:r,zoomScale:f.zoomScale,animationInfo:o}))}))))}var eU=(e=>(e[e.Gradual=0]="Gradual",e[e.Jump=1]="Jump",e))(eU||{});let eO=[R.NLJ.COMMENTS,R.NLJ.SELECT,R.NLJ.SCALE,R.NLJ.HAND,R.NLJ.TYPE],eL=(e,t,n,a)=>{let{threads:o}=e,r=o.map(e=>n(e)),i=o.map(e=>{let t=e.comments[0].client_meta;return t?.in_frame?t.node_id:void 0}),l=new Map;for(let e of r)for(let t of e.avatars)l.has(t.avatar_user_id)?(l.get(t.avatar_user_id).num_unread_comments+=t.num_unread_comments,l.get(t.avatar_user_id).num_comments+=t.num_comments):l.set(t.avatar_user_id,t);return{id:1===o.length?o[0].id:(0,G.Ao)(e,o.length),x:e.x,y:e.y,pins:r,isUnread:r.some(e=>e.isUnread),avatarMap:l,onClick:a(e,r),anchoredNode:i.every(e=>e===i[0])?i[0]:void 0,isPinnedToFile:r.some(e=>e.isPinnedToFile),isSinglePin:1===o.length}};function eH(e){return{width:23*Math.min(e-1,2)+32,height:32}}let eV=a.memo(function(e){let t=!!e.activeThread||e.threads.length>0,n=(0,M.iZ)(),i=(0,B.s)(),s=(0,Y.Z5)(),m=(0,o.wA)(),u=a.useContext(T.kw),p=(0,o.d4)(e=>e.mirror.appModel.currentTool),h=(0,V.ut)(R.Ez5?.editorState().handToolTemporarilyEnabled,!1),g=(0,b.BI)(),f=(0,o.d4)(e=>![R.m1T.DESIGN_LAYOUT,R.m1T.WHITEBOARD_LAYOUT,R.m1T.HISTORY,R.m1T.PREVIEW,R.m1T.COMMENTS,R.m1T.DEV_HANDOFF].includes(e.mirror.appModel.activeCanvasEditModeType)||e.mirror.appModel.activeUserAction!==R.QOV.DEFAULT)&&(!g||g?.shouldOptimizeForIpadApp&&g?.shouldFadeCommentsDuringEdit),E=e.activeThread?.id===v.hm,A=E?null:e.activeThread?.id||null,C=(0,o.d4)(e=>e.comments.emphasizedPinIds),{zoomScale:w,deltaOffsetX:y,deltaOffsetY:_,deltaZoomScale:I}=(0,H.PD)({subscribeToUpdates_expensive:t}),{requestToDeselectCommentPin:x}=e,[k,S]=a.useState({viewport:u.getViewportInfo(),hasJumped:!1}),D=w<k.viewport.zoomScale,N=a.useRef(e.threads);a.useEffect(()=>{N.current=e.threads},[e.threads]);let q=a.useCallback(e=>N.current?.find(t=>t.id===e)||null,[N]),Z=(0,o.d4)(e=>e.mirror.appModel.activeUserAction),K=e.dragDisabledOverride||!eO.includes(p),J=(0,W.B)(q,e.pageId,e.setClientMeta,K,e.requestToSelectCommentPin,e.isPinned),$=(0,W.x)(K),ee=a.useMemo(()=>new Set(e.threads.filter(e=>$(e)).map(e=>e.id)),[$,e.threads]),et=a.useCallback(e=>{m(c.wg({threadId:e}));let t=q(e);t&&u.setHovering(t.canvasPosition)},[u,m,q]),en=a.useCallback(e=>{m(c.RP({threadId:e})),u.setHovering(null)},[u,m]),ea=(0,r.am)(),eo=a.useCallback((e,t)=>()=>{ea("Comment Cluster Clicked",{clusterSize:t.length,commentThreadIds:t.map(e=>e.id)});let n=(0,P.xw)(s,i,e,t,u.getViewportInfo());u.navigateTo(e,n),x&&x()},[s,i,u,ea,x]),er=a.useCallback((e,t,n)=>{n.preventDefault(),n.stopPropagation();let a=q(e);if(!a)return;let o=u.getViewportInfo(),r=(0,H.Z0)(o,t),i={x:r.x+t.height/2,y:r.y-t.width/2,height:0,width:0},l=(0,H.HD)(i,o);m(d.j7({type:U.Z7,data:{thread:a,pinClientRect:l}}))},[m,u,q]),ei=a.useCallback(e=>{let t=(0,G.c4)(e.comments),a=e.comments.slice(1).reduce((e,t)=>t.isUnread?e+1:e,0),o=e.comments[0].client_meta?.selection_box_anchor;if(o&&e.comments[0].client_meta?.in_frame){let t=e.comments[0].client_meta,n=l.Mi.subtract(o,t);o=l.Mi.add(e.canvasPosition,n)}let r=!!e.isPendingFromSinatra;return{id:e.id,x:e.canvasPosition.x,y:e.canvasPosition.y,isOurs:e.comments[0].user_id===n?.id,pending:r,avatars:t,createdAt:new Date(Date.parse(e.comments[0].created_at)),onMouseEnter:()=>et(e.id),onMouseLeave:()=>en(e.id),previewMessageMeta:e.comments[0].message_meta,isUnread:e.comments[0].isUnread||a>0,numUnreadReplies:a,isDraggable:ee.has(e.id)&&!r,isResolved:!!e.comments[0].resolved_at,label:e.comments[0].order_id||"",updatedAt:e.comments[e.comments.length-1].created_at,selectionBoxAnchor:o,type:v.kT.COMMENT_THREAD,numAttachments:e.comments.map(e=>e.attachments?.length||0).reduce((e,t)=>e+t,0),isPinnedToFile:!!e.commentPin}},[n,ee,et,en]),el=a.useMemo(()=>e.threads.reduce((e,t)=>{let{canvasPosition:n}=t;return n&&e.push({...t,canvasPosition:n}),e},[]),[e.threads]),es=a.useCallback(e=>{S({viewport:u.getViewportInfo(),hasJumped:1===e})},[u]),ec=(0,F.A)(es,s.rebuildClustersZoomDelay),ed=a.useMemo(()=>{let e=new Set(el.map(e=>e.id)),t=k.viewport,n=(0,X.g)(el,t,s).map(e=>eL(e,t,ei,eo)),a=new z.n(n,e,t.zoomScale);return a.applyInstant=k.hasJumped,a},[el,k.viewport,k.hasJumped,s,ei,eo]);a.useEffect(()=>{if(w===k.viewport.zoomScale)return;let{width:e,height:t}=u.getViewportInfo();Math.abs(I)/w>.45||Math.abs(y)/e>.95||Math.abs(_)/t>.95?es(1):ec(0)},[u,I,y,_,s.rebuildClustersZoomDelay,k.viewport,w,ec,es]);let em=!!e.activeThread,eu=e.activeThread?(0,G.c4)(e.activeThread.comments).length:1,{setActivePinSize:ep}=e;a.useEffect(()=>{if(!em){ep(null);return}if(E){let e=eH(1);ep({height:e.height,width:e.width});return}ep({width:eH(eu).width,height:0})},[ep,em,E,eu]);let eh=(0,L.my)()===Q.nT.Design,eg=(0,O.Kf)({isDesign:eh,isUnauth:!n})();return a.createElement(j.p,null,a.createElement(eF,{selectedPinId:A,dimUnselectedPins:!!f,emphasizedPinIds:C,clusteredThreads:ed,clientConfig:i,shouldDisablePointerEvents:!eg&&i?.disableCommentsWhenHandToolEnabled&&p===R.NLJ.HAND||h||void 0!==Z&&Z!==R.QOV.DEFAULT,haveCommentsToShow:t,onPinClicked:J.onPinClicked,onDragEnd:J.onDragEnd,onDragUpdate:J.onDragUpdate,onDragStart:J.onDragStart,onContextMenu:er,disableFilteringPinsOnViewportChanges:D}))}),eQ=a.memo(function(e){return a.createElement(eV,{activeThread:e.activeThread,setActivePinSize:e.setActivePinSize,threads:e.threads,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,pageId:e.pageId,setClientMeta:e.setClientMeta,isCommunity:e.isCommunity,requestToSelectCommentPin:e.requestToSelectCommentPin,requestToDeselectCommentPin:e.requestToDeselectCommentPin,dragDisabledOverride:e.dragDisabledOverride,isPinned:e.isPinned,key:e.pageId})});var ez=n(206121),eY=n(335650),eG=n(525040),eW=n(243742),ej=n(915440),eX=n(763223),eq=n(255556),eZ=n(463304),eK=n(820642),eJ=n(279453),e$=n(634832),e0=n(346124),e1=n(776250),e2=n(91408),e5=n(320063),e3=n(743282),e4=n(493323),e6=n(355819),e8=n(226055),e7=n(661843),e9=n(697551),te=n(516398),tt=n(617453),tn=n(498606),ta=n(231472),to=n(328775),tr=n(697373),ti=n(228131),tl=n(91425),ts=n(728268),tc=n(636662),td=n(741843),tm=n(227795),tu=n(746806),tp=n(511617),th=n(914335);function tg(e){let{editorRef:t,container:n,initialLocation:o,closeEditor:r}=e,[i,s]=a.useState(null),c=a.useCallback(e=>{s(e.target.value.trim())},[]),d=a.useCallback(()=>(r(),!0),[r]);(0,eZ.O1)(d,eZ.KD.LINK_TOOLTIP);let m=a.useCallback(e=>{"Enter"===e.key&&(e.preventDefault(),i?t.current?.onSubmitHyperlink(i):t.current?.onRemoveHyperlink(),t.current?.focus(),r())},[r,t,i]),u=a.useCallback(e=>{t.current?.onRemoveHyperlink(),t.current?.focus(),r(),e.stopPropagation()},[r,t]);a.useEffect(()=>{t.current&&s(t.current.getActiveHyperlinkForCurrentSelection())},[t]);let p=a.useMemo(()=>{if(n.current){let e=(0,tp.E)(n.current.getBoundingClientRect()),t=o.left-e.left,a=o.top-e.top;return new l.Mi(t+o.width/2,a)}return null},[n,o.left,o.top,o.width]);return p&&null!==i?a.createElement(th.c,{url:i,location:p,onInputChange:c,onInputKeyDown:m,onBlur:()=>{r()},onClickTrash:u}):null}var tf=n(144119),tv=n(163023),tE=n(67294),tA=n(662275),tC=n(569172),tw=n(694687),ty=n(819117),tb=n(400333),t_=n(893606),tI=n(588282),tx=n(52678),tk=n(47026),tM=n(339617),tS=n(531398),tT=n(884857),tD=n(837746),tP=n(663237);let tB="feed_post_popover_modal--overlayIcon--SjGSf";var tN=n(236521),tR=n(122975);let tF=(0,e2.jz)(tD.qoo),tU=(0,e2.jz)(tD.u24),tO=(0,e2.jz)(tD.IuL),tL=(0,e2.jz)(tD.LQy);function tH(e){let t=(0,o.d4)(e=>e.comments.activeThread?.source),n=(0,o.d4)(e=>e.comments.activeThread?.id),r=(0,o.d4)(e=>e.comments.threads),i=n&&r[n]||null,l=i?.reply.messageMeta||[],s=(0,o.d4)(e=>e.comments.editingComment),d=(0,tw.sZ)(),{dispatch:m}=e,{threadPosition:u,comments:p}=e.feedPost,h=a.useContext(C.j9),E=a.useMemo(()=>h&&"loaded"===h.status&&h.data&&h?.feedApi?.reactionsApi?h.feedApi.reactionsApi.getReactionsForPost(e.feedPost.feedPostPublicUuid):{postReactions:[],commentReactions:{}},[h,e.feedPost.feedPostPublicUuid]),[A,...w]=p,y=(0,o.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===Q.nT.Whiteboard),[b,_]=(0,tl.R)(),{feedPost:I}=e,x=I.id,k=a.useCallback(e=>{m(c.k7({threadId:x,messageMeta:e}))},[m,x]),M=a.useCallback(e=>{m(c.QD({threadId:x,attachmentId:e.id,attachment:e}))},[m,x]),S=a.useCallback((e,t)=>{m(c.QD({threadId:x,attachmentId:e,attachment:null})),t?t.then(()=>ty.J.delete(e)):ty.J.delete(e)},[m,x]),T=a.useCallback(()=>{i&&(m(tC.gX({postUuid:(0,tI.gk)(x),messageMeta:i.reply.messageMeta,attachmentIds:i.reply.attachments?Object.keys(i.reply.attachments):[]})),_(),k([]),m(c.q4({threadId:x,resetStatusOnly:!1})))},[m,x,i,_,k]),D=a.useRef(null),P=a.useCallback(()=>{D.current?.scrollToBottom(),k([])},[D,k]);a.useEffect(()=>{x&&D.current?.scrollToBottom()},[x,D]);let[B,N]=a.useState(!1),R=(0,f.t$)(),F=a.useCallback(()=>{m((0,tA.to)({type:tx.K,data:{postUuid:I.feedPostPublicUuid,inFileView:!0}})),m(c.UU({force:!0}))},[m,I.feedPostPublicUuid]),U=a.useRef(null),O=a.useRef(null),L=(0,t_.R)(),H=e.viewportInfo.height-2*tU;y&&(L?H-=tL:H-=tO);let V=H-tF,z=!t&&!e.mountUnfocused,Y=[...new Set(I.comments.map(e=>e.user.handle))];return d?a.createElement(e6.P,{ref:D,maxHeight:V,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),width:R,scrollingDisabled:!!e.hyperlinkLocation,allowScrollAndZoomOver:!0,"data-not-draggable":!0},a.createElement("div",{className:tP.Q,role:"status","aria-live":"polite","aria-atomic":"true"},b),a.createElement("div",{className:"feed_post_popover_modal--postColumn--2MySW"},a.createElement(tM.B,{date:A.created_at,user:A.user,size:tE.Pf.MEDIUM,shortDate:!1}),a.createElement("div",{className:"feed_post_popover_modal--postThumbnailContainer--69nje",onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),onClick:F,role:"button",tabIndex:0},a.createElement("img",{src:I.feedPostThumbnail,alt:"placeholder",className:"feed_post_popover_modal--postThumbnail--jac1E",style:{backgroundColor:I.feedPostThumbnailBackground,padding:I.padFeedPostThumbnail?"8px":"0"}}),I.feedPostNumContent>1&&a.createElement("div",{className:"feed_post_popover_modal--numContent--S8q68 feed_post_popover_modal--postThumbnailOverlay--vDoKP"},a.createElement(tv.B,{svg:tN.A,className:tB})),B&&a.createElement("div",{className:"feed_post_popover_modal--expand--cHMgw feed_post_popover_modal--postThumbnailOverlay--vDoKP"},a.createElement(tv.B,{svg:tR.A,className:tB}))),a.createElement("div",{className:"feed_post_popover_modal--subtitleRow--kW-8f"},a.createElement("div",{className:"feed_post_popover_modal--postedToFeed--mHMFC"},(0,g.t)("fig_feed.posted_to_feed"))," "),a.createElement("div",null,a.createElement("div",{className:"feed_post_popover_modal--postTitle--4GzeH"},I.feedPostTitle),a.createElement(tb.HH,{messageMeta:A.message_meta,commentId:e.feedPost.id,className:"feed_post_popover_modal--postDescription--j6YqM"})),a.createElement("div",{className:"feed_post_popover_modal--reactionSection--cxj-W"},a.createElement(tS.Q$,{type:tS.Us.FULL,source:tS.zY.FILE_POPOVER,feedReactions:E.postReactions,postId:A.feed_id,postUuid:e.feedPost.feedPostPublicUuid}))),a.createElement("div",{className:"feed_post_popover_modal--postCommentlist--NUSo7"},w.map(t=>a.createElement(tk.i,{key:t.id,commentId:t.feed_id,commentUuid:t.uuid||"",reactions:t.uuid&&E.commentReactions[t.feed_id]||[],messageMeta:t.message_meta,commentUser:t.user,createdAt:t.created_at,user:e.user,currentOrgId:d.id,mentionables:e.mentionables,attachments:t.attachments}))),e.isLoading&&a.createElement("div",{className:tT.wG},a.createElement(e4.kt,{size:"small"})),a.createElement(tc.K,{editorRef:U,dispatch:m,user:e.user,typeahead:e.comments.typeahead,mentionables:e.mentionables,threadPosition:u,messageMeta:l,submitText:(0,g.t)("comments.reply"),placeholderText:(0,g.t)("comments.reply"),setHyperlinkLocation:e.setHyperlinkLocation,hyperlinkLocation:e.hyperlinkLocation,setHyperlinkEditorRef:e.setHyperlinkEditorRef,onCancel:e.onCloseEsc,onSubmit:T,onComposeFocus:e.onComposeFocus,onEditStart:P,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,isDisabled:!!s,mountInputFocused:z,updateMessage:k,setIsEditorFocused:e.setIsEditorFocused,isEmojiPickerDisabled:!!e.comments.editingComment,hideEmojiPicker:e.hideEmojiPicker,allowAttachments:!0,attachments:i?.reply.attachments?Object.values(i.reply.attachments):[],updateAttachment:M,deleteAttachment:S,recordingKey:v.Dw.feedPopover,className:tT.MJ,threadId:x,fileKey:e.feedPost.key,editingExistingComment:!1,editorType:"comment-editor-reply",authorNames:Y,replyContainerRef:O})):null}var tV=n(841368),tQ=n(118786),tz=n(460869),tY=n(799569),tG=n(46481),tW=n(140908),tj=n(862442),tX=n(374626),tq=n(392592),tZ=n(931828),tK=n(297586),tJ=n(672517),t$=n(683694),t0=n(106757),t1=n(857375),t2=n(133107);function t5(e){let t=(0,tX.md)(t0.p9),n=(0,tX.md)(I.yV),o=(0,tK.kJ)();return(0,tW.yo)({user:t,file:n,numPinnedCommentThreads:o})?o>0?a.createElement(t4,{id:e.id,commentPin:e.commentPin,numPinnedCommentThreads:o}):a.createElement(t3,null,a.createElement(t4,{id:e.id,commentPin:e.commentPin,numPinnedCommentThreads:o})):null}function t3(e){return(0,tW.k3)()?e.children:null}function t4(e){let t=!(0,tX.md)(t$.wg),{pinApi:n}=(0,C.I_)(),r=(0,o.wA)(),i=!!e.commentPin,l=e.numPinnedCommentThreads>=10,s=!i&&l||t;async function c(){try{r(tZ.b({has_toggled_comment_pin:!0})),i?await n?.removePin(e.id,e.commentPin.id):await n?.setPin(e.id)}catch(e){if(!e||e?.data?.status===422)return;e?.data?.i18n?r(tq.F.enqueue({message:(0,g.Jv)(e,e.data.message),error:!0})):r(tq.F.enqueue({message:(0,g.YD)("comments.pinning.err.fallback"),error:!0}))}}return a.createElement(tJ.fu,{name:"Pin comment icon",properties:{isPinned:i}},a.createElement(tm.K0,{disabled:s,className:K()(i?"pinned_comments_styles--pinned--vsm-n":"pinned_comments_styles--unpinned--3IeHf",s&&tT.VM),"data-tooltip-type":tn.Ib.TEXT,"data-tooltip":i?(0,g.t)("comments.pinning.unpin_comment"):(0,g.t)("comments.pinning.pin_comment"),"data-onboarding-key":i?"unpin-comment-icon":"pin-comment-icon",dataTestId:"pin-comment-button-thread-header",onClick:c,onMouseDown:e=>e.stopPropagation(),recordingKey:"threadHeader.pinCommentButton"},a.createElement(tv.B,{svg:i?t2.A:t1.A})))}var t6=n(95779),t8=n(885722),t7=n(323322),t9=n(411929),ne=n(164828);function nt(e){let t="header",n=a.useRef(null),r=a.useRef(null),i=a.useRef(null),l=(0,o.d4)(e=>e.comments.activeThread?.source),s=(0,o.wA)(),m=(0,e8.GS)();a.useEffect(()=>{if(l&&!e.mountUnfocused)switch(l){case v.Eq.prevButton:r.current?.focus();break;case v.Eq.nextButton:i.current?.focus();break;case v.Eq.accessibilityCommentPin:break;default:(0,e$.assertNever)(l)}},[e.mountUnfocused,l]);let u=a.useMemo(()=>e.dropdownShown?.type===U.VJ&&e.dropdownShown.data?.type===t,[e.dropdownShown]),p=(0,C.I_)(),h=(0,B.s)(),f=(0,tj.Z)("comments_navigate"),E=a.useContext(T.kw),A=(t,n)=>{t&&s(c.bB({receiptsAPI:p.commentReceipts,thread:t,viewport:E,source:n,skipDeactivatingExistingActiveComment:e.isPinned,config:h,navigate:f}))},w=(0,tW.U6)()&&!!e.thread.commentPin;return a.createElement("div",{className:tT.F7,"data-testid":"thread-header-container"},a.createElement("div",{className:tT.xS,"data-onboarding-key":"thread-header-left-section","data-fullscreen-intercept":!0},m?(0,g.tx)("comments.comment_n"):a.createElement(a.Fragment,null,a.createElement(tm.K0,{className:K()(tT.UR,!e.prevThread&&tT.VM),svg:t7.A,"data-tooltip-type":tn.Ib.TEXT,"data-tooltip":(0,g.t)("comments.previous"),"aria-label":(0,g.t)("fullscreen.accessibility.previous_comment"),disabled:!e.prevThread,onKeyDown:()=>A(e.prevThread,v.Eq.prevButton),onClick:()=>A(e.prevThread),onMouseDown:e=>e.stopPropagation(),dataTestId:"threadModalLeft",ref:r,"data-fullscreen-intercept":!0}),a.createElement(tm.K0,{className:K()(tT.UR,!e.nextThread&&tT.VM),svg:t8.A,"data-tooltip-type":tn.Ib.TEXT,"data-fullscreen-intercept":!0,"data-tooltip":(0,g.t)("comments.next"),"aria-label":(0,g.t)("fullscreen.accessibility.next_comment"),disabled:!e.nextThread,onKeyDown:()=>A(e.nextThread,v.Eq.nextButton),onClick:()=>A(e.nextThread),onMouseDown:e=>e.stopPropagation(),dataTestId:"threadModalRight",ref:i}))),a.createElement("div",{className:tT.eX},a.createElement(tm.YW,{onClick:a=>{if(!(e.dropdownShown&&e.dropdownShown.type===U.VJ)){a.stopPropagation();let o=n.current;s(d.j7({type:U.VJ,data:{type:t,comment:e.thread.comments[0],parentRect:o?.getBoundingClientRect()??null,thread:e.thread,isUnread:e.thread.comments.some(e=>e.isUnread)}}))}},recordingKey:"threadHeader.moreActionsButton",selected:u,ref:n,"data-tooltip-type":tn.Ib.TEXT,"data-tooltip":(0,g.t)("comments.thread_actions"),"data-fullscreen-intercept":!0,onMouseDown:e=>e.stopPropagation()},a.createElement(tG.U,{svg:t6.A},a.createElement(tV.J,null))),a.createElement(t5,{id:e.thread.id,commentPin:e.thread.commentPin}),!e.hideResolve&&a.createElement(tm.K0,{disabled:w,"data-fullscreen-intercept":!0,"data-tooltip-type":tn.Ib.TEXT,"data-tooltip":e.resolved?w?(0,g.t)("comments.pinning.cannot_unresolve"):(0,g.t)("comments.mark_as_unresolved"):w?(0,g.t)("comments.pinning.cannot_resolve"):(0,g.t)("comments.mark_as_resolved"),onClick:()=>{e.setResolved({thread:e.thread,resolved:!e.resolved})},recordingKey:"threadHeader.resolveButton",onMouseDown:e=>e.stopPropagation(),className:K()(e.resolved&&tT.aW,w&&tT.VM)},a.createElement(tG.U,{svg:e.resolved?ne.A:t9.A},e.resolved?a.createElement(tQ.g,null):a.createElement(tz.W,null))),e.customIcon,a.createElement(tY.Jn,{className:tT.UR,recordingKey:"threadHeader",onClick:e.onClose,innerText:(0,g.t)("comments.close"),"aria-label":(0,g.t)("comments.close"),"data-fullscreen-intercept":!0})))}var nn=n(908198),na=n(41486);let no=(0,e2.hG)(tD.qoo),nr=(0,e2.hG)(tD.u24),ni=(0,e2.jz)(tD.M$q),nl=(0,e2.hG)(tD.PXB),ns=e=>{e.stopPropagation()},nc=[],nd=[],nm=a.memo(e=>{let t=a.useContext(T.kw),n=(0,o.d4)(e=>e.comments.threads)[e.threadId],r=n?.discardAttempts||0,[i,l]=a.useState(0),{positionRef:s,disableCentering:c}=e;a.useEffect(()=>{r<=0||(async()=>{let e=s.current,n=t.getViewportInfo();e&&!c&&await t.navigateTo(e,n.zoomScale,{duration:600,ignoreVisibleTargets:!0}),l(r)})()},[l,s,c,r,t]);let{editorRef:d,editingCommentEditorRef:m}=e,u=a.useCallback(()=>{if(m.current){m.current.selectAll();return}d.current?.selectAll()},[d,m]);return a.createElement(td.c,{wiggleCount:i,onWiggle:u},e.children)});function nu(e){let t=(0,x.z3)(),n=(0,o.d4)(e=>e.comments.activeThread?.source),r=(0,o.d4)(e=>e.comments.activeThread?.id),i=(0,o.d4)(e=>e.comments.threads),s=(0,e7.Kq)(e.thread),d=r&&i[r]||null,m=d?.discardAttempts||0,u=d?.reply.messageMeta||nc,p=d?.reply.attachments?Object.values(d?.reply.attachments):nd,h=(0,o.d4)(e=>e.comments.editingComment),[E,A]=a.useState(!1),C=(0,e8.GS)(),[w,y]=a.useState((0,f.t$)()),[b,_]=a.useState(no),I=function(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e},[t,e]),t}(e.thread.canvasPosition),k=a.useRef(null),M=C?ni:nl,{legalLeft:S,legalRight:T,legalBottom:D,useLegalBounds:P}=function(){let e=(0,tf.sO)(),t=(0,V.ut)(R.Ez5?.singleSlideView().isInSingleSlideView,!1),n=(0,tt.dP)(),a=(0,tt.qw)(),o=(0,V.ut)(R.Ez5?.editorPreferences().speakerNotesHeight,0),r=R.Ez5?.singleSlideView().bottomToolbeltHeightInViewport()??0;return e&&t?{legalLeft:n+ni,legalRight:a+ni,legalBottom:o+r,useLegalBounds:!0}:{legalLeft:0,legalRight:0,legalBottom:0,useLegalBounds:!1}}(),B=a.useRef(!1),N=a.useCallback(n=>{let{x:a,y:o,width:r,height:i}=e.viewportInfo;if("fullscreen"===t&&!n.page)return new l.Mi(a,o);if(!n.threadPosition)return;if(e.useAbsolutePositioning)return new l.Mi(n.threadPosition.x,n.threadPosition.y);let s=n.threadPosition.x+a,c=n.threadPosition.y+o;if(P){let t=S+M,n=a+r-T-w-M;s=(0,e0.clamp)(s,t,n);let l=k.current?k.current.getBoundingClientRect().height:b,d=e.viewportInfo.y+M,m=o+i-D-l-M;!B.current&&k.current&&(B.current=!0,L(null)),c=d>m?d:(0,e0.clamp)(c,d,m)}return new l.Mi(s,c)},[t,e.viewportInfo,e.useAbsolutePositioning,P,S,T,D,w,b,M]),F=(0,tr.Rf)(),U=a.useMemo(()=>{let t=e.viewportInfo.x+M+F.xDelta,n=e.viewportInfo.y+M+F.yDelta;return new l.Mi(t,n)},[e.viewportInfo.x,e.viewportInfo.y,F.xDelta,F.yDelta,M]),[O,L]=a.useState(null),H=a.useMemo(()=>e.isPinned?U:s?U:N(e.thread)||new l.Mi(0,0),[e.isPinned,e.thread,s,U,N]),Q=(0,J.ZC)(H);(0,a.useLayoutEffect)(()=>{if(O&&!e.isPinned){let e=Q?H.subtract(Q):new l.Mi(0,0);e.equals(new l.Mi(0,0))||L(O.add(e))}},[H,O,Q,e.isPinned]);let z=(0,a.useMemo)(()=>O??H,[H,O]),{dispatch:Y,setIsPinned:G}=e,{threadPosition:W,comments:j}=e.thread;(0,e5.h)(()=>{let e=eC.sn.tryStop("view_comment_thread");e&&(0,e1.sx)("view_comment_thread",{elapsedMs:e},{forwardToDatadog:!0})});let X=(0,e9.kc)(),Z=!C&&"fullscreen"===t,[K,$]=a.useState(e.thread.comments.length),ee="communityHub"===t?X:e.user,[et,en]=(0,tl.R)(),{submitReply:ea,thread:eo}=e,er=eo.id,ei=eo.uuid,el=a.useCallback(()=>{let e=(0,e3.g)();eC.sn.start(`comment_reply_creation_${e}`),ea({threadId:er,threadUuid:ei,uuid:e}),en()},[ea,er,ei,en]);(0,e5.h)(()=>()=>{j.map(e=>{e.uuid&&e.isPendingFromSinatra&&eC.sn.tryStop(`comment_reply_creation_${e.uuid}`)})});let es=a.useCallback(e=>{Y(c.k7({threadId:er,messageMeta:e}))},[Y,er]),ec=a.useRef(null),ed=a.useRef(null),em=a.useCallback(e=>{Y(c.QD({threadId:er,attachmentId:e.id,attachment:e}))},[Y,er]),eu=a.useCallback((t,n)=>{Y(c.QD({threadId:er,attachmentId:t,attachment:null})),1===p.length&&ec.current?.focus(),n?n.then(()=>to.l.delete(e.thread.key,t)):to.l.delete(e.thread.key,t)},[e.thread.key,Y,er,p.length]),ep=a.useRef(null),eh=a.useCallback(()=>{ep.current?.scrollToBottom(),es([])},[ep,es]),{updateCommentContent:eg}=e,ef=a.useCallback((e,t,n)=>{eg({comment:e,messageMeta:t,attachmentUpdates:n})},[eg]),ev=a.useCallback(()=>{G(!1);let e=document.getElementById(`accessibility-comment-pin-${er}`);if(e?.focus(),!(0,ew.I)(u)){if(m&&ec.current?.isAllSelected()||(0,ew.Kx)(u)&&0===p.length){es([]),Y(c.pD());return}return!1}},[G,er,u,m,p.length,es,Y]),eE=a.useCallback(()=>{G(!1),Y(c.UU({force:!0}));let e=document.getElementById(`accessibility-comment-pin-${er}`);e?.focus()},[Y,G,er]),eA=(0,o.d4)(e=>e.universalInsertModal?.pinned===ta.t.PINNED_AND_DOCKED_LEFT),ey=(0,J.ZC)(U),eb=ey&&ey!==U,e_=ey&&z.equals(ey);a.useEffect(()=>{eb&&e_&&(G(!0),L(U))},[U,eb,e_,G]);let eI=z.equals(U),ex=(0,tr.sj)();a.useEffect(()=>{ex&&eI&&ex()},[eI,ex,Y]),a.useEffect(()=>{er&&ep.current?.scrollToBottom()},[er,ep]);let[ek,eM]=a.useState(null),[eS,eT]=a.useState(a.useRef(null)),eD=a.useMemo(()=>function(e){return a.createElement(nm,{editorRef:ec,editingCommentEditorRef:ed,positionRef:I,threadId:er,disableCentering:"communityHub"===t||"prototype"===t},e.children)},[er,I,ec,t]),[eP,eB]=a.useState(!1),[eN,eR]=a.useState(!1),eF=a.useCallback(e=>{e?.stopPropagation(),G(!0),L(U),A(!0)},[G,U]),{modalRef:eU}=e;a.useEffect(()=>{eU&&(eU.current={popout:()=>eF()})},[eU,eF]),(0,te.C_)(k),a.useEffect(()=>{if(n&&!e.mountUnfocused)switch(n){case v.Eq.accessibilityCommentPin:if(k.current){let e=q.findDOMNode(k.current);e&&e.focus()}break;case v.Eq.prevButton:case v.Eq.nextButton:break;default:(0,e$.assertNever)(n)}},[k,e.mountUnfocused,n]);let eO=a.useRef(null),eL=(0,tr.UR)(ti.b.DOCK_STYLE),eH=(0,tr.Y6)(),eV=(0,tr.eW)();return(()=>{if(!z||e.thread.isCanvasMention)return null;let t=(0,f.vl)(e.viewportInfo,e.thread,C,eV.paddingRight),o={x:U.x-w,y:0,width:2*w+M,height:window.innerHeight};eA&&(o.x-=w,o.width+=w);let r=a.createElement(tm.K0,{svg:na.A,"data-tooltip-type":tn.Ib.TEXT,"data-tooltip":(0,g.t)("comments.dock_to_side"),recordingKey:"activeThread.dockToSideButton",onClick:eF,onMouseDown:e=>e.stopPropagation(),"data-fullscreen-intercept":!0}),i=e.viewportInfo.height-2*nr,l=window.innerHeight-e.viewportInfo.y-e.viewportInfo.height+nr,s=e.viewportInfo.x+nr,c=window.innerWidth-e.viewportInfo.x-e.viewportInfo.width+nr;i+=eH.maxHeightDelta,l+=eH.minBottomMarginDelta,s+=eH.minLeftMarginDelta,c+=eH.minRightMarginDelta;let d=i-no,m=e.useAbsolutePositioning?tT.wC:E?tT.xe:tT.wb,I=!n&&!e.mountUnfocused,x=[...new Set(eo.comments.map(e=>e.user.handle))];return a.createElement(a.Fragment,null,Z&&eP&&eN&&a.createElement("div",{className:eL??nn.kV,style:{left:U.x,height:i}}),a.createElement(tu.BL,{position:z,width:w,height:b,setPosition:L,setWidth:y,setHeight:_,maxHeight:i,frameStyle:{boxShadow:"var(--elevation-400-menu-panel, 0px 2px 14px rgba(0, 0, 0, .15), 0 0 0 0.5px rgba(0, 0, 0, .2))",pointerEvents:"auto"},containerClassName:m,shouldScrollToBottom:()=>{let t=K<e.thread.comments.length;t&&$(e.thread.comments.length);let n=e.thread.comments[e.thread.comments.length-1];return t&&n.user_id===e.user?.id},onDragStart:()=>{eR(!0),A(!1)},onDragEnd:e=>{eR(!1),G(!0);let t=e.x<U.x,n=tu.rk.CALL_ENSURE_MODAL_ON_SCREEN;return Z&&(eP||t)?(L(U),A(!0),n=tu.rk.SKIP_ENSURE_MODAL_ON_SCREEN):L(e),n},dataTestId:"comment-thread-draggable-modal",minTopMargin:e.viewportInfo.y+nr,minLeftMargin:s,minRightMargin:c,minBottomMargin:l,alwaysEnsureModalOnScreen:!0,autoflowHeight:!0,bounds:o,onEnterBound:()=>eB(!0),onLeaveBound:()=>eB(!1),disableDragging:e.disableDragging,container:eD,allowWheelPassthrough:!0,onClose:eE},ek&&eS&&a.createElement(tg,{editorRef:eS,container:k,initialLocation:ek,closeEditor:()=>{eM(null)}}),a.createElement("div",{ref:k,className:tT.OM,tabIndex:-1,"aria-label":(0,g.t)("fullscreen.accessibility.comment_thread_label"),role:"region","data-fullscreen-intercept":!0},a.createElement(nt,{resolved:!!j[0].resolved_at,setResolved:e.setResolved,onClose:eE,thread:t,customIcon:!eI&&e.showDockToSideButton?r:void 0,isPinned:e.isPinned,dropdownShown:e.dropdownShown,mountUnfocused:e.mountUnfocused,nextThread:e.nextThread,prevThread:e.prevThread,viewportInfo:e.viewportInfo,hideResolve:e.hideResolve}),eo.sidebarItemType===v.kT.COMMENT_THREAD?a.createElement(e6.P,{ref:ep,maxHeight:d,onMouseDown:ns,onPointerDown:ns,width:w,scrollingDisabled:!!ek,allowScrollAndZoomOver:!0,"data-not-draggable":!0},a.createElement("div",{className:tP.Q,role:"status","aria-live":"polite","aria-atomic":"true"},et),j.map((n,o)=>a.createElement(ts.I,{editorRef:ed,key:`thread-comment-${n.id}`,dispatch:Y,user:e.user,thread:t,setHyperlinkLocation:eM,hyperlinkLocation:ek,setHyperlinkEditorRef:eT,comment:n,typeahead:e.comments.typeahead,mentionables:e.mentionables,prevAuthor:0===o?null:j[o-1].user_id,index:o,editingComment:e.comments.editingComment,submitEdit:ef,dropdownShown:e.dropdownShown,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,threadPosition:t.threadPosition,setIsEditorFocused:e.setIsEditorFocused,hideReactions:e.hideReactions,showEditedIndicator:!!(e.showEditedIndicators&&n.edited_at),hideEmojiPicker:e.hideEmojiPicker,allowAttachments:!0,setResolved:e.setResolved,hideResolve:e.hideResolve,mountInputFocused:!0,editorType:"comment-editor-thread"})),e.isLoading&&a.createElement("div",{className:tT.wG},a.createElement(e4.kt,{size:"small"})),!e.commentCreationDisabled&&a.createElement(tc.K,{editorRef:ec,dispatch:Y,user:ee,typeahead:e.comments.typeahead,mentionables:e.mentionables,threadPosition:W,messageMeta:u,attachments:p,submitText:(0,g.t)("comments.reply"),placeholderText:(0,g.t)("comments.reply"),setHyperlinkLocation:eM,hyperlinkLocation:ek,setHyperlinkEditorRef:eT,onCancel:ev,onSubmit:el,onComposeFocus:e.onComposeFocus,onEditStart:eh,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,isDisabled:!!h,mountInputFocused:I,updateMessage:es,updateAttachment:em,deleteAttachment:eu,setIsEditorFocused:e.setIsEditorFocused,isEmojiPickerDisabled:!!e.comments.editingComment,hideEmojiPicker:e.hideEmojiPicker,allowAttachments:!0,recordingKey:v.Dw.reply,className:tT.MJ,threadId:er,fileKey:e.thread.key,editingExistingComment:!1,editorType:"comment-editor-reply",authorNames:x,replyContainerRef:eO})):eo.sidebarItemType===v.kT.FEED_POST?a.createElement(tH,{feedPost:eo,viewportInfo:e.viewportInfo,comments:e.comments,dropdownShown:e.dropdownShown,user:e.user,dispatch:Y,mentionables:e.mentionables,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,setIsEditorFocused:e.setIsEditorFocused,hideEmojiPicker:e.hideEmojiPicker,showEditedIndicators:e.showEditedIndicators,isLoading:e.isLoading,onComposeFocus:e.onComposeFocus,mountUnfocused:e.mountUnfocused,hyperlinkLocation:ek,setHyperlinkLocation:eM,setHyperlinkEditorRef:eT,onCloseEsc:ev}):void(eo.sidebarItemType===v.kT.WALKTHROUGH_MEDIA?console.error("not implemented yet in active_thread.tsx"):(0,e$.assertNever)(eo)))))})()}var np=n(128906),nh=n(616121);function ng(e){return a.createElement("svg",{className:"anchor--anchorIcon--e1LTz",viewBox:"0 0 34 41",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"svg-comment-pin"},a.createElement("path",{fill:e.bodyColor,d:"M17 1C25.8366 1 33 8.16344 33 17C33 23.6257 27.6611 28.9662 17 39.6274C6.33887 28.9663 1.00001 23.6257 1 17C1 8.16344 8.16344 1 17 1Z"}),a.createElement("path",{fill:e.outlineColor,opacity:"0.4",d:"M17 40.3345L16.6261 39.9606C11.3156 34.6501 7.29362 30.6281 4.60457 27.1037C1.90336 23.5633 0.500006 20.4662 0.5 17C0.5 7.8873 7.8873 0.5 17 0.5C26.1127 0.5 33.5 7.8873 33.5 17C33.5 20.4662 32.0967 23.5633 29.3954 27.1037C26.7064 30.6281 22.6845 34.65 17.374 39.9605L17 40.3345ZM33 17C33 8.16344 25.8366 1 17 1C8.16344 1 1 8.16344 1 17C1.00001 23.552 6.22083 28.8474 16.6464 39.2738C16.7174 39.3447 16.7885 39.4159 16.8599 39.4873C16.9065 39.5339 16.9532 39.5806 17 39.6274C17.1185 39.5089 17.2364 39.391 17.3536 39.2738C27.7792 28.8474 33 23.552 33 17Z"}),e.isNew&&a.createElement("circle",{cx:"16.5",cy:"16.5",r:"2.25",fill:e.labelColor}))}let nf={x:0,y:0};function nv(e){let t=(0,o.d4)(e=>e.selectedView),n=(0,M.iZ)(),r=a.useContext(T.kw),i="communityHub"!==t.view||e.thread.comments[0]?.user_id===n?.id,s=(0,o.wA)(),[d,m]=a.useState(null),[u,p]=function(){let e=a.useRef(null),t=a.useCallback(t=>{if(null===t){e.current=null;return}let n=e.current||{};e.current={...n,...t}},[e]);return[e,t]}(),h=a.useRef(e);h.current=e;let{viewportPositionFromClientPosition:g,offset:E}=e,A=a.useCallback(e=>{let t=u.current;if(!t)return;let n=h.current,a=g(new l.Mi(e.clientX,e.clientY)),o=Math.max(t.maxDist,l.Mi.distance(a,t.startPosition));if(p({...t,maxDist:o}),o<f.wB)return;let r=n.computeDropLocation(a,t.mouseOffset);if(!n.isInViewport(r))return;let d=l.Mi.add(a,t.mouseOffset);if(n.thread.id===v.hm){let e=n.viewport.current;if(!e)return;s(c.vV({anchorPosition:(0,H.$$)(e,d)}))}else i&&(s(c.UU()),m(d))},[u,g,p,s,i]),C=a.useCallback(e=>{let t=u.current;if(!t)return;let n=h.current;m(null);let a=g(new l.Mi(e.clientX,e.clientY)),o=n.viewport.current;if(!o)return;if(!(t.maxDist>f.wB)||!i)return p(null);let s=n.computeDropLocation(a,t.mouseOffset);if(!n.isInViewport(s))return p(null);let c=r.getCommentDestinationForCanvasPosition(s,n.pageId);return n.thread.id===v.hm||n.setClientMeta({thread:n.thread,clientMeta:{x:s.x,y:s.y,node_id:c?.nodeId,node_offset:c?.nodeOffset||void 0,viewport:o,page_id:n.pageId,in_frame:c?.inFrame,stable_path:c?.stablePath}}),p(null)},[u,g,i,r,p]),w=a.useCallback(e=>{if(0!==e.button)return;e.stopPropagation();let t=g(new l.Mi(e.clientX,e.clientY));p({startPosition:t,mouseOffset:l.Mi.subtract(E||nf,t),maxDist:0})},[g,p,E]);a.useEffect(()=>(document.addEventListener("pointermove",A),document.addEventListener("pointerup",C),()=>{document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",C)}),[A,C]);let{type:y,resolved:b,active:_}=e,I=a.useCallback(()=>{if("face"===y)return{anchorOutlineColor:"",anchorBodyColor:"",anchorLabelColor:"",anchorClass:"anchor--facePinAnchor--JxEdi"};let e="anchor--anchor--P9sAD";b&&(e="anchor--resolvedAnchor--iU0Ct anchor--anchor--P9sAD");let t=nh.R3,n=nh.Dr;_&&(n="#0d99ff");let a=nh.QQ;return _&&(a=nh.Vm,e+=" anchor--activeAnchor--464Qe anchor--anchor--P9sAD"),{anchorOutlineColor:t,anchorBodyColor:n,anchorLabelColor:a,anchorClass:e}},[y,b,_]),{x,y:k}=d||e.offset||nf,S=`translate(${x}px, ${k}px)`,D=I();return a.createElement("div",{"aria-hidden":!0,style:{transform:S,WebkitTransform:S},className:`${D.anchorClass} ${U.Dm}`,onPointerDown:w},"face"===e.type?a.createElement("div",{className:"anchor--commentPinIcon--6I08n"}):a.createElement(a.Fragment,null,a.createElement(ng,{isNew:e.isNew,bodyColor:D.anchorBodyColor,outlineColor:D.anchorOutlineColor,labelColor:D.anchorLabelColor}),a.createElement("span",{className:"anchor--anchorLabel--SUXKt",style:{color:D.anchorLabelColor}},e.label)))}function nE(e){let t=(0,np.H)(e.viewportInfo),n=e.thread,r=a.useContext(T.kw),i=a.useCallback((e,n)=>{let a=l.Mi.add(e,n);return(0,H.$$)(t.current,a)},[t]),s=a.useCallback(e=>{let n=r.getValidCommentsRect(),a=(0,H.Z0)(t.current,e);return(0,f.rN)(a,n)},[r,t]),c=(0,M.iZ)(),d=(0,e9.kc)(),m="communityHub"===(0,o.d4)(e=>e.selectedView).view?d:c;return a.createElement(nv,{type:"face",pageId:e.pageId,thread:n,offset:e.thread.anchorPosition||void 0,computeDropLocation:i,isInViewport:s,isNew:!0,active:!0,resolved:!1,viewport:t,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,setClientMeta:e.setClientMeta,entity:m})}var nA=n(860601),nC=n(818),nw=n(213190),ny=n(517333),nb=n(498083);class n_ extends a.PureComponent{constructor(e){super(e),this.onMouseUpPos=e=>{nb.AU("mouseup",this.onMouseUpPos),nb.AU("mousemove",this.onMouseMovePos);let{onDragEnd:t}=this.props,{drag:n}=this.state;if(!n){this.setState({drag:null});return}let a=performance.now()-n.startedAt;t&&t({start:n.start,duration:a,position:e}),this.setState({drag:null})},this.onMouseDownPos=e=>{nb.on("mouseup",this.onMouseUpPos),nb.on("mousemove",this.onMouseMovePos),this.setState({drag:{start:e,startedAt:performance.now()}});let{onDragStart:t}=this.props;t&&t({start:e,position:e,duration:0})},this.onMouseMovePos=e=>{let{onDragUpdate:t}=this.props,{drag:n}=this.state;if(n&&t){let a=performance.now()-n.startedAt;t({start:n.start,duration:a,position:e})}},this.state={drag:null}}componentWillUnmount(){nb.AU("mouseup",this.onMouseUpPos),nb.AU("mousemove",this.onMouseMovePos)}render(){let e=this.state.drag?{pointerEvents:"none"}:void 0;return a.createElement("div",{role:"button",tabIndex:-1,style:{...e,...this.props.bounds,...this.props.useAbsolute&&{position:"absolute"}},className:"viewport_draggable--container---XH8-","data-forward-events-to-fullscreen":"true",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onContextMenu:e=>{ny.eD||(e.stopPropagation(),e.preventDefault())}},this.props.children)}}let nI={onMouseDownPos:()=>{},onMouseMovePos:()=>{},onMouseUpPos:()=>{}};function nx(e){let t=a.useRef(null),n=function(e){let[t,n]=a.useState(nI);return a.useEffect(()=>{e.current&&n({onMouseDownPos:e.current.onMouseDownPos,onMouseMovePos:e.current.onMouseMovePos,onMouseUpPos:e.current.onMouseUpPos})},[e,n]),function(e){let{onMouseDownPos:t,onMouseMovePos:n,onMouseUpPos:o}=e,r=a.useContext(T.kw),i=a.useCallback((e,t)=>{let n=r.getViewportInfo();return l.Mi.subtract({x:e,y:t},new l.Mi(n.x,n.y))},[r]),s=a.useCallback(e=>i(e.clientX,e.clientY),[i]),c=a.useCallback((e,t)=>{let n=s(e);o&&o(n,t)},[o,s]),d=a.useCallback((e,n)=>{if(e.button&&0!==e.button)return;let a=s(e);t&&t(a,n)},[t,s]),m=a.useCallback((e,t)=>{let a=s(e);n&&n(a,t)},[n,s]);return a.useMemo(()=>({onMouseUp:c,onMouseDown:d,onMouseMove:m}),[c,d,m])}(t)}(t),r=(0,o.d4)(e=>e.selectedView);return a.createElement(n_,{ref:t,onMouseDown:n.onMouseDown,onMouseMove:n.onMouseMove,onMouseUp:n.onMouseUp,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,children:e.children,bounds:e.bounds,useAbsolute:"communityHub"===r.view})}var nk=n(710381);let nM=(0,e2.hG)(tD.u24),nS=new class{constructor(e,t){this.guide=null;let n=0;"number"==typeof e&&(n=e),this.inset={top:e.top||e.vertical||n,bottom:e.bottom||e.vertical||n,left:e.left||e.horizontal||n,right:e.right||e.horizontal||n},t&&(this.guide=document.createElement("div"),this.guide.id="inset-guide",this.guide.style.position="fixed",this.guide.style.zIndex="10",this.guide.style.display="none",this.guide.style.pointerEvents="none",document.firstElementChild.append(this.guide))}_computePositionWithinInsetBounds(e,t,n,a,o,r,i){r=r??0,i=i??0;let l=n.top,s=n.bottom-this.inset.bottom,c={};t.y<l?c.y=l:t.y+e.clientHeight>s&&(c.y=s-e.clientHeight);let d=n.left,m=n.right;if(t.x<d+r?c.x=d+r:t.x+e.clientWidth>m-i&&(c.x=m-i-e.clientWidth),c.x&&a&&c.x<t.x){let n=Math.min(a.x-(o?.x||0),m-i)-e.clientWidth;n>d+r?c.x=n:c.x=t.x}return c}computePositionWithinInsetBounds(e,t,n,a,o,r,i){let l={top:this.inset.top,left:this.inset.left,right:n.width-this.inset.right,bottom:n.y+n.height-this.inset.bottom},s=this._computePositionWithinInsetBounds(e,t,l,a,o,r,i);if(this.guide){let e={top:n.y+this.inset.top,left:n.x+this.inset.left,width:n.width-this.inset.right-this.inset.left,height:n.height-this.inset.bottom-this.inset.top};this.guide.style.top=`${e.top}px`,this.guide.style.left=`${e.left}px`,this.guide.style.height=`${e.height}px`,this.guide.style.width=`${e.width}px`,this.guide.style.display="block",s.y||s.x?this.guide.style.border="1px solid red":this.guide.style.border="1px solid green"}return s}}(nM);function nT(e){let{thread:t,viewportBounds:n,onSubmit:r,discardAttempts:i}=e,s=(0,o.wA)(),d=a.useRef(null),m=a.useCallback(()=>{d.current&&d.current.scrollIntoView({block:"end"})},[d]),{anchorPosition:u}=t,[p,h]=a.useState(null),[E,A]=a.useState({x:0,y:0}),C=l.Mi.add(u,E,p),w=(0,o.d4)(e=>e.comments.activeDragTarget),y=(0,tt.dP)(),b=(0,tt.qw)(),_=(0,tt.UX)(),x="ui3"===(0,eW.DP)().version,k=(0,nw.qM)(),M=(0,nC.b)(),S=(0,o.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===Q.nT.Design),T=(0,o.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===Q.nT.Slides),D=(0,o.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===Q.nT.DevHandoff),P=0,B=0;x&&(S||D||T)&&(P=k||M?0:y,!M&&((S||T)&&(B=b),D&&(B=_)));let N=function(e,t,n,o,r,i,s,c){let d=e.current,m=a.useMemo(()=>t?l.Mi.add(t,i):null,[i,t]);return a.useMemo(()=>{if(!m)return null;if(!d||!o)return m;let e=o.computePositionWithinInsetBounds(d,m,n,t,r,s,c);return{...m,...e}},[d,n,o,m,t,r,s,c])}(d,C,n,nS,f.hx,e.pinOffset,P,B);a.useEffect(()=>{m()},[m]);let R=t.id,F=e.thread.comments.length;a.useEffect(()=>{R!==v.hm&&m()},[m,R,F]);let[O,L]=a.useState(null),H=a.useCallback(e=>{s(c.Z5({messageMeta:e}))},[s]),V=a.useCallback(e=>{s(c.nb({attachmentId:e.id,attachment:e}))},[s]),z=(0,I.tS)(),Y=(0,o.Pj)(),G=a.useCallback((t,n)=>{z&&(s(c.nb({attachmentId:t,attachment:null})),0===Object.keys(Y.getState().comments.newComment.attachments||{}).length&&e.editorRef.current?.focus(),n?n.then(()=>to.l.delete(z,t)):to.l.delete(z,t))},[s,z,Y,e.editorRef]),W=a.useCallback(()=>{r(e.thread)},[r,e.thread]),j=a.useCallback(()=>{let t=Y.getState().comments.newComment;!(0,ew.I)(t.messageMeta)&&(i&&e.editorRef.current?.isAllSelected()||(0,ew.Kx)(t.messageMeta)&&0===Object.keys(t.attachments||{}).length)&&s(c.Z5({messageMeta:[]}))},[Y,i,e.editorRef,s]),X=(0,o.d4)(e=>e.comments.threads),q=X[e.thread.id]?.state===v.EB.BUSY;if(!N)return null;let{x:Z,y:K}=N,J=`translate(${Z}px, ${K}px)`,$=`calc(${e.viewportBounds.height}px - (2 * ${nM}px))`,ee=!0===e.disablePointerEvents?"new_comment_container--translatedThreadContainerNoPointerEvents--9z1L5 new_comment_container--translatedThreadContainer--2xkOH":`new_comment_container--translatedThreadContainer--2xkOH ${U.Dm}`,et=e.thread.id===v.hm?"new_comment_container--newCommentContainerNext--bCfo7 new_comment_container--threadContainer--XIsVX text--fontPos11--2LvXf text--_fontBase--QdLsd overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7":"new_comment_container--threadContainer--XIsVX text--fontPos11--2LvXf text--_fontBase--QdLsd overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",en=(0,g.t)("comments.add_a_comment");return a.createElement(nx,{onDragUpdate:e=>{h(l.Mi.subtract(e.position,e.start))},onDragEnd:e=>{p&&(A(l.Mi.add(p,E)),h(null))},bounds:n},a.createElement("div",{style:{transform:J,WebkitTransform:J},className:ee},a.createElement(td.c,{wiggleCount:e.discardAttempts||0,onWiggle:e.onDiscardAttempt},O&&a.createElement(tg,{editorRef:e.editorRef,container:d,initialLocation:O,closeEditor:()=>{L(null)}}),a.createElement("div",{ref:d,className:`${et} ${w?"new_comment_container--highlighted--wsvS9":""}`,style:{maxHeight:$}},a.createElement(nk.C,{fallback:null,errorFallback:a.createElement(nk.e,{type:"new"}),editorRef:e.editorRef,editorType:"comment-editor-new",dispatch:s,user:e.user,typeahead:e.typeahead,mentionables:e.mentionables,threadPosition:e.thread.threadPosition,messageMeta:e.thread.messageMeta,attachments:e.thread.attachments,submitText:(0,g.t)("comments.post"),placeholderText:en,onSubmit:W,onComposeFocus:e.onComposeFocus,onCancel:j,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,isDisabled:q,updateMessage:H,updateAttachment:V,deleteAttachment:G,setIsEditorFocused:e.setIsEditorFocused,setHyperlinkLocation:L,hyperlinkLocation:O,setHyperlinkEditorRef:nA.lQ,recordingKey:v.Dw.new,hideEmojiPicker:e.hideEmojiPicker,allowAttachments:!0,maxCommentLength:e.maxCommentLength,mountInputFocused:!e.mountUnfocused,mountWithButtons:!0,threadId:v.hm,fileKey:z,editingExistingComment:!1,scrollToBottom:m})))))}function nD(e){let t=(0,o.d4)(e=>e.comments.newComment.discardAttempt),n=a.useRef(null),r=a.useCallback(()=>{n.current?.selectAll()},[n]),i=(0,H.th)(e.viewportInfo);return a.createElement("div",null,a.createElement(nE,{thread:e.thread,pageId:e.pageId,viewportInfo:e.viewportInfo,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,setClientMeta:e.setClientMeta}),!e.hideComposer&&a.createElement(nT,{thread:e.thread,pinOffset:e.pinOffset,editorRef:n,viewportBounds:i,discardAttempts:t,onDiscardAttempt:r,user:e.user,typeahead:e.typeahead,mentionables:e.mentionables,onSubmit:e.onSubmit,onComposeFocus:e.onComposeFocus,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,setIsEditorFocused:e.setIsEditorFocused,hideEmojiPicker:e.hideEmojiPicker,maxCommentLength:e.maxCommentLength,mountUnfocused:e.mountUnfocused,pageId:e.pageId,viewportInfo:e.viewportInfo,setClientMeta:e.setClientMeta}))}var nP=n(238559),nB=n(522739);let nN="comment_selection_box--selectionBox--bg--z";function nR(e){let t=(0,H.Z0)(e.viewportInfo,e.pinCanvasPosition),n=(0,H.Z0)(e.viewportInfo,e.selectionBoxAnchorCanvasPosition),[o,r]=a.useState(void 0),[i,l]=a.useState(void 0),[s,c]=a.useState(n.x-10),[d,m]=a.useState(n.y-10),[u,p]=a.useState(0),[h,g]=a.useState(0),[f,v]=a.useState(""),E=(0,tr.fG)(),A=a.useCallback(()=>{r({mousePosition:e.selectionBoxAnchorCanvasPosition,startZoomScale:e.viewportInfo.zoomScale}),c(n.x-10-2500),m(n.y-10-2500),p(5e3),g(5e3),v("translate(2500px, 2500px"),l(E(e.pinCanvasPosition,e.nodeId)||void 0)},[e.nodeId,e.pinCanvasPosition,e.selectionBoxAnchorCanvasPosition,e.viewportInfo,n,r,l,c,m,p,g,v,E]),{onSetNewSelectionBoxAnchor:C,viewportPositionFromClientPosition:w}=e,y=a.useCallback(t=>{if(!o)return;let a=nF(t.clientX,t.clientY,w,e.viewportInfo,i);r({mousePosition:a,startZoomScale:o.startZoomScale});let l=(0,H.Z0)(e.viewportInfo,a),s=l.x-n.x+2500,c=l.y-n.y+2500;v(`translate(${s}px, ${c}px)`)},[o,r,v,i,n.x,n.y,w,e.viewportInfo]),b=a.useCallback((e,t)=>{let n=(0,H.Z0)(e,t);r(void 0),l(void 0),c(n.x-10),m(n.y-10),p(0),g(0),v("")},[r,l,c,m,p,g,v]),_=a.useCallback(t=>{if(!o)return;let n=nF(t.clientX,t.clientY,w,e.viewportInfo,i);C(n),b(e.viewportInfo,n)},[o,i,C,w,b,e.viewportInfo]);a.useEffect(()=>{o||(c(n.x-10),m(n.y-10))},[n,o]),a.useEffect(()=>{o&&o.startZoomScale!==e.viewportInfo.zoomScale&&b(e.viewportInfo,e.selectionBoxAnchorCanvasPosition)},[o,e.viewportInfo,e.selectionBoxAnchorCanvasPosition,b]);let I=o?(0,H.Z0)(e.viewportInfo,o.mousePosition):n,x=Math.min(t.x,I.x),k=Math.min(t.y,I.y),M=Math.max(t.x-x,I.x-x),S=Math.max(t.y-k,I.y-k);return a.createElement(a.Fragment,null,a.createElement("div",{className:nN,style:{left:x,top:k,width:M,height:S}}),e.canUpdateSelectionBoxAnchor&&a.createElement(nB.D8,{role:"button",tabIndex:-1,className:"comment_selection_box--selectionBoxAnchor--6twQJ",style:{left:s,top:d,width:u,height:h},onMouseDown:A,onMouseMove:y,onMouseUp:_,dataTestId:"comment-selection-box-anchor",recordingKey:"commentSelectionBox.anchor"},a.createElement("div",{className:"comment_selection_box--selectionBoxAnchorIcon--iMwhF",style:{transform:f}})))}function nF(e,t,n,a,o){let r=n(new l.Mi(e,t)),i=(0,H.$$)(a,r);if(!o)return new l.Mi(i.x,i.y);let s=(0,ew.pV)(i,o);return new l.Mi(s.x,s.y)}var nU=n(113292);function nO(e){let t=(0,M.Pc)(),n=(0,o.wA)(),r=(0,o.d4)(e=>e.comments.typeahead);return a.createElement(nD,{pinOffset:e.pinOffset,thread:e.thread,viewportInfo:e.viewportInfo,typeahead:r,mentionables:e.mentionables,user:t,pageId:e.pageId,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,dispatch:n,onSubmit:e.submitNewComment,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,setIsEditorFocused:e.setIsEditorFocused,setClientMeta:e.setClientMeta,hideEmojiPicker:e.hideEmojiPicker,maxCommentLength:e.maxCommentLength,onComposeFocus:e.onComposeFocus,mountUnfocused:e.mountNewCommentUnfocused,hideComposer:e.hideComposer})}function nL({viewportBounds:e,isCommunityMentions:t=!1,children:n,activeDragTarget:o}){return a.createElement("div",{"data-forward-events-to-fullscreen":!0,className:`${o?"comments_modal--detailsContainerToFront--mQO8y comments_modal--detailsContainer--zHNy9":"comments_modal--detailsContainer--zHNy9"} ${U.Uu}`,style:{...t&&{position:"absolute"},top:e.y,left:e.x,height:e.height,width:e.width}},n)}function nH(e){let t=(0,o.wA)(),n=(0,H._X)({subscribeToUpdates_expensive:!0}),r=(0,nU._B)(),i="ui3"===(0,eW.DP)().version,s=(0,tr.eW)(),m=a.useMemo(()=>(0,f.vl)(n,e.thread,i,s.paddingRight),[e.thread,n,i,s.paddingRight]),u=(0,x._6)(),p="communityHub"===u.view,h=(0,f.eR)(e.thread.id),g=a.useRef(null),E=a.useRef(null),{onClear:A}=r,{submitReply:C,submitNewComment:w}=e,y=a.useCallback(e=>{C(e),A()},[C,A]),b=a.useCallback(()=>{w(),A()},[w,A]),_=(0,o.d4)(e=>e.comments.editingComment),I=(0,o.d4)(e=>e.dropdownShown||null),k=(0,o.d4)(e=>e.comments.activeDragTarget),T=a.useCallback(()=>g.current?.visible?(g.current.clearDecorators(),!0):I&&I.type===U.VJ?(t(d.oB()),!0):!!_||(t(c.UU()),!0),[t,_,I]);(0,eZ.O1)(T,eZ.KD.MODAL);let{pinOffset:D}=e,P=a.useMemo(()=>{if(!D)return f.hx;let{width:e,height:t}=D;return{x:e+f.hx.x,y:f.hx.y-t}},[D]),B=(0,eX.y)()&&m.sidebarItemType===v.kT.FEED_POST,N=p?eq.j:(0,S.zW)({feedPostUuid:B?m.feedPostPublicUuid:void 0}),R=a.useCallback(e=>{let t=e.comments[0].client_meta,n=e.comments[0].client_meta.selection_box_anchor,a=l.Mi.subtract(n,t);return l.Mi.add(e.canvasPosition,a)},[]),F=(0,o.d4)(e=>e.comments.newComment),O=a.useCallback(e=>{if(h)t(c.a$({selectionBoxAnchor:e}));else{if(!m.comments[0].client_meta?.selection_box_anchor)return;let n={...m.comments[0].client_meta};if(m.comments[0].client_meta.in_frame){let t=R(m),a=l.Mi.subtract(e,t);n.selection_box_anchor=l.Mi.add(n.selection_box_anchor,a)}else n.selection_box_anchor=e;t(c.hY({thread:m,clientMeta:n}))}},[t,m,h,R]),L="communityHub"===u.view,V=(0,M.TA)(),Q=(0,M.Pc)(),z=(0,o.d4)(e=>e.comments),Y="prototype"===u.view,G="communityHub"===u.view,W=a.useMemo(()=>"communityHub"===u.view&&"hubFile"===u.subView&&(0,eK.t0)(u.fullscreenState),[u]),j=null;h?j=F.selectionBoxAnchor:m.comments[0].client_meta?.selection_box_anchor&&(m.comments[0].client_meta?.in_frame,j=m.selectionAnchorCanvasPosition??m.boundingBoxAnchorCanvasPosition??null);let X=!!(0,ej.Rs)(eJ.dDF,{key:e.thread.key}).data,q=V===m.comments[0]?.user_id;return null===n?null:a.createElement(a.Fragment,null,a.createElement("div",{className:`comments_modal--overlay--1hWXV ${k?"comments_modal--dimBackground--Vyo3f":""}`}),a.createElement(nL,{viewportBounds:n,isCommunityMentions:p,activeDragTarget:k},m.canvasPosition&&j&&a.createElement(nR,{nodeId:m.comments[0]?.client_meta?.node_id,selectionBoxAnchorCanvasPosition:j,pinCanvasPosition:m.canvasPosition,viewportInfo:n,onSetNewSelectionBoxAnchor:O,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,canUpdateSelectionBoxAnchor:!m.boundingBoxAnchorCanvasPosition&&(h||q||X)}),h?a.createElement(nO,{pinOffset:P,thread:m,viewportInfo:n,pageId:e.pageId,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,mentionables:N,submitNewComment:b,setClientMeta:e.setClientMeta,hideEmojiPicker:L,maxCommentLength:e.maxCommentLength,onComposeFocus:e.onComposeFocus,mountNewCommentUnfocused:e.mountNewCommentUnfocused,editorOnInsert:r.editorOnInsert,editorOnClear:r.editorOnClear,setIsEditorFocused:r.setIsEditorFocused,hideComposer:e.hideComposer}):m.sidebarItemType===v.kT.COMMENT_THREAD||m.sidebarItemType===v.kT.FEED_POST&&(0,eX.y)()?a.createElement(nu,{modalRef:E,thread:m,viewportInfo:n,comments:z,dropdownShown:I,user:Q,dispatch:t,mentionables:N,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,editorOnInsert:r.editorOnInsert,editorOnClear:r.editorOnClear,setIsEditorFocused:r.setIsEditorFocused,updateCommentContent:e.updateCommentContent,submitReply:y,setResolved:e.setResolved,hideEmojiPicker:L,hideResolve:e.hideResolve||!(0,v.m)(m.sidebarItemType),hideReactions:G,useAbsolutePositioning:G&&!W,disableDragging:G&&!W,showEditedIndicators:G,commentCreationDisabled:e.commentCreationDisabled,ignoreThreadContainerScrollOnLoad:G,isLoading:e.isLoading,showDockToSideButton:!i&&!G&&!Y,isPinned:e.isPinned,setIsPinned:e.setIsPinned,onComposeFocus:e.onComposeFocus,mountUnfocused:e.mountNewCommentUnfocused,prevThread:e.prevThread,nextThread:e.nextThread}):void 0,a.createElement(nP.wV,{decoratorsRef:g,onClear:r.onClear,onInsert:r.onInsert,position:m.threadPosition||void 0,isCommunityMentions:p})))}function nV({renderDetailContainerInPortal:e,detailContainerPortal:t,...n}){let o=a.createElement(nH,{...n});return e?t?(0,q.createPortal)(o,t):null:o}var nQ=n(498750),nz=n(258786),nY=n(233890);class nG{constructor(e,t=15){this.eventProvider=e,this.dragMin=t,this.dragInfo=null,this._dragCallbacks={},this._onMouseDownOverride=null,this.canvasPositionClick=(e,t)=>this._onCanvasPositionClick?.(e,{replace:t}),this.viewportPositionClick=(e,t)=>this._onViewportPositionClick?.(e,{replace:t}),this.onDown=e=>{if(this.dragInfo={id:`drag-at-${performance.now()}`,start:e,position:e},this._onMouseDownOverride){this._onMouseDownOverride(e),this.dragInfo.interrupted=!0;return}this._dragCallbacks.onDragStart?.(this.dragInfo)},this.onUp=(e,t)=>{if(!this.dragInfo){this._onViewportPositionClick?.(e,t);return}if(this.dragInfo.interrupted)return;let n=this.dragInfo;if(this.dragInfo=null,!(l.Mi.distance(e,n.start)>this.dragMin)||this._dragCallbacks.canDrag&&!this._dragCallbacks.canDrag()){this._dragCallbacks.onDragCancel?.(n.id),this._onViewportPositionClick?.(e,t);return}this._dragCallbacks.onDragEnd?.(n)},this.onMove=e=>{this.dragInfo&&!this.dragInfo.interrupted&&(this.dragInfo={...this.dragInfo,position:e},this._dragCallbacks.onDragUpdate?.(this.dragInfo))}}set onCanvasPositionClick(e){this._onCanvasPositionClick=e}set onViewportPositionClick(e){this._onViewportPositionClick=e}set onMouseDown(e){this._onMouseDownOverride=e}set dragCallbacks(e){this._dragCallbacks=e}subscribe(){return this.eventProvider.on("down",this.onDown),this.eventProvider.on("up",this.onUp),this.eventProvider.on("move",this.onMove),()=>{this.eventProvider.off("down",this.onDown),this.eventProvider.off("up",this.onUp),this.eventProvider.off("move",this.onMove)}}cancel(){this.dragInfo&&(this.dragInfo.interrupted=!0,this._dragCallbacks.onDragCancel?.(this.dragInfo.id))}}function nW(e){return{on:(t,n)=>{let a=e[t];a&&nb.on(a,n)},off:(t,n)=>{let a=e[t];a&&nb.AU(a,n)}}}let nj=nW({down:"mousedown",up:"mouseup",move:"mousemove"}),nX=nW({}),nq={subscribe:!0,touchEvents:!1};function nZ(e){let t=a.useContext(T.kw),n=(0,tr.pC)(),r=(0,tr.gu)(),i=(0,tr.fG)(),l=(0,o.wA)(),s=(0,o.d4)(e=>e.selectedView.view),{dragEventHandler:d}=e,{canvasPositionClick:m}=d,[u,p]=a.useState(null),[h,g]=a.useState(null),[f,v]=a.useState(null),E=a.useMemo(()=>"communityHub"===s?{}:{canDrag:()=>l(c.UU()),onDragStart:e=>{let n=(0,H.$$)(t.getRawViewportInfo(),e.start);v(n),p((0,H.$$)(t.getRawViewportInfo(),e.position)),g(i(n))},onDragCancel:()=>{v(null),p(null),g(null)},onDragUpdate:e=>{if(!f||!u)return;let n=(0,H.$$)(t.getRawViewportInfo(),e.position);if(h){let e=(0,ew.pV)(n,h);(e.x!==u.x||e.y!==u.y)&&p(e);return}p(n)},onDragEnd:e=>{if(f&&u){if(n((0,H.$$)(t.getRawViewportInfo(),e.start))){r(),v(null),p(null),g(null);return}m(u,!0)&&l(c.a$({selectionBoxAnchor:(0,H.$$)(t.getRawViewportInfo(),e.start)})),v(null),p(null),g(null)}}},[t,n,i,r,l,m,s,u,p,h,g,f,v]);a.useEffect(()=>{d.dragCallbacks=E},[E,d]);let A=u?(0,H.Z0)(t.getRawViewportInfo(),u):null,C=f?(0,H.Z0)(t.getRawViewportInfo(),f):null;if(!A||!C)return null;let w=Math.min(C.x,A.x),y=Math.min(C.y,A.y),b=Math.max(C.x-w,A.x-w),_=Math.max(C.y-y,A.y-y);return a.createElement("div",{className:nN,style:{left:w,top:y,width:b,height:_}})}let nK={replace:!1};function nJ(e){let{requestToDeselectCommentPin:t,requestToAddDraftCommentPin:n}=e,r=(0,H.ni)(),i=(0,o.d4)(e=>e.selectedView.view),l=(0,o.d4)(e=>e.comments.editingComment),s=(0,o.d4)(e=>e.comments.emojiPicker),d=(0,o.wA)(),{activeId:m,commentCreationDisabled:u}=e,p=(0,o.d4)(e=>e.mirror.appModel.currentTool)===R.NLJ.COMMENTS&&"fullscreen"!==i,h=function(e,t,n,r,i){let{requestToDeselectCommentPin:l,eventPreferences:s,allowCompose:d,requestToAddDraftCommentPin:m}=r||{},u=a.useContext(T.kw),p=(0,tr.pC)(),h=(0,tr.gu)(),g=(0,o.wA)(),v=(0,V.ut)(R.Ez5?.singleSlideView().focusedSlideId,null),E=a.useRef(v);a.useEffect(()=>{v!==E.current&&(E.current=v,g(c.UU()))},[v,g]);let A=a.useCallback((a,o)=>{if(e&&(d||!t))return l?!0!==o&&(l(),!0):(n&&n(!1),!g(c.UU())||!0!==o)},[e,d,t,l,n,g]),{touchEvents:C}=s||{},w=a.useCallback((e,t)=>{let n=(0,H.Z0)(u.getViewportInfo(),e),{replace:a}=t||nK;if(!A(n,a)&&(!C||a)&&(0,f.rN)(n,u.getValidCommentsRect())){if(p(e)){h();return}return m?m?.({x:n.x,y:n.y,width:32*1.15,height:32*1.15}):(g(c.vV({anchorPosition:e})),g(c.CX())),e}},[A,m,C,u,p,h,g]),y=a.useCallback((e,t)=>w((0,H.$$)(u.getRawViewportInfo(),e),t),[u,w]);return function(e,t,n,o,r,i){let{touchEvents:l,subscribe:s}={...nq,...o||{}},c=a.useCallback(()=>new nG(l?nX:nj),[l]),[d,m]=a.useState(()=>c());return a.useEffect(()=>{m(c())},[c]),a.useEffect(()=>s?d.subscribe():()=>{},[d,s]),a.useEffect(()=>{l&&r&&i?.current?(r.updateTapGestureRecognizer(i.current,e=>{t(e)}),r.updateMultiTouchLongPressGestureRecognizer(i.current,e=>{t(e,{replace:!0})},1)):(d.onCanvasPositionClick=e,d.onViewportPositionClick=t)},[e,t,d,l,r,i]),a.useEffect(()=>{d.onMouseDown=n},[n,d]),d}(w,y,d?null:A,s,a.useContext(nz.W),i)}(m,e.isActiveCommentPinned,e.setIsPinned,{requestToAddDraftCommentPin:n,eventPreferences:{touchEvents:e.preferTouchOverMouseForComments},allowCompose:!0!==u||p,requestToDeselectCommentPin:t},e.gestureCanvasRef),g=a.createRef(),v=a.useCallback(t=>{if(t.keyCode===nQ.Uz.ESCAPE&&(h.cancel(),!l&&e.activeId)){s&&s.visible&&d(c.RI({visible:!1}));return}},[d,l,e.activeId,s,h]),E=ey.v_(e.recordingKey,"keydown",v),A=a.useCallback(e=>{E(e.event)},[E]),C=a.useRef();if(a.useEffect(()=>{if(C.current&&"details"===e.mode&&!e.activeId){C.current();return}},[e.mode,C,e.activeId]),!r)return null;let{x:w,y,width:b,height:_}=r,I={left:e.positionRelativeToCanvas?0:w,top:e.positionRelativeToCanvas?0:y,width:b,height:_};return a.createElement(nY.vL,{name:"comments-view-canvas",focusOnMount:!1,propagateKeyboardFocus:!0,handleKeyDown:A,ref:g,focusFunctionRef:C,style:{position:"absolute"}},a.createElement("div",{"data-forward-events-to-fullscreen":!0,className:"comments_view--viewContainer--gpOsy comments_view--_container--bDxcy"},a.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:"comments_view--outerAnchorContainer--ppSFh comments_view--_container--bDxcy",ref:e.forwardedRef,style:I},a.createElement(nZ,{dragEventHandler:h}),e.children)))}let n$=a.forwardRef((e,t)=>a.createElement(nJ,{...e,forwardedRef:t}));function n0(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e},[e]),a.useCallback(e=>{let n=t.current,a=n.find(t=>t.id===e);if(a)return function(e,t){let n;if(!e.canvasPosition)return;let a=1/0;return t.forEach(t=>{t.id!==e.id&&t.canvasPosition&&t.page===e.page&&l.Mi.distance(e.canvasPosition,t.canvasPosition)<a&&(n=t,a=l.Mi.distance(e.canvasPosition,t.canvasPosition))}),n}(a,n)},[t])}function n1(e,t,n){if(0===e.comments.length)return!1;let a=e.comments[0]?.user_id===n,o=e.comments.some(e=>e.user_id===n||(0,f.F$)(e).includes(n));return t.canEdit||a||o}let n2=e=>{let[t,n]=a.useState(!1),o=(0,r.am)();return[t,a.useCallback(t=>{n(t),t&&o("Comment Pinned",{parentCommentId:e})},[e,o])]};function n5(e){var t;let{activeId:n}=e,r=a.useContext(T.kw),s=(0,o.d4)(e=>"communityHub"===e.selectedView.view),c=(0,M.iZ)(),u=(0,I.q5)(),p=(0,o.d4)(e=>e.selectedView.commentThreadId),h=(0,o.wA)(),g=a.useContext(N.hh),f=g.filteredThreads,E=(0,nU.WM)(f,e.pageId,n,e.showOnlyParticipatingComments,e.hideInactiveComments);t=f.status,(0,k.t)(e=>{"loaded"===t&&e("comments_rendered")},[t]);let A=(0,nU.hC)(g.threads,[]),w="loaded"===g.threads.status,y=(0,C.Le)(),b=p&&w&&A.some(e=>e.id===p),_=!!p&&w&&!b&&y,S=(0,nU.nq)(p,w,n,A,r,e.requestToSelectCommentPin);a.useEffect(()=>{(S||_)&&h(m.ST())},[S,_,h]);let D=(0,nU.uB)(n,e.pageId),B=(0,nU.zf)(E,r.getViewportInfo()),[R,F]=a.useMemo(()=>{let e=B.findIndex(e=>e.id===n);return -1===e?[void 0,void 0]:[B[e-1],B[e+1]]},[B,n]),U=c?.id&&D&&u?n1(D,u,c.id):null,O=e.hideResolve||!U,L=a.useRef(null),H=a.useCallback(e=>{if(L.current){let t=L.current.getBoundingClientRect();return e.subtract(new l.Mi(t.left,t.top))}return new l.Mi(0,0)},[]),[V,Q]=a.useState(null),z=!(e.requestToSelectCommentPin&&D?.id!==v.hm),[Y,G]=n2(D?.id),W=(0,x._6)();return a.useEffect(()=>{if(D&&D.sidebarItemType===v.kT.WALKTHROUGH_MEDIA&&(0,i.kc)().async_spotlight&&"fullscreen"===W.view&&W.walkthroughRecordingId!==D.walkthrough.id){(0,eY.J1)(u.key,u.editorType,eY.NA.COMMENT,D.walkthrough.id);let e={...W,walkthroughRecordingId:D.walkthrough.id};h((0,d.$T)(e))}},[D,h,W,u]),a.createElement(a.Fragment,null,(0,i.kc)().comments_react?a.createElement(eQ,{activeThread:D,isPinned:Y,setActivePinSize:Q,threads:E,viewportPositionFromClientPosition:H,pageId:e.pageId,setClientMeta:e.setClientMeta,isCommunity:s,requestToSelectCommentPin:e.requestToSelectCommentPin,requestToDeselectCommentPin:e.requestToDeselectCommentPin,dragDisabledOverride:e.dragDisabledOverride}):a.createElement(P.IN,{activeThread:D,isPinned:Y,setActivePinSize:Q,threads:E,viewportPositionFromClientPosition:H,pageId:e.pageId,setClientMeta:e.setClientMeta,isCommunity:s,requestToSelectCommentPin:e.requestToSelectCommentPin,requestToDeselectCommentPin:e.requestToDeselectCommentPin,dragDisabledOverride:e.dragDisabledOverride}),a.createElement(n$,{mode:e.mode,ref:L,activeId:n,isActiveCommentPinned:Y,setIsPinned:G,positionRelativeToCanvas:e.positionRelativeToCanvas,recordingKey:"commentsViewCanvas",commentCreationDisabled:"pins"===e.mode||e.commentCreationDisabled,requestToDeselectCommentPin:e.requestToDeselectCommentPin,requestToAddDraftCommentPin:e.requestToAddDraftCommentPin,preferTouchOverMouseForComments:e.preferTouchOverMouseForComments,gestureCanvasRef:e.gestureCanvasRef},D&&D.sidebarItemType===v.kT.WALKTHROUGH_MEDIA?a.createElement(a.Fragment,null):a.createElement(a.Fragment,null,D&&z&&a.createElement(nV,{pinOffset:V,pageId:e.pageId,thread:D,isPinned:Y,setIsPinned:G,viewportPositionFromClientPosition:H,updateCommentContent:e.updateCommentContent,submitReply:e.submitReply,submitNewComment:e.submitNewComment,setClientMeta:e.setClientMeta,setResolved:e.setResolved,hideResolve:O,commentCreationDisabled:e.commentCreationDisabled,isLoading:e.isLoadingActiveThread,maxCommentLength:e.maxCommentLength,onComposeFocus:e.onComposeFocus,mountNewCommentUnfocused:e.mountNewCommentUnfocused,prevThread:R,nextThread:F,hideComposer:!!e.requestToAddDraftCommentPin,renderDetailContainerInPortal:e.renderDetailContainerInPortal,detailContainerPortal:e.detailContainerPortal}))))}function n3(e){let t=(0,S.Qt)(e.activeId);return a.createElement(a.Fragment,null,a.createElement(D.p,{featureFlag:"mobile_reply_upsell"},a.createElement(ez.T,null)),a.createElement(n4,{...e,usersOnFile:t}))}function n4(e){let t=(0,C.wq)(),n=(0,B.s)(),r=(0,o.wA)(),i=function(){let e=(0,eG.Vi)(),t=(0,o.d4)(e=>e.mirror.appModel.showComments);return e?"details":!1===t?null:"pins"}(),{pageId:l,modeOverride:d}=e,m=a.useContext(T.kw),u=(0,nU.H6)(m,l),p=(0,C.I_)().writeAPI,h=a.useCallback(e=>{if(!p){console.error("Calling submitReply with no write API");return}"loaded"===t.status&&t.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(t,a,o,i)=>c.dB(p,r,t,a,o,i,e.uuid,n),r(c.lV({...e,commentsWriteApi:p,commentsConfiguration:n})),(0,s.YQ)({id:ez.w}))},[r,t,p,n]),g=a.useCallback(e=>{if(!p){console.error("Calling submitNewComment with no write API");return}e.onCommentValidationFailure=(e,t,n,a)=>c.C(r,e,t,n,a),r(c._v(e))},[r,p]),f=(0,o.d4)(e=>e.selectedView),E=(0,b.Yi)(f),I=(0,o.d4)(e=>"fullscreen"===e.selectedView.view),x=(0,w.aV)(),{isLoading:k}=(0,y._Z)(),M=d||i,S=(0,nU.hC)(t,[]);(0,_.d0)(e.activeId,S,m,I,u),(0,_.$P)(e.activeId,S,m,d,M);let D=(0,b.sc)(),P=a.useCallback(e=>{e.thread.sidebarItemType===v.kT.WALKTHROUGH_MEDIA?r(A(e)):r(c.hY(e))},[r]),N=a.useCallback(e=>{r(c.hx(e))},[r]);if(I&&(x||k)||null===M||E)return null;let R=!I&&!!D?.requestToSelectCommentPin&&!!D?.requestToDeselectCommentPin&&!!D?.requestToAddDraftCommentPin;return a.createElement(n5,{mode:M,activeId:e.activeId,pageId:e.pageId,showResolvedComments:e.showResolvedComments,showOnlyParticipatingComments:e.showOnlyParticipatingComments,hideInactiveComments:!1,updateCommentContent:g,submitReply:h,submitNewComment:()=>{u(),(0,s.YQ)({id:ez.w})},setClientMeta:P,setResolved:N,positionRelativeToCanvas:!1,requestToSelectCommentPin:D?.requestToSelectCommentPin,requestToDeselectCommentPin:D?.requestToDeselectCommentPin,requestToAddDraftCommentPin:D?.requestToAddDraftCommentPin,dragDisabledOverride:D?.shouldDisableCommentDrag,preferTouchOverMouseForComments:R,gestureCanvasRef:e.gestureCanvasRef,renderDetailContainerInPortal:e.renderDetailContainerInPortal,detailContainerPortal:e.detailContainerPortal})}n5.displayName="CommentsOverlay"},330633:(e,t,n)=>{n.d(t,{g:()=>d,H:()=>l});var a=n(55786),o=n(911259),r=n(572206);class i{constructor(e,t,n){this.cellSize=e,this.neighborThreshold=t,this.sizeFn=n,this.grid=new Map,this.NEIGHBORING_CELL_DELTAS=[[0,0],[-1,0],[0,-1],[0,1],[1,0],[1,-1],[1,1],[-1,-1],[-1,1]]}add(e){let{x:t,y:n}=this.getCoords(e),a=this.toCellIndex(n),o=this.toCellIndex(t);this.getCell(a,o).push(e)}findNeighbor(e){let t=this.sizeFn(e),{x:n,y:a}=this.getCoords(e),o=this.toCellIndex(a),i=this.toCellIndex(n);for(let[n,a]of this.NEIGHBORING_CELL_DELTAS)for(let l of this.getCell(o+n,i+a))if(l!==e){let e=this.sizeFn(l);if((0,r.gt)(t,e)<=this.neighborThreshold)return l}return null}getCoords(e){let t=this.sizeFn(e);return{x:t.x+t.width/2,y:t.y+t.height/2}}getCell(e,t){let n=this.grid.get(e);n||(n=new Map,this.grid.set(e,n));let a=n.get(t);return a||(a=[],n.set(t,a)),a}toCellIndex(e){return Math.floor(e/this.cellSize)}}function l(e,t){return Math.max(e.minZoomPercentage/100-t,0)*e.zoomScaleOverlap}let s=(e,t)=>{t.forEach(t=>{let n=e.threads.length,a=t.threads.length,o=n+a,r=e.x*n/o+t.x*a/o,i=e.y*n/o+t.y*a/o;e.x=r,e.y=i,e.threads=e.threads.concat(t.threads)})};class c{constructor(e,t,n){let r=l(t,e.zoomScale),s=o.XC.getPinSize(3),c=Math.ceil(Math.max(a.u5,s.width,s.height)+r);this.distanceGrid=new i(c,r,n)}getNearbyNeighbor(e){return this.distanceGrid.findNeighbor(e)||void 0}onAddToResultCluster(e){this.distanceGrid?.add(e)}}function d(e,t,n){let o=[],r=null;for(let t of e)t.isActive?r=t:o.push({x:t.canvasPosition.x,y:t.canvasPosition.y,threads:[t]});let i=e=>a.ip.getClusterViewportRect(e,t);if(t.zoomScale<=n.minZoomPercentage/100){let e=new Map;do{e.clear();let a=new c(t,n,i),r=[];for(let t of o){let n=a.getNearbyNeighbor(t);n?e.has(n)?e.get(n).push(t):e.set(n,[t]):(a.onAddToResultCluster(t),r.push(t))}e.forEach((e,t)=>{s(t,e)}),o=r}while(e.size>0)}if(r){let{canvasPosition:e}=r;e&&o.push({x:e.x,y:e.y,threads:[r]})}return o}},914335:(e,t,n)=>{n.d(t,{c:()=>s});var a=n(411855),o=n(163023),r=n(939863),i=n(259927),l=n(424148);function s(e){let{onBlur:t,onClickTrash:n,onInputKeyDown:s,onInputChange:c,url:d,location:m}=e,u=a.useRef(null);return a.useEffect(()=>{u.current&&(u.current.focus(),u.current.select())},[u]),a.createElement("div",{className:"hyperlink_editor--container--rXDYj",style:{left:m.x,top:m.y}},a.createElement("div",{className:`hyperlink_editor--popup--CHv-O _overlayBase--_overlayBase--Rkj8l ${i.Dm}`},a.createElement("input",{className:"hyperlink_editor--input--FGLip input--darkInput--zfbnG",value:d,onKeyDown:s,onChange:c,onBlur:t,placeholder:(0,r.t)("hyperlink.type_or_paste_url"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,ref:u}),""!==d&&a.createElement(o.B,{svg:l.A,className:"hyperlink_editor--breakIcon--ntEK8",onMouseDown:e=>{n(e)}})))}},487532:(e,t,n)=>{n.d(t,{m:()=>B});var a=n(411855),o=n(629019),r=n.n(o),i=n(539321),l=n(323434),s=n(134288),c=n(568214),d=n(138392),m=n(560945),u=n(563706),p=n(153234),h=n(522739),g=n(163023),f=n(939863),v=n(634832),E=n(709103),A=n(724089),C=n(371536),w=n(234024),y=n(622711);function b(e){let t="left"===e.side?w.A:y.A,n="left"===e.side?`6px 0 0 ${e.color}`:`-6px 0 0 ${e.color}`;return a.createElement(s.P.div,{style:{opacity:e.opacity,position:"relative",top:e.offset,zIndex:1}},a.createElement("div",{style:{boxShadow:n,transition:`box-shadow ${C.Bn}s linear`}},a.createElement(g.B,{svg:t,style:{fill:e.color,transition:`fill ${C.Bn}s linear`}})))}function _(e){let{opacity:t,offset:n,color:o,children:r}=e;return a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start"}},a.createElement(b,{side:"left",opacity:t,offset:n,color:o}),a.createElement("span",{style:{zIndex:2}},r),a.createElement(b,{side:"right",opacity:t,offset:n,color:o}))}function I(e){return a.createElement("div",{style:{borderRadius:"6px",overflow:"hidden"}},e.children)}function x(e){let{color:t,docked:n,dockedStyle:o,dockedOffset:r,children:i}=e,l=(0,E.d)(1),c=(0,E.d)(0),d=!0===n?l:!1===n?c:n,m=(0,A.G)(d,[0,1],[0,1]),u=(0,A.G)(d,[0,1],["0px",`${r}px`]),p=(0,A.G)(d,[0,1],["6px","0px"]);switch(o){case"straight":return a.createElement(s.P.div,{style:{borderTopLeftRadius:p,borderTopRightRadius:p,borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",backgroundColor:t,overflow:"hidden"}},i);case"inverted":return a.createElement(_,{opacity:m,offset:u,color:t},a.createElement(I,null,i));default:(0,v.assertNever)(o)}}var k=n(619742),M=n(126049);let S=({enabled:e})=>{let[t,n]=a.useState(0),o=a.useCallback(()=>{n(Date.now())},[]);return a.useEffect(()=>(e&&document.addEventListener("mousemove",o),()=>{document.removeEventListener("mousemove",o)}),[o,e]),t};function T({enabled:e,children:t}){let n=S({enabled:e}),o=(0,k.E)(),r=a.useCallback(()=>{o.start({opacity:1,transition:{duration:0}})},[o]),i=a.useCallback(()=>{o.start({opacity:0,transition:{duration:.5}})},[o]),l=(0,M.A)(i,5e3);return a.useEffect(()=>{r(),e?l():l.isPending()&&l.cancel()},[e,n,l,r]),a.createElement(s.P.div,{animate:o},t)}let D="multiplayer_bell--buttonContainer--4rypl";var P=n(630834);function B(e){let{color:t,useSecondaryColor:n,message:o,renderKey:v,progressBar:E,progressBarDurationMs:A,autoHide:w,button:y,showCloseButton:b,onCloseCallback:_,docked:I,dockedBorderInfo:k}=e,[M,S]=a.useState(!1),B=u.Xb?"multiplayer_bell--buttonMobile--Z5j0F multiplayer_bell--button--QWm4n multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd multiplayer_bell--multiplayerTextMobile--4qVD- multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd":"multiplayer_bell--button--QWm4n multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd",N=u.Xb?"multiplayer_bell--messageMobile--Z1sCx multiplayer_bell--message--POM9v multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd multiplayer_bell--multiplayerTextMobile--4qVD- multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd":"multiplayer_bell--message--POM9v multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd",R=u.Xb?"multiplayer_bell--closeButtonMobile--s-kHx multiplayer_bell--closeButton--5Pbdu multiplayer_bell--multiplayerTextMobile--4qVD- multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd":"multiplayer_bell--closeButton--5Pbdu",F=t??c.ol.MULTIPLAYER_GRAY,U=a.useMemo(()=>{if("brand"===t)return{"--multiplayerBellBackgroundColor":n?"var(--color-bg-brand-hover)":"var(--color-bg-brand)","--multiplayerBellTextColor":"var(--color-text-onbrand)","--multiplayerBellButtonBackgroundColor":"var(--color-bg-menu)","--multiplayerBellButtonTextColor":"var(--color-text-menu)","--multiplayerBellButtonHoverColor":"var(--color-bg-menu-secondary)","--multiplayerBellProgressBackgroundColor":"var(--color-bg-brand-hover)"};{let e=(0,c.H0)(F),t=(0,d.Hd)(e,-.15),a=(0,d.Hd)(e,-.55),o=(0,d.Hd)(e,-.8),r=e&&(0,c.GL)(e),l=a&&(0,c.GL)(a);return{"--multiplayerBellBackgroundColor":n&&t?(0,i.colorToString)(t):F,"--multiplayerBellTextColor":r,"--multiplayerBellButtonBackgroundColor":a?(0,i.colorToString)(a):void 0,"--multiplayerBellButtonTextColor":l,"--multiplayerBellButtonHoverColor":o?(0,i.colorToString)(o):void 0,"--multiplayerBellProgressBackgroundColor":t?(0,i.colorToString)(t):void 0}}},[F,t,n]),O=(0,a.useRef)(null),L=(0,a.useRef)(null),H=(0,m.w)(O),V=(0,m.w)(L),Q=H&&V?H.width+V.width:"auto";return M?null:a.createElement(T,{enabled:w},a.createElement(x,{color:U["--multiplayerBellBackgroundColor"],docked:I||!1,dockedStyle:0===(k?.width||0)?"straight":"inverted",dockedOffset:k?.width||0},a.createElement(l.N,{initial:!1},a.createElement("div",{key:v,className:r()({"multiplayer_bell--multiplayerBell--MJNGX":!0}),style:{...U,transition:`background-color ${C.Bn}s linear`}},E&&a.createElement("div",{className:r()("multiplayer_bell--progressBarContainer--6yfl6")},a.createElement("div",{className:r()("multiplayer_bell--progressBarFill--McozJ"),style:{animationDuration:`${A}ms`}})),a.createElement("div",{className:"multiplayer_bell--messageAndButtonsContainer--SRFq4"},a.createElement(s.P.div,{animate:{width:Q},className:"multiplayer_bell--messageAndButtonsVariableWidthContainer--6tqVI",transition:{duration:C.Uj,type:"easeOut"}},a.createElement("div",{style:{width:"fit-content"},ref:O},a.createElement(h.GG,{className:r()(N),recordingKey:p.Pt(e,"message"),onClick:o.onClick},o.text)),a.createElement("div",{style:{width:"fit-content"},ref:L},a.createElement("div",{className:"multiplayer_bell--buttonsContainer--9CCwH"},y&&a.createElement(s.P.div,{className:D,initial:{opacity:0},animate:{opacity:1},transition:{duration:C.Gy,delay:C.kS}},a.createElement(h.GG,{className:r()(B),recordingKey:p.Pt(e,"button"),onClick:y.onClick},y.text)),b&&a.createElement("div",{className:D},a.createElement(h.GG,{className:r()(R),recordingKey:p.Pt(e,"closeButton"),onClick:()=>{_&&_(),S(!0)},"aria-label":(0,f.t)("collaboration.spotlight.bell.dismiss")},a.createElement(g.B,{svg:P.default})))))))))))}},857063:(e,t,n)=>{n.d(t,{s:()=>r});var a=n(411855),o=n(939863);function r({count:e}){let t;return t=e<10?60:e<100?68:72,a.createElement("div",{style:{minWidth:t,display:"flex",justifyContent:"center"}},(0,o.tx)("collaboration.spotlight.bell.presenter.follower_count",{followerCount:e}))}},214090:(e,t,n)=>{n.d(t,{Y:()=>u});var a=n(411855),o=n(629019),r=n.n(o),i=n(709103),l=n(724089),s=n(134288),c=n(487532),d=n(371536),m=n(712053);function u(e){let{borderInfo:t}=a.useContext(m.h),n=t.width,o=e.docked?0:8,u=(0,i.d)(o),p=(0,l.G)(u,[8,n,0],[0,0,1]),h=(0,l.G)(u,[8,0],[0,1]),g=0===t.width?h:p;return a.createElement(s.P.div,{className:r()({"positioned_multiplayer_bell--multiplayerBellContainer--Ad5kg":!0,"positioned_multiplayer_bell--ghost--vYS1y":e.ghost}),animate:{top:o},style:{top:u},initial:!1,transition:{type:"easeout",duration:d.lo},key:e.renderKey},a.createElement(c.m,{...e,docked:!!e.docked&&g,dockedBorderInfo:t,recordingKey:"multiplayerBell"}))}},712053:(e,t,n)=>{n.d(t,{h:()=>a});let a=n(411855).createContext({borderInfo:{width:0,color:"transparent"},style:{}})},538975:(e,t,n)=>{n.d(t,{e:()=>F});var a=n(411855),o=n(188507),r=n(747638),i=n(622405);function l(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.854 6.854a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 0 0 .708.708zM13.5 7c.401 0 .78.094 1.116.262l-.776.777A1.5 1.5 0 0 0 13.5 8h-6A1.5 1.5 0 0 0 6 9.5v5c0 .383.144.733.38.998l-.707.708A2.5 2.5 0 0 1 5 14.5v-5A2.5 2.5 0 0 1 7.5 7zm0 9h-3.379l-1 1H13.5a2.5 2.5 0 0 0 2.5-2.5v-.586l1.293 1.293A1 1 0 0 0 19 14.5v-5a1 1 0 0 0-1.532-.847L15 11.121V14.5a1.5 1.5 0 0 1-1.5 1.5m2.5-3.5 1 1 1 1v-5l-1 1-1 1z",clipRule:"evenodd"}))}function s(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 8h6A1.5 1.5 0 0 1 15 9.5v5a1.5 1.5 0 0 1-1.5 1.5h-6A1.5 1.5 0 0 1 6 14.5v-5A1.5 1.5 0 0 1 7.5 8m8.5 5.914v.586a2.5 2.5 0 0 1-2.5 2.5h-6A2.5 2.5 0 0 1 5 14.5v-5A2.5 2.5 0 0 1 7.5 7h6A2.5 2.5 0 0 1 16 9.5v.586l1.293-1.293A1 1 0 0 1 19 9.5v5a1 1 0 0 1-1.707.707zm0-1.414 1 1 1 1v-5l-1 1-1 1z",clipRule:"evenodd"}))}var c=n(182550),d=n(13583),m=n(99380),u=n(268537),p=n(874991),h=n(163023),g=n(939863),f=n(67294),v=n(662275),E=n(973149),A=n(318812),C=n(335682),w=n(860178),y=n(683472),b=n(335650);let _="recording_controls--invertedCorner--1hNon",I="recording_controls--invertedCornerRecording--pg-JD recording_controls--invertedCorner--1hNon",x="recording_controls--iconButton--VnfCf",k="recording_controls--iconButtonRecording--sUo6Q recording_controls--iconButton--VnfCf",M="recording_controls--icon--1mzPP",S="recording_controls--settingsRow--IVy7n",T="recording_controls--settingsDropdownSelector--S0q07",D="recording_controls--secondaryText---XuG2",P="recording_controls--noWrap--5ybC-";var B=n(932037),N=n(234024),R=n(622711);function F(e){let t=(0,w.iZ)(),n=(0,o.wA)(),u=a.useContext(m.q5),[p,A]=a.useState(!1),[S,T]=a.useState({audioDevices:[],videoDevices:[]}),[D,P]=a.useState(void 0),[F,U]=a.useState(void 0);a.useEffect(()=>{(async()=>{let e=await navigator.mediaDevices.enumerateDevices(),t=e.filter(e=>"audioinput"===e.kind&&e.deviceId),n=e.filter(e=>"videoinput"===e.kind&&e.deviceId);T({audioDevices:t,videoDevices:n}),t.length>0&&P(t[0].deviceId),n.length>0?U(n[0].deviceId):U(m.kS)})()},[]);let{onStopPresenting:O}=e,H=(0,C.q5)(),V=a.useCallback(()=>{(0,b.Q3)(H,b.ZP.RECORDING_ABORT),u.abortRecording(),O()},[u,O,H]),Q=a.useCallback(()=>{u.isRecording?n((0,v.to)({type:y.p,data:{onConfirm:V}})):V()},[V,u,n]),z=a.useCallback(()=>{(0,b.Q3)(H,b.ZP.RECORDING_START),u.startWalkthroughRecording(),A(!1)},[u,H]),Y=a.useCallback(()=>{(0,b.Q3)(H,b.ZP.RECORDING_FINISH),u.stopWalkthroughRecording(),O()},[u,O,H]),G=a.useCallback((e,t)=>{"audio"===e?(P(t),u.initializeRecordingMedia(t,F)):(U(t),u.initializeRecordingMedia(D,t))},[u,D,F]),W=a.useCallback(()=>{(0,b.Q3)(H,b.ZP.RECORDING_RESTARTED),u.restartWalkthroughRecording()},[u,H]),j=a.useCallback(()=>{F===m.kS?S.videoDevices.length>0&&G("video",S.videoDevices[0].deviceId):G("video",m.kS)},[G,F,S]),X=a.useMemo(()=>new E.f0(Number.POSITIVE_INFINITY,!1,!1),[]),[q,Z]=a.useState(0);a.useEffect(()=>{let e=setInterval(()=>{Z(u.getRecordingLengthMs()/1e3)},250);return()=>{clearInterval(e)}},[u]);let K=u.isRecording?q>=600?"recording_controls--timestampRecordingLong--aTjeT recording_controls--timestampRecording--FtL6h recording_controls--timestamp--JS6XZ":"recording_controls--timestampRecording--FtL6h recording_controls--timestamp--JS6XZ":"recording_controls--timestamp--JS6XZ";return a.createElement("div",{className:"recording_controls--container--Vwgb9"},a.createElement("div",{className:"recording_controls--topBarContainer--XJvsu"},a.createElement(h.B,{svg:N.A,className:u.isRecording?I:_}),a.createElement("div",{className:u.isRecording?"recording_controls--topBarRecording--Wd42e recording_controls--topBar--RroJi":"recording_controls--topBar--RroJi"},t&&a.createElement(f.H8,{user:t}),u.isRecording?a.createElement(a.Fragment,null,a.createElement("button",{className:k,onClick:W,"aria-label":(0,g.t)("recordings.restart_modal_title")},a.createElement(r.H,{className:"recording_controls--iconRestart--mTp5o recording_controls--icon--1mzPP"})),u.isPaused?a.createElement("button",{className:k,onClick:u.togglePauseRecording,"aria-label":(0,g.t)("recordings.resume")},a.createElement(h.B,{className:M,svg:B.A})):a.createElement("button",{className:k,onClick:u.togglePauseRecording,"aria-label":(0,g.t)("recordings.pause")},a.createElement(i.p,{className:M}))):a.createElement("button",{className:x,onClick:j,"aria-label":(0,g.t)("recordings.toggle_video")},F===m.kS?a.createElement(l,{className:M}):a.createElement(s,{className:M})),a.createElement("div",{className:K},X.format(q)),!u.isRecording&&a.createElement("button",{className:x,onClick:()=>A(!p),"aria-label":(0,g.t)("general.settings")},a.createElement(c.I,{className:M})),u.isRecording?a.createElement("button",{onClick:Y,className:"recording_controls--primaryButtonRecording--vSgs1 recording_controls--primaryButton--x-dq8"},(0,g.tx)("recordings.done")):a.createElement("button",{onClick:z,className:"recording_controls--primaryButton--x-dq8"},(0,g.tx)("recordings.record")),a.createElement("button",{className:u.isRecording?k:x,onClick:Q,"aria-label":(0,g.t)("general.close")},a.createElement(d.L,{className:M}))),a.createElement(h.B,{svg:R.A,className:u.isRecording?I:_})),p&&D&&F&&a.createElement(L,{devices:S,selectedAudioDeviceId:D,selectedVideoDeviceId:F,onChangeMediaDevice:G}))}let U="RECORDING_AUDIO_INPUT_DROPDOWN",O="RECORDING_VIDEO_INPUT_DROPDOWN";function L(e){let t=(0,A.Um)(),n=(0,o.wA)(),r=t?.type===U,i=t?.type===O,l=e.devices.audioDevices.find(t=>t.deviceId===e.selectedAudioDeviceId)?.label??(0,g.t)("recordings.none"),s=e.devices.videoDevices.find(t=>t.deviceId===e.selectedVideoDeviceId)?.label??(0,g.t)("recordings.none");return a.createElement("div",{className:"recording_controls--settingsContainer--CagQ4"},a.createElement("div",{className:S},a.createElement("div",{className:D},(0,g.tx)("recordings.microphone")),a.createElement(p.V,{showingDropdown:r,type:U,dispatch:n,className:T},a.createElement("div",{className:P},l),r&&a.createElement(u.gw,{dispatch:n,positionFixed:!0},e.devices.audioDevices.map(t=>a.createElement(u.c$,{key:t.deviceId,onClick:()=>e.onChangeMediaDevice("audio",t.deviceId)},t.label))))),a.createElement("div",{className:S},a.createElement("div",{className:D},(0,g.tx)("recordings.camera")),a.createElement(p.V,{showingDropdown:i,type:O,dispatch:n,className:T},a.createElement("div",{className:P},s),i&&a.createElement(u.gw,{dispatch:n,positionFixed:!0},e.devices.videoDevices.map(t=>a.createElement(u.c$,{key:t.deviceId,onClick:()=>e.onChangeMediaDevice("video",t.deviceId)},t.label)),a.createElement(u.c$,{key:m.kS,onClick:()=>e.onChangeMediaDevice("video",m.kS)},(0,g.tx)("recordings.none"))))))}},371536:(e,t,n)=>{n.d(t,{Bn:()=>l,Gy:()=>r,Uj:()=>o,kS:()=>i,lo:()=>a});let a=.2,o=.2,r=.05,i=.2-.05,l=.1},277204:(e,t,n)=>{n.d(t,{c:()=>s,_:()=>l});var a=n(587670);let o="848484",r={"007BE5":"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","00B5CE":"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","0FA958":"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","14AE5C":"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","19A0FB":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+OTNWUldYM0I5OUZSNTZBWjwvUmVxdWVzdElkPjxIb3N0SWQ+bzRwUThldDB3N0pWWTZWT2p2dkM3cUM3UlVkaTNTaVh0enZUVlpvUlo5WHFSR1BHMnBhMzVkWlRDWlY2cjJwUGczbmxFVFdYWjhnPTwvSG9zdElkPjwvRXJyb3I+","1BC47D":"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","5551FF":"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",667799:"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",848484:"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","907CFF":"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","9747FF":"iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAi6SURBVHgB7VpdbBTXFT7etdfr9a4dg42xhWMKThMRNS511Sp9IhJtkSrcVi1USG3DaxTxQkWlij7QhwoaUSHRVICEFCobGjCiEq6KVFcUVChRAnVxIhQECb82MRDA/7ve3bn5vjv3esfgBBvswWzmk45mZ3bX4/n2nO/83CsSIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAE8KSqkCHApkliMkPgBk2JcF5p76vps2bbLnBSTM87lZA19+QT48YO/3wD1BlPIclfnM7GNrhqC9xIRUIawonU5vP3v27PN4HYVFmpqaivjeqlWrwiDJepR8KeDRmjAsAosmk8k3cV2Njo62HD169EVcK12wYEEJjsViiJKnQJ+mC1Zn6CX0mNJbt269pgyy2eyV27dv/+YZAO/FYSXms2HPd/MXxoPCS5YsoffEYOUtLS3fUPeBRF24cOEXfB9WKsabxCPiko9exQczIcMH5oNXwGpASB+JObFTqf5PckQNDAy8feDAga/jM2WesCvy6pPkE6wHifugDKFKWB2IeIeEHPmdUju+r9R7LUolB3NE3blz5w/ikpkQN+zogZakvCOKD0SC+LBVsPrr16//RXvQDpcgWusvlfrwnzmSMpnM1e7u7teNPtmw0xmPRPkRdjMugOYh9Etz1A/V09PzIU8qF+c+O9Ar8u8/ihz+tfs6HA7X1dbWvnnt2rWdCLvnxBC0cOFCTRBqq5ApBwo895lW+JEhxgqaqqoqXQhGo1Hn4MGDp3mt9qUHv9DTJbL3VZH/7nSJisfjP4MGdSLsNm7durXq8uXL9CIdciRJcl407ST5FccFKAYLz5w5E0kkElHoD7NZAiH0Drwk8dZPRFJDE38xUS3yzZ+LPP9d9xzifu3GjRtv1NXVteI0YywLc0Q7rOKRlfu0VJq+9WIgRnsPyOEDaEPB2MP35y7+/O/asKNH2bBDdvtTKpU6sW/fPht29KbCZcuWMezCpq+Zlh/ftyLs2LFjAu0YIweWRYGow2zuood/n+SQJJLF15FI5MU1a9b8b3BwcMehQ4caKisrIxcvXtQCLrks99hE+VmlOoWFhdqLSktLNUn37t3r5huViyf/R853uCL+/t/cc/ytNc3Nze2dnZ2vwjuj0DlLEkuLkJkYPDJRvmmQMf7jDAfWNfHt27c3rVu3rs16x1RBfXrlVzmhpz7Bm5pXr159Scbrk50SaH2SKUwK/PIg+w+p6upq+49mjxw5cp0X+aDFpTJlkFh6kw076hOzHcLOWxbobCeuN4WmOiXwsxrVFTUEtqi/v78EI4/YyMhIAkL9r+Li4tq210U+/UgeGREQ/NKP3YxH0JtQFuycN2/en3GaRi+YOXfunNU/61EPhW8axF8OWUZQQSsQ5CDROCAmi4dw66GvyWNhFGXC6VY3VKlT9Cbo0e9BVNfVq1d/CHK84j1p+DpKsIUizBkeHs4iVTs3b97UFXVZtTwWGKJfeRle9KPxxWcoFHoWNdO+oaGhjQ0NDV6xnhRRheIj2traFFxdYR7k0HApi1/2fGNjo9Q0ypRBIrzmBTxnAN7ZAWLeP378ePv69esv4JwOkWVms2Peh8E3DTJzaa1DEOpIb28vM1npypUraw4fPnwqNSjy1k+/+G9QzBd+xw3H2sYHhR111f/R451Byn937dq1p3BpBJaCJWGjxu7PbF8I3zzIU/qroqIiK5TZ9vb2Pgj1jWg8WkMCmI0mAlsNpnQvEKa90Jf/dHR0nNy/f//5kydP3sPltLhE8Mj7ZCRXnCrooGLR6jgOw08eBl9DjEJtVjeIbCwW01p09+7d92pqapoZJhTYiWCzEwg5denSpc7du3efaG1t7UbxmSHEeAYq7DRm3Wk0xGkQMArL4AfJ4B66XwM5CuSoyZBD+CrS9CLEvoNM5syZM4fk6F8W4Xae71d+TstBcuhdKAs+qa+v/+3y5cv/CnI+xluD4GYAR9ogDQ/O4xC8chiZLIWaKAXStBehYdZhZciZXWme8M5sIJgKYwwt1MhkumCcqGm13TyxefPmjTgMg2j2/iRCEwNvseeaGHG1J4nWg9qTxg+gPQzTBGe6uvwZgSEoZAb4lNhKPFz9ihUrXuacIjmQmy5asxNGhNU/ECrfwneYr74Kq4fViDuhnFNeXl4BryxDKWFXRqLmPuMa2KkO1nwPMR6R2hU0R5WVlXHk4WBtrI9puTjueowFhZnG0NqyZcsuVN9JFJcjJSUl9BIaPSSJv5XEOCU5f/78JMqHUQgxBTqN+1B3slw0MXMimaoH+SrShHLzvcLQa6xohKhSqE9jZPGKV6htaHV1db29a9euy3g5guJSh4+YTAUvyYIwtWjRIk0AGlXlqXHceWwuMTwVy7W6FkJVy0ayHJmMYfLclStXWkhe16HcKgcB7+FQrQn2AqwOnsJVkYT5vh1rzNjw3vdVS9NNK2QWBY/RaR7nWTvEj1ePF+Zt27ZtkFyxl4Lwas9B02vHrJMu+p4KMMLM2hYFFIksXkWh3rBhw/esUFthhlf9HcLMRUSOLuhpXCeza2T5t4hIeNaymF04vJ8LWwB7ATVNv10TY2hhmPYDcUPrWYYWM5QJrbzf3GCni/QGLgrWwhr6+vretQShn3oD17jzg+XjfHHX7KOSS9m+4EntnLCaoSoqKnRPxtYAVe85volM1bN06dI9YnQHlkaDO9ZkKuXf5qEnvbXEMT1SFvVQBtX1B7y4d+/e11DvJJG+U9AoLcqohrMYpzqsZ2Z1NTyNCJmdZTF4UTnFGrXOt0FYG4ipEzfsWCUzBGPms/kpzBPBsyXP7vogEVV79uxpAlnzxBVvvVfItAzhmVp/n7Uw+4bGdp6JS8gz5sidIDFbED7KikQ+wO4dIkkkglktZsw2m75mrdkGu/vMkkRCij3E6PUsmcFWYrbDu/eQRIQ9FjIV9xOF7938fbCbxsXUNsp23sqz+zzAeASkBMgjfAapfoUG2irXuAAAAABJRU5ErkJggg==",D27C2C:"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",EBEBEB:"iVBORw0KGgoAAAANSUhEUgAAAEIAAABICAYAAABCzyOOAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhNSURBVHgB7VpbTBRXGD7sLstluRQELAQKSbE12LS1mJi+8UR8sLQvptWkaeKDSUl9tInRB/tQTX3wgTatmmg0IBYxvEBITGNiUq2GFoGkIW3VcBMoXrnfdnam33fmnHVAUFQ6sGS+5M+ws8vsnG++//v/c84K4cGDBw8ePHjw4MGDBw8ePHjw4MGDBw8ePHjw4MHDUmBZVhwOcWKVwCfcRZz6Tvm9hw4d0mTEkRiEWCm48kQ4SEB/nw5LHUmIqY6aiZVj5H9GHAZJFQQQ8eFwuKqjo+Nt/J2ISCgpKQny/I4dO/yrLWWWDUruHJgfwQEnTk9P/4Dz1uzsbPWlS5fewblQfn5+Eo4JiIAibc2RoX0hXtgKCA0NDVVaCpFIpOfBgwf7XwPwXgoiSX02IBx+EvNQUvcr+Scj0qurqz+w5sEwjN5bt259zvcRIWGTRkKkOtR1YhccAHNf2GnBAWYi8qCEERIwNjZGVUQJGR8fP3/hwoX38Zm03NxcEifThdeI9ZTR/sABUfpZiAIQcIMDHxkZse7fv29NTExYpmlGCXn06NF3+FwGIlXY6UIiNRkxS4gmgoPKRhT29/efUQqQRDAePnxoTU1NzUmXvr6+r9LT00mIM12kocZiheET5BOlInIQRS0tLfs5WA5cE6FjeHh4TrpAPT+rdKF/JBcXF8t04XU1Ga/qIa468vr161lLzcTEROvixYt/8Fx8fPxTn0OfIZAaAmoRSBeRkpLyKTyiDdXlwJEjR3Ju374t+w5EAI0a1aZJeGky3JJVXFlZmf/KlSvBtLS0xNHRUSojBdK/4ff7U5ESYrH22ufzieTkZAHy5GsopW9wcPBoQUFBDV6GeQphqiMFJLtU1ckuGa4owjFICyTwhbx5NFYDPBkIBBb9XyqCyqBC+DeIK0Dz9f3MzMzV2trat4TtPVIdINtHhcS9KAvCxdSAGqyioiKZGsKeS5hQwu9871lEaJAEkgG/kH8Hg8FNO3fuvInXxxsaGoqzsrKCSBndiDFddGVZEilueoQFiUsSQqGQVMTjx4+lIvCUl3wRKEHATAVMVr6Gf3xWUVHR2NbW9gVISczOzp5DhprhPnecbpYePemi0bEvSKmqqirdu3dvPfJegBTxoqB/pKamRg2X/oHq8vGuXbu6hO0fhrAVqFWoY8GbcxOWrhyM5ubmfp6kIl4irWWKoCGLpgv9g+kCT/kJhGwQT/wjqo7FyqybipAdJowunhLGzDMEeafBMH9JSEjIo9xRRcTLgkQmJSXJCkNQHfCU4zk5OT/iZRi9hwEP4RcsqAzXFMHKAVcXd+/elW01btwEAQZudtF+4kWvPzk5KQ0V5Ep1wC++BSEdvb29FSCBqoj2HPOV4apZ4sb0kzBx0xEYn3nv3r2/5I34Xu1WqAhUEqkKHjVw3TfQc9RiLnMAVSs6R5mfiq4RwS+ur6+3MB0nIdrAzM7Ozr/5vvPmlwqqiKmAuYhYt26dQLMmiSCpUMIY2vWG7u7ub86ePbsFKXkUf8tyqirJ3PsT7oLE+2GYQSzOsHKEtm/fntfY2Pgbpc0O85n/jAGSMAZJmP9U0YK3YzJ3E2jZvXv3dZyaVsFaOyvsSsJwVhKJ53cyywuZGhhEVBFNTU0jSJEBGiYHSvdfCHhflkonkF5DeMpXL1++fLWuru6fa9euDQt7oHrQhoqoQZaWlorW1la24nOIdJUI9eUWOknpE5B1hF5Bw8QiTAWfMhumhaCrAYzv+p07d9pPnz79a01NTT+uFTHsciMDagmjIhmYm4TxXbMwTQOfMVCV2MRFQIJc9OB9OK/vah/BL+eSPZ6ilZGRYYEEqQptmIu12iSBvQbK7b+FhYUHy8vLz4MENk3j4GAUxzEV41DVOI4TqByTuN40eooZqEmqA2qQqlioZ3E7NTQsdJIm2mMTNxqBX8jGaiEi9OyTOHz48EEcpjAQyobBFDBgkAZIkk8cBMgjwkS/Io+4flQNYhXtmfjwZNg0cMUpCxIu2rZt24dy/oyluvmLNHrFqqurqxmpsxX/8y6Cs84iRJ6wV7wyuQqemZmZBiPmdclcklowdk7CfNYqWgTmjQS4MItyx4XcAuR1CSXOAXO5TpPAKTuBFBrcs2fPJ/jse5D5BiggX9gEyDVNXov7ImrlKojGTQ9eNlBL2Up0PTWUUQksrkQrB8zNhGG2or8ocxqmTon29va6kydPduPPSbzHUsiSyA8ZeOoRtNGmatYEtgRMhwfYu0txq0YET8Gvnl4aBpuL44aenp5q9fSjq9pqTZNT9VLERkQBSihXwVMd65a6bY6dNUsHLKSDhcUUDlwa2sDAgKwcrA5Ogzx27NjXwn760hxhgLJHQCrMWaITsbhxrPYm5Ko2nzANc9++feXaMLVBQiVNSBWuXnNKTWOkJ5Ch6A6YiHFwABwMByUNE7FRG6ZOicrKyo9wvgTxBgmDD6SoSuBcuY55cDCcb3Dzl0+7GNPzFk0Elt6O4twmxJuI19XnuJStN4eXFSvlEfppmqj9Ms+RHgaaq06e5Nxj8+bNZ8ST6hCGGthCS1+wrOX/ac2KmaUOlE0SYaAjnMXff/LNc+fOfYl+YRr9wgy6T2mOqCQGNnkWnCfEOnSHmYR5RzoGnH3ixImtaL3rQQA9g+nC7UG5zac+u/Z+QKJaXeY7+wG2xfSArFOnTm0BKSRgnVC/ldAGuZra42WF43cTNEFuA3LgGerIxYfohq/a/RZrFc7fVnHActVKqEmTc9dbrGHItlipgkEPkIToX9mJJySszZRwQG+46F/B+B3hc/OnQquBab3PYL9QM0VVJvX9rV1zeAbWfBp4iAX8B246m4NvQmzOAAAAAElFTkSuQmCC",EE46D3:"iVBORw0KGgoAAAANSUhEUgAAAEIAAABICAYAAABCzyOOAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAi4SURBVHgB7VpdbBTXFb77v+td27HxT7HsYAXTRk6FS10pap94icUDddNWqAWVVOIBqVZ5QC2RquSBl4KaRjzQqgQkUFQbIgiiD0ZIFCGBCk2UlmCaioRgZIOxHfNjbO/a3vXOzuT77ty7GTsLgeCMvdZ80tHdnZ2dmfvdc75z7r0jhAcPHjx48ODBgwcPHjx48ODBgwcPHjx48ODBgwcPjwPLsnxofGKRwC/chU/dU953586dmgwfiYGJhYIrI8JOAvp+2izVkhBTtZqJhWPkG4YPnaQXBGGhbDa798qVK9/B5ygs0tzcHObxDRs2BBZbyMwblLuzYwEYOxxNp9N/xXFrZmam8/Tp09/FsXh9fX0MbQQWVKQtOTK0LoSE7QHxkZGRDkshl8vdvHfv3h+eAfBbAhZT5waFQ0+KHsrVA8r9S2DlnZ2d37fmwDCMW9evX9/M32FxYZNGQqR3qOsUL9gBxr6ww4IdrITVwRPGScDkviEr91kmT0gqlXrn2LFj38M5ZcuXLydxMlx4jWIPGa0P7BBdvwrWkEwm32fHkzv7rdG2j6ypv49YZsrIEzI6OvonnFcBKxV2uJBITUbREqKJYKeqYSsGBwff1h5BImhjmz+x0v8cnRUuAwMDvy0vLychznCRgjqfGcYtIbIcJh8eRFzjD4HnovmTzJGsmHpzUCR39OHzjAgEAg3IJn+5ffv2PoTLKmGTGWpqapKeweJEZ6Wn1RBXFbm2tpZPbUajUev48eP/5bFQS/xL5xn/mxTjr3wqpvYNS0ISicQvoBGXkV1e2717d01vb6+sO2BBcEFv0yR8bTLcijPf2rVrA+fOnQuXlZVFJyYmqBUJuP77GPXSsZ99LKzJXME/+mtDIrq5RkReqpDfIbIDw8PDbzQ0NHTha5aHYKZqGVGySlWV7GPDFY9wzCEskMAv8uFRWA3xYGBl9KH/1eEy/sq1WeGSyWQuHDly5NtChQssCLIZLgHfk7IgXAwNeIPV2NgoQ0PYWmHev3//P/ztUURokBCGy+SbtyUh4XD4hY0bN36I7PPWiRMnmqqqqsIIGV2IMVx0ZnksUtzUCKukpESSEI/HpUc8ePDA9ojnvpoIjZkzY1JM0/+4L79DP37Z3t7effny5V+DlGh1dfUsMtQM9yv76WYu1pMuCh3rgsTevXtbt23b9i5HmKP9xBeEfsR/Vy+CSnCpH8guP9m0aVOfsPXDELYHai/UVvDh3ISlMwft1KlTg/IhasPCFw+IJwXDJflqXz5cqB8MF1Sns9KtcHjHw9Ksmx4hK0wIXYgujJlnfHp6ugyCeSYSidRNdPSK3I20+LrwJQIi8vIyEUOGIegdqE7fqqmp+Ru+ZlF7GNAQekhBz3DNI5g5oOoCxZE1Pj7OlRoTBBh4WFlPBFfHxdPASuVEuuuOzC6ZMw+kd0Av/ghCrty6dasdJNAr8jXHXM9wVSzxYHokzKmpqRxSoHnnzp1P+GOgNiyeBr64X4R+VCaiP10mQqsT+eN+v/9Z1BxHJicnX0PWys9R5mbYoHAJ6sYWpuPW3bt3TRq+m1evXr3W0tKSF7wnAb2IlSnbuR4FT0jC286AgI/Onz/fvX379l5kKZlOqRWOZUH7+YS74IgEIJhhLM4wc8TXr19f193d/W+69tjPP370n5ElOOohdhwEzBVYlOA9mMN8CHywZcuW93AorWwaNiPsTEJzZhIJ1zxCQYZGKBTSD2KePHlyHCEyFElE6thRZoJCCL/0jIj/vn7WMYTXSH9//4WzZ89eOHr06KcXL14cE3ZHdacNZXmBbG1tFZcuXWIpPis8XCVC3dwKBoNSJ1Bg5agVFEwswrTTvVkwFYLOBhC+927cuNFz6NChf3V1dQ3iWjnMWXSHDVScWWQkAxO7LO41A9E0cI4xNjbGIi4HEkzLXlZfmKxB8OaMTYyiVVFRYYEE6RVaMIMrYwX/F/1Vjaw1kG4/W7FixettbW3vgAQWTSlwMIE2qSwFcUyhnURangIBadQUGWQn6R3wBukVhaYiboeGhgXhMlEem3jQHPRCFlaF5hwMF+0Nu3bteh3NNDqSQUtjCBixWMwASXLEQYBsYSbqFdni+nlvEItoz8SPkWG1R5mvggs3rlu37ody/pw08qtV2jJqxaqvr+8UtOVF/Gc1jLPORlidsFe8KrkKXllZWQYh5nW51hlTC8bOSZh/MS0C80GCXJjF2gQXchsQ1810cXaYy3WahNSfByQJCKHhrVu3voxzW+Dmq+ABVE0SINc0eS3ui6B6ZEkdRuGmOy8LqMfZSnQ9NJRQCSyu5DMHxM2EYF5CwbXWKZg6JHp6eo4eOHCgHx+nkGGYCpkSGRoGRj2HMtpUxZrAloDp0AB7Hc+3aJzgSwio0StD5liOdtXNmzc7SVL6xL38qjaB2OdUvRX2PKyhtLSUq+Cl6v965J96EXehdpEshIOFxRS6vRS0oaEhmTl8EEenQO7Zs+dVYY++FEcIoKwREAqzluhEMW4cq70JClmCI0zB3LFjR5sWTC2Q8JKTEEhu9nBKTWGkJlAI8ztgosjBDrAz7JQUTNjzWjB1SHR0dPwYx5thz5Iw6EBCZQLnynXRg51hBcXNX452E6bnH2gisPT2Bo69AFsJ+5Y6j4WG3hyeVyyURujRNJH7ZZwjPAwUV1d5kHOPNWvWvC2+yA5ZeANLaKkLljX/r9YsmFhqQ9okEQYqwhl8/j9/PHz48G9QL6RRL2RQfUpxxLTdwCZPwXlCsUNXmDHMO8rR4er9+/e/iNL7XRBAzWC4MHXwNYESde7Se4FElbqMd9YDLIupAVUHDx78AUghAcuEeldCC+RiKo/nFY73JiiCXF9jxytUy53zEl04qd1vsVThfLeKHZarVkJNmhzV49J4feghkGWx8goaNUASot+yE1+QsDRDwgG94aLfggk4zO/mq0KLgWm9z2B/UTNFy/GWqljCL6A+Cks+DDwUAz4HtpR/nB1evMYAAAAASUVORK5CYII=",EF5533:"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",F24822:"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",F24E1E:"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",FF24BD:"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",FFC700:"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",FFCD29:"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"},i={848484:"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"};function l(e,t,n){let o=a.z7E[t];return n?`https://static.figma.com/multiplayer_cursors/ui3/${o}/${e.substring(1)}.png`:`https://static.figma.com/multiplayer_cursors/v1/${o}/${e.substring(1)}.png`}function s(e,t){if(t){let t=i[e.substring(1)]??i[o];return`data:image/png;base64, ${t}`}let n=r[e.substring(1)]??r[o];return`data:image/png;base64, ${n}`}},70575:(e,t,n)=>{n.d(t,{Mw:()=>em,ON:()=>el});var a=n(411855),o=n(188507),r=n(504440),i=n(39108),l=n(115630),s=n(587670),c=n(181912),d=n(737947),m=n(966712),u=n(374626),p=n(27087),h=n(901536);n(47506);var g=n(939863),f=n(392592),v=n(946689),E=n(152811),A=n(832637),C=n(100206);let w="interacted_with_slack_and_teams_announcement";var y=n(256975),b=n(5605),_=n(931828),I=n(138369),x=n(617524),k=n(809831),M=n(226055),S=n(122983),T=n(779709),D=n(634238),P=n(887811),B=n(335682),N=n(860178),R=n(99506),F=n(100197),U=n(239671),O=n(507956),L=n(699857),H=n(343887),V=n(139689),Q=n(391388),z=n(763658),Y=n(799569),G=n(135876),W=n(46481),j=n(672517),X=n(723239),q=n(776008),Z=n(7959);let K="announcement--announcementCloseButton--vgH6U",J="announcement--announcementMainButton---4pQj";var $=n(630834);let ee=(0,j.tf)(H.K),et=(0,j.tf)(r.IK),en=(0,j.tf)(r.$n);function ea(e){let t=(0,M.GS)();return e.link?a.createElement(v.rb,{className:e.mainButtonClass??J,trackingProperties:{text:e.mainButtonTitle},href:e.link,target:"_blank"},e.children):(0,m.kc)().ce_tv_fpl_button?a.createElement("div",{className:h.cx.wFull.$},t?a.createElement(en,{variant:"secondary",onClick:e.onClick,disabled:e.disabled},e.children):a.createElement(et,{variant:"secondary",onClick:e.onClick,disabled:e.disabled},e.children)):a.createElement(v.tM,{className:e.mainButtonClass??J,onClick:e.onClick,disabled:e.disabled},e.children)}function eo(e){let t=(0,N.iZ)(),n=(0,B.MY)(),r=(0,o.wA)(),i=(0,M.GS)(),l=()=>{r(_.b({[e.userFlagName]:!0}))},s=()=>{let t=e.imageBg?{backgroundColor:e.imageBg}:void 0;return a.createElement("img",{src:e.imageSrc,className:"brand"===e.layoutStyle?"announcement--announcementBrandImg--H6L6b":"announcement--announcementAppImg--l9gG8",alt:e.imageAlt,style:t})},c=Q.Qw.useTransform(n,e=>t?.id===e?.creatorId?"owner":e?.canEdit?"editor":"viewer"),d=(0,u.md)(X.NT),p=(0,q.E)(d);return a.createElement(j.fu,{name:e.trackingContextName,properties:{userId:t?.id,jobTitle:p,userRole:c.unwrapOr("viewer")},enabled:e.trackingDisabled&&"loaded"===c.status},a.createElement(z.k,{name:"announcement_panel"},a.createElement(Z.Zk,{className:"announcement--announcementPanel--Ds9Bn"},a.createElement("div",null,a.createElement("div",{className:"announcement--announcementTitleRow--bQu8l"},a.createElement(Z.xw,{extended:!0,doNotReserveSpaceForChevron:!0},a.createElement("div",{className:h.cx.with({ml8:i}).$},e.title)),(0,m.kc)().ce_tv_fpl_icon_button?a.createElement("div",{className:K},a.createElement(ee,{"aria-label":(0,g.t)("general.close"),onClick:e.onDismiss?e.onDismiss:l,trackingProperties:{action:"close"}},a.createElement(W.U,{svg:$.default},a.createElement(V.A,null)))):a.createElement(Y.Jn,{className:K,onClick:e.onDismiss?e.onDismiss:l,trackingProperties:{action:"close"}})),"app"===e.layoutStyle&&e.description,"brand"===e.layoutStyle&&s()),"app"===e.layoutStyle&&s(),"brand"===e.layoutStyle&&e.description,(0,m.kc)().ce_tv_fpl_button&&e.mainButtonOverride,!((0,m.kc)().ce_tv_fpl_button&&e.mainButtonOverride)&&e.mainButtonTitle&&a.createElement(ea,{link:e.ctaHref,onClick:e.onCtaClick,disabled:e.isLoading,mainButtonTitle:e.mainButtonTitle,mainButtonClass:e.mainButtonClass},a.createElement(G.x,{isLoading:e.isLoading,className:"announcement--loading--KRjaH"},()=>a.createElement(a.Fragment,null,e.mainButtonTitle))))))}var er=n(150823);let ei=(0,S.ck)();var el=(e=>(e.DESIGN="Design",e.PROTOTYPE="Prototype",e.INSPECT="Inspect",e.HANDOFF="Handoff",e.COMMENTS="Comments",e))(el||{});let es=(e,t)=>{let n=new Date(e);return n.setDate(n.getDate()+t),n},ec=new Date,ed=[{userFlagName:"seen_mobile_proto_announcement",element:a.createElement(function(){let e=(0,o.wA)();return(0,u.md)(D.NE)?a.createElement(eo,{userFlagName:"seen_mobile_proto_announcement",title:(0,g.t)("mobile_download_prompts.run_prototypes_from_your_phone"),description:(0,g.t)("mobile_download_prompts.play_mobile_prototypes"),imageSrc:"https://static.figma.com/uploads/b50fba0faeea245feed92fe60337297d827e4984",imageAlt:(0,g.t)("cross_sell.mobile_app_prompt.comment_image_alt_text"),mainButtonTitle:(0,g.t)("mobile_download_prompts.email_me"),layoutStyle:"app",isLoading:!1,onCtaClick:()=>{p.Ay.post("/api/send_mobile_download_email",{type:"prototype"}),e(f.F.enqueue({message:(0,g.t)("rcs.mobile_comment_reply_upsell.email_sent")})),e(_.b({seen_mobile_proto_announcement:!0}))},trackingContextName:"Mobile App Prototype Announcement",trackingDisabled:!0}):a.createElement(a.Fragment,null)},null),panelName:"Prototype",additionalDisplayBlocker:(e,t,n,a,o)=>!(0,m.kc)().mobile_download_proto_sidebar||n?.is_active_mobile_user||!!a.seen_mobile_proto_download_modal_prompt||(0,O.$A)(o)},{userFlagName:"seen_mobile_comment_announcement",element:a.createElement(function(){let e=(0,o.wA)();return a.createElement(eo,{userFlagName:"seen_mobile_comment_announcement",title:(0,g.t)("mobile_download_prompts.meet_your_team"),description:(0,g.t)("mobile_download_prompts.join_team_conversations"),imageSrc:"https://static.figma.com/uploads/5b8af9ed88cb76b20858a7a8ac9fed784e5cbeb7",imageAlt:(0,g.t)("cross_sell.mobile_app_prompt.comment_image_alt_text"),mainButtonTitle:(0,g.t)("mobile_download_prompts.email_me"),layoutStyle:"app",isLoading:!1,onCtaClick:()=>{p.Ay.post("/api/send_mobile_download_email",{type:"comment"}),e(f.F.enqueue({message:(0,g.t)("rcs.mobile_comment_reply_upsell.email_sent")})),e(_.b({seen_mobile_comment_announcement:!0}))},trackingContextName:"Mobile App Comments Announcement",trackingDisabled:!0})},null),panelName:"Comments",additionalDisplayBlocker:(e,t,n,a,o)=>!(0,m.kc)().mobile_download_comment_sidebar||n?.is_active_mobile_user||!!a.seen_mobile_comment_download_modal_prompt||(0,O.$A)(o)},{userFlagName:"dev_mode_dismissed_properties_panel_announcement",element:a.createElement(function(){let e=(0,o.wA)(),t=(0,L.U)("announcement"),n=(0,M.GS)(),r=()=>{e(_.b({dev_mode_dismissed_properties_panel_announcement:!0})),t("handoff")};return a.createElement(eo,{userFlagName:"dev_mode_dismissed_properties_panel_announcement",title:(0,g.tx)("dev_handoff.paywall.banner.title"),description:(0,g.t)("inspect_panel.properties.dev_mode_upsell_message"),imageSrc:"https://static.figma.com/uploads/518e14e62113f1d47a874b09277e80cad313a574",imageAlt:(0,g.t)("inspect_panel.code.promo_image_alt"),imageBg:"#000000",layoutStyle:"brand",onCtaClick:r,isLoading:!1,trackingContextName:"Dev Mode announcement",mainButtonTitle:(0,g.t)("inspect_panel.code.promo_button_text"),mainButtonClass:er.Zn,mainButtonOverride:a.createElement("div",{className:h.cx.wFull.$},a.createElement(l.v,{mode:"dev-handoff"},n?a.createElement(en,{variant:"primary",onClick:r},(0,g.t)("inspect_panel.code.promo_button_text")):a.createElement(et,{variant:"primary",onClick:r},(0,g.t)("inspect_panel.code.promo_button_text"))))})},null),panelName:"Inspect",additionalDisplayBlocker:(e,t,n,a,o,r,i,l,s)=>(0,O.$A)(o)||!function({isRecovery:e,isReadOnly:t,canAccessDevMode:n}){return!e&&t&&!n}({isRecovery:r,isReadOnly:l,canAccessDevMode:s})},{userFlagName:w,element:a.createElement(function(){let{filteredSidebarItems:e}=a.useContext(E.hh);return 0===a.useMemo(()=>"loaded"===e.status&&e.data||[],[e]).length?null:a.createElement(A.u,{className:"dev_handoff_comments_panel_slack_teams_hint--hintPanel--cjNDL",idForTests:"hintFigmaForSlackTeams",userFlag:w,title:(0,g.t)("dev_handoff.comments_panel.slack_teams_hint.title"),icon_DEPRECATED:C.A,hintText:(0,g.tx)("dev_handoff.comments_panel.slack_teams_hint",{figmaForSlackLink:a.createElement(v.CY,{href:"https://figma.slack.com/apps/A01N2QYSA81-figma-and-figjam?tab=more_info",target:"_blank",trusted:!0},(0,g.tx)("dev_handoff.comments_panel.slack_teams_hint.slack_link")),figmaForTeamsLink:a.createElement(v.CY,{href:"https://appsource.microsoft.com/en-us/product/office/WA200004521?exp=ubp8",target:"_blank",trusted:!0},(0,g.tx)("dev_handoff.comments_panel.slack_teams_hint.teams_link"))})})},null),panelName:"Comments",additionalDisplayBlocker:(e,t,n,a,o)=>!(0,O.$A)(o)},{userFlagName:b.xb,element:a.createElement(b.FO,null),panelName:"Handoff",additionalDisplayBlocker:(e,t,n,a,o)=>!a.dev_handoff_seen_config_wizard||es(a.dev_handoff_seen_config_wizard.updatedAt,3)<ec},{userFlagName:b.Rk,element:a.createElement(b.ev,null),panelName:"Handoff",additionalDisplayBlocker:(e,t,n,a,o)=>T.z4.getIsExtension()}];function em(e){let t=(0,B.q5)(),n=t?.editorType,l=(0,o.d4)(e=>null!=e.currentUserOrgId?e.orgById[e.currentUserOrgId]?.figjam_disabled_at:null),m=(0,o.d4)(e=>e.userFlags),u=(0,N.iZ)(),p=(0,o.d4)(e=>e.userAnalyticsData),h=(0,o.d4)(e=>e.selectedView),f=u?.created_at,v=(0,c.A)(f).add(14,"day").isSameOrAfter((0,c.A)()),E=(0,k.my)()===U.nT.Design,A=(0,I.Kf)({isDesign:E,isUnauth:!u}),C=(0,x.EO)(),w=a.useMemo(()=>"prototype"===h.view?void 0:s.Ez5,[h.view]),b=(0,F.ut)(w?.uiState().isRecovery,!1),_="ENG"===(0,P.vD)(u),M=(0,y._I)();if(A())return a.createElement("div",{className:"announcement--loggedOutSignupCta--qrt2V"},a.createElement(i.f,null),(0,g.t)("auth.create_account_to_view_reply_comments"),a.createElement(r.$n,{variant:"link",onClick:()=>C("SIGN_UP_CTA_COMMENTS_PANEL")},(0,g.t)("auth.sign_up")));if(n===R._Y.WHITEBOARD||n===R._Y.SLIDES||"fullscreen"!==h.view||null!=l||v||"Comments"===e.panelName&&"fullscreen"===h.view&&n===R._Y.DESIGN&&m.claimed_invite_with_pending_user_mention&&!m.has_closed_comment&&d.Ay.location.hash)return null;let S=Date.now()-2592e5;if(ed.some(e=>{let t=m[e.userFlagName];return!!t&&t.updatedAt>new Date(S)}))return null;let T=ed.filter(n=>!ei&&n.panelName===e.panelName&&!n.additionalDisplayBlocker?.(u,t,p,m,h,b,_,!t?.canEdit,M));return T.length>0?T[0].element:null}},206121:(e,t,n)=>{n.d(t,{T:()=>S,w:()=>M});var a=n(411855),o=n(188507),r=n(776250),i=n(966712),l=n(374626),s=n(860601),c=n(27087),d=n(939863),m=n(392592),u=n(251960),p=n(456104),h=n(594524),g=n(582947),f=n(397065),v=n(916108),E=n(218997),A=n(15839),C=n(463546),w=n(501114),y=n(70964),b=n(233286);function _(){return a.createElement(a.Fragment,null,a.createElement("div",{style:w.sx.add({backgroundColor:"#5551ff"}).$},a.createElement(y.Gv,{src:"https://static.figma.com/uploads/a553882986986c96fc7d298a674e9e0522d05b53",width:"100%"})),a.createElement(y.ak,null,(0,d.tx)("rcs.mobile_comment_reply_upsell_page1.description")))}function I(){return a.createElement(a.Fragment,null,a.createElement("div",{style:w.sx.flex.alignCenter.wFull.borderBox.p18.h200.add({backgroundColor:"#5551ff"}).$},a.createElement(b.T,null)),a.createElement(y.ak,null,(0,d.tx)("rcs.mobile_comment_reply_upsell_page2.description")))}let x="dismissed_mobile_replies_upsell",k=(0,g.r1)(x),M="commentSubmitted";function S(){let e=(0,l.md)(k),t=(0,o.d4)(e=>e.userAnalyticsData?.is_active_mobile_user),n=(0,p.e)({overlay:C.$T1,priority:f.N.DEFAULT_MODAL},[e]);(0,u.E)(n.uniqueId,M,(0,a.useCallback)(()=>{!t&&(0,i.kc)().mobile_reply_upsell&&n.show({canShow:e=>!e})},[t,n]));let g=(0,h.A)({numSteps:2,onComplete:n.complete}),w=(0,a.useCallback)(e=>({onClickBehavior:"function",label:e,onClick:e=>{c.Ay.post("/api/send_mobile_download_email"),(0,r.sx)("post_comment_mobile_app_download_prompt_email_me_cta_clicked"),n.complete(),e(m.F.enqueue({message:(0,d.t)("rcs.mobile_comment_reply_upsell.email_sent")}))},textForTracking:()=>e}),[n]),y=(0,a.useMemo)(()=>[{element:_,additionalButton:w((0,d.t)("rcs.mobile_comment_reply_upsell.email_me")),ctaText:(0,d.t)("rcs.mobile_comment_reply_upsell.download_via_qr_code"),ctaOnClick:()=>{(0,r.sx)("post_comment_mobile_app_download_prompt_qr_code_cta_clicked")},onManualDismiss:()=>{(0,r.sx)("post_comment_mobile_app_download_prompt_dismissed")}},{element:I,additionalButton:w((0,d.t)("rcs.mobile_comment_reply_upsell.email_me_instead")),ctaText:(0,d.t)("rcs.rcs_shared.done"),ctaOnClick:s.lQ,onManualDismiss:s.lQ}],[w]),b=(0,a.useMemo)(()=>y.map((e,t)=>a.createElement(E.h,{key:t,userFlagOnShow:x,isShowing:n.isShowing,defaultLocation:A.LN.BOTTOM_RIGHT,modalType:A.q3.DRAGGABLE,title:()=>(0,d.t)("rcs.mobile_comment_reply_upsell.title"),element:e.element,trackingContextName:"mobile_reply_upsell",onClickPrimaryCta:()=>{g.next(),e.ctaOnClick()},ctaText:e.ctaText,onClose:s.lQ,onManualDismiss:()=>{n.complete(),e.onManualDismiss()},currentStepIndex:t,totalNumSteps:2,hideStepCounter:!0,additionalButton:e.additionalButton})),[y,n,g]);return a.createElement(v.U,{currentStep:g.currentStep,isShowing:n.isShowing},b)}},233286:(e,t,n)=>{n.d(t,{T:()=>r});var a=n(411855),o=n(501114);function r(){return a.createElement("div",{style:o.sx.flex.columnGap32.flexRow.alignCenter.justifyCenter.wFull.$},a.createElement("img",{alt:"Android QR code",src:"https://static.figma.com/uploads/259b16f36c4afa958c6185b07e9b78f3e2b4cc4d"}),a.createElement("img",{alt:"IOS QR code",src:"https://static.figma.com/uploads/d32c8c72eda223d979ca672dacb3ead939ac63a3"}))}},683472:(e,t,n)=>{n.d(t,{p:()=>s});var a=n(411855),o=n(188507),r=n(36657),i=n(939863),l=n(662275);let s=(0,n(237870).Ju)(function(e){let t=(0,o.wA)(),{onConfirm:n}=e,s=a.useCallback(()=>{t((0,l.AS)()),n()},[t,n]);return a.createElement(r.R,{title:(0,i.tx)("recordings.delete_recording_title"),confirmText:(0,i.tx)("general.delete"),onConfirm:s,open:e.open,onClose:e.onClose},(0,i.tx)("recordings.delete_recording_confirmation"))},"RecordingConfirmDeleteModal")},104295:(e,t,n)=>{n.d(t,{s:()=>m});var a=n(411855),o=n(134288),r=n(323434),i=n(358145),l=n(966712),s=n(226055),c=n(85098),d=n(70699);function m({featured:e,quickAccess:t,onUserClick:n,maxVisibleUsers:m,totalUserCount:u}){let p=(0,s.GS)(),h={ease:"easeOut",duration:p?.15:.3},g=t.filter(t=>t.sessionID!==e?.sessionID);p&&g.reverse();let f=g.length+(e?1:0),v=p?c.pl:32,E=Math.min(m,g.length+(e?1:0))*v,A=(0,i.ZC)(u);p&&A&&u!==A&&(h.duration=.3);let C=(0,a.useCallback)(e=>{if(0===e)return"multiplayer-observation-nux-key"},[]),w=(0,l.kc)().spotlight_disable_fade?1:.5,y=`polygon(-${v}px 0, 100% 0, 100% 100%, -${v}px 100%)`,b=e&&a.createElement(o.P.span,{initial:{opacity:0,scale:w},animate:{opacity:1,scale:1},exit:{opacity:0,scale:w},transition:h},a.createElement(d.Q,{user:e,isOverflow:!1,onUserClick:n,hasBorder:p})),_=g.map((e,t)=>a.createElement(o.P.span,{style:p?{marginLeft:"-8px"}:void 0,initial:{opacity:0,scale:w},animate:{opacity:1,scale:1},transition:h,key:e.sessionID,layout:"position"},a.createElement(d.Q,{onboardingKey:C(t),user:e,isOverflow:!1,onUserClick:n,hasBorder:p})));return a.createElement("div",{style:{width:E,clipPath:p?void 0:y,position:"relative",height:"100%"},"data-onboarding-key":"multiplayer-avatars"},a.createElement(o.P.div,{style:{width:m*v,position:"absolute",right:p?"-8px":0,display:"flex",flexDirection:p?"row-reverse":void 0,justifyContent:f>m!==p?"flex-start":"flex-end"},layout:!0,layoutRoot:!0},a.createElement(r.N,{initial:!1,mode:"popLayout"},p?a.createElement(a.Fragment,null,_,b):a.createElement(a.Fragment,null,b,_))))}},766939:(e,t,n)=>{n.d(t,{M:()=>c});var a=n(411855),o=n(188507),r=n(946689),i=n(939863),l=n(738269),s=n(650769);function c(){let e=(0,o.wA)(),[t,n]=a.useState(),c=a.useCallback(e=>{n(e.target.value)},[]),d=a.useCallback(n=>{n.preventDefault(),n.stopPropagation(),t&&t.trim().length>0&&e(s.cq({name:t})),e(l.oB())},[e,t]);return a.createElement("div",{className:"nickname_dropdown--nicknameDropdownContent--DKhRa",onClick:e=>e.stopPropagation()},a.createElement("form",{onSubmit:d},a.createElement(r.ks,{autoFocus:!0,maxLength:170,className:"nickname_dropdown--nicknameInput--bKp78",placeholder:(0,i.t)("fullscreen.toolbar.multiplayer.enter_a_name"),value:t,onChange:c})))}},648044:(e,t,n)=>{n.d(t,{n:()=>o});let a=new(n(463592)).KH({keys:["name"],threshold:.1});function o(e,t){return a.set(t),a.search(e)}},27947:(e,t,n)=>{n.d(t,{sK:()=>k,vQ:()=>x});var a=n(411855),o=n(629019),r=n.n(o),i=n(89865),l=n.n(i),s=n(91408),c=n(358145),d=n(554322),m=n(226055),u=n(754209),p=n(928491),h=n(436128),g=n(837746),f=n(42296);let v=e=>e?13:14,E=(0,s.jz)(g.Ocz),A=(0,s.jz)(g.bnr),C=e=>e?A:E,w=(0,s.jz)(g.Ko3);var y=(e=>(e.PRESENTING="presenting",e.SELECTED="selected",e.NONE="none",e))(y||{}),b=(e=>(e.PRESENTING="presenting",e.SELECTED="selected",e.DESELECTED="deselected",e.NONE="",e))(b||{});let _=e=>{let t=e.user.sessionID===e.observingSessionID,n=e.user.sessionID===e.presenterSessionID;return t?"selected":n?"presenting":"none"},I=l()([{current:"none",selected:"selected",presenting:"presenting",none:""},{current:"selected",selected:"selected",presenting:"presenting",none:"deselected"},{current:"presenting",selected:"selected",presenting:"presenting",none:""}],e=>e.current);function x(e){let t;let{user:n,tooltipOffsetY:o}=e,i=(0,m.GS)(),l=(0,d.Av)(),s=i?w:l,g=function(e){let[t,n]=a.useState(""),o=(0,c.ZC)(e),r=a.useMemo(()=>o&&{user:o.user,observingSessionID:o.observingSessionID,presenterSessionID:o.presenterSessionID,nominatedSessionID:o.nominatedSessionID},[o]),i=a.useMemo(()=>({user:e.user,observingSessionID:e.observingSessionID,presenterSessionID:e.presenterSessionID,nominatedSessionID:e.nominatedSessionID}),[e.observingSessionID,e.presenterSessionID,e.user,e.nominatedSessionID]);return a.useEffect(()=>{let t="";if(!e.disableSpotlightAnimation){let e=_(i);t=I[r&&_(r)||"none"][e]}n(t)},[i,r,e.disableSpotlightAnimation]),t}(e),E=f.qb,A=(0,u.Ww)(),y=_(a.useMemo(()=>({user:e.user,observingSessionID:e.observingSessionID,presenterSessionID:e.presenterSessionID,nominatedSessionID:e.nominatedSessionID}),[e.observingSessionID,e.presenterSessionID,e.user,e.nominatedSessionID])),b=n.sessionID===A?.sessionID?"var(--color-bg-brand)":n.color,x=C(i),k=v(i);return e.hasBorder&&(t="none"===y?"outward":"inward"),a.createElement("div",{className:r()({[f.C7]:!e.horizontal,[f._L]:e.horizontal})},a.createElement(h.W,{id:e.tooltipProxyId,user:{id:n.userID,handle:n.name,sessionId:n.sessionID},tooltipOffsetY:o},a.createElement("svg",{key:"multiplayer-animation-svg",className:`multiplayer-animation-svg ${e.horizontal?"horizontal":""}`,viewBox:`0 0 ${x} ${s}`,"aria-hidden":"true"},a.createElement("circle",{className:`multiplayer-animation-circle ${e.horizontal?"horizontal":""} ${g}`,cx:x/2,cy:s/2,r:k,fill:"none",stroke:b,strokeWidth:"2","aria-hidden":"true"})),e.showColorIndicators&&a.createElement("div",{key:"multiplayer-animation-droplet",className:`multiplayer-animation-droplet${e.horizontal?"-horizontal":""} ${g}`,"data-avatar-color-bar":!0,style:{backgroundColor:b}}),a.createElement("div",{className:E},a.createElement(p.Ro,{entity:{...n,id:n.userID},className:f.ws,borderStyle:t}))))}let k=a.memo(function(e){let t=C(e.isUI3),n=v(e.isUI3),o=`
  .multiplayer-animation-svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: ${t}px;
  }

  .multiplayer-animation-droplet {
    left: ${t/2-n/2}px;
    top: 0px;
    height: 2px;
    width: ${n}px;
    border-radius: 0px;
    position: absolute;
  }

  .multiplayer-animation-droplet-horizontal {
    left: 0px;
    top: 50%;
    transform: translateY(-50%);
    height: ${n}px;
    width: 2px;
    border-radius: 0px;
    position: absolute;
  }

  .multiplayer-animation-droplet.selected {
    animation: droplet 0.3s ease-in forwards;
  }

  .multiplayer-animation-droplet-horizontal.selected {
    animation: droplet-horizontal 0.3s ease-in forwards;
  }

  .multiplayer-animation-droplet.deselected {
    animation: droplet-reverse 0.2s ease-out 0.4s forwards;
    left: ${t/2-n/4}px;
    top: 0px;
    height: 0px;
    width: 0px;
    border-radius: 0px;
  }

  .multiplayer-animation-droplet-horizontal.deselected {
    animation: droplet-horizontal-reverse 0.2s ease-out 0.4s forwards;
    left: ${t/2-n/4}px;
    height: 0px;
    width: 0px;
    border-radius: 0px;
  }

  .multiplayer-animation-circle {
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    transform-origin: center;
    transform: rotateZ(-90deg);
  }

  .multiplayer-animation-circle.horizontal {
    transform: rotateZ(-180deg);
  }

  .multiplayer-animation-circle.selected {
    animation: draw-circle 0.15s ease-in 0.3s forwards;
  }

  .multiplayer-animation-circle-horizontal.selected {
    animation: draw-circle-horizontal 0.15s ease-in 0.3s forwards;
  }

  .multiplayer-animation-circle.deselected {
    animation: draw-circle-reverse 0.4s ease-in forwards;
  }

  .multiplayer-animation-circle.presenting {
    stroke-dasharray: 3.4;
    animation: rotating 30s linear infinite
  }

  @keyframes rotating {
    from {
      transform: rotateZ(0deg);
    }
    to {
      transform: rotateZ(360deg);
    }
  }

  @keyframes droplet {
    0% {
      top: 0px;
      height: 2px;
      width: ${n}px;
      border-radius: 0px;
    }
    20% {
      top: -3.5px;
      height: ${n/2}px;
      width:  ${n/2}px;
      border-radius: 100%;
    }
    66% {
      top: -2px;
      height: 7px;
    }
    98% {
      top: 5px;
      height: 3px;
      width: 3px;
      border-radius: 100%;
    }
    99% {
      top: 5px;
      height: 1px;
      width: 1px;
      border-radius: 100%;
    }
    100% {
      top: 5px;
      height: 0px;
      width: 0px;
      border-radius: 100%;
    }
  }

  @keyframes droplet-horizontal {
    0% {
      left: 0;
      height: ${n}px;
      width: 2px;
      border-radius: 0px;
    }
    20% {
      left: -3.5px;
      height: ${n/2}px;
      width: ${n/2}px;
      border-radius: 100%;
    }
    66% {
      left: -2px;
      width: ${n/2}px;
    }
    99% {
      left: 5px;
      height: 3px;
      width: 3px;
      border-radius: 100%;
    }
    100% {
      left: 5px;
      height: 0px;
      width: 0px;
      border-radius: 100%;
    }
  }

  @keyframes draw-circle {
    0% {
      stroke-dashoffset: 400;
    }
    100% {
      stroke-dashoffset: 300;
    }
  }

  @keyframes droplet-reverse {
    0% {
      top: 0px;
      height: 2px;
      width: 2px;
      border-radius: 0px;
    }
    100% {
      top: 0px;
      height: 2px;
      width: ${n};
      border-radius: 0px;
    }
  }

  @keyframes droplet-horizontal-reverse {
    0% {
      left: 0px;
      height: 2px;
      width: 2px;
      border-radius: 0px;
    }
    100% {
      left: 0px;
      width: 2px;
      height: ${n}px;
      border-radius: 0px;
    }
  }`;return a.createElement("style",null,o)})},371746:(e,t,n)=>{n.d(t,{w:()=>e8});var a=n(411855),o=n(188507),r=n(504440);function i(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 6H7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm5-1H17a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2.5v-.5A1.5 1.5 0 0 1 11 3h2a1.5 1.5 0 0 1 1.5 1.5zm-1 0v-.5A.5.5 0 0 0 13 4h-2a.5.5 0 0 0-.5.5V5zM12 12a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m1.212.687a2.5 2.5 0 1 0-2.424 0A4 4 0 0 0 8 16.5a.5.5 0 0 0 1 0 3 3 0 1 1 6 0 .5.5 0 0 0 1 0 4 4 0 0 0-2.788-3.813",clipRule:"evenodd"}))}var l=n(629019),s=n.n(l),c=n(966712),d=n(915440),m=n(711525),u=n(563706),p=n(218881),h=n(47506),g=n(939863),f=n(964881),v=n(970516),E=n(662275),A=n(349410),C=n(672517),w=n(138020),y=n(160838),b=n(129318),_=n(67085),I=n(29680),x=n(594901),k=n(860178),M=n(99506),S=n(668860),T=n(298468),D=n(995749),P=n(520479),B=n(374626),N=n(875847),R=n(723239),F=n(335682),U=n(279453),O=n(623746);function L(){let e=(0,F.tS)(),t=(0,d.Rs)(U.nn0,{fileKey:e??""},{enabled:!!e});return(0,a.useMemo)(()=>t.data?.file?.fileRoleRequests??[],[t.data?.file?.fileRoleRequests])}function H(){let e=(0,o.d4)(e=>e.currentUserOrgId),t=(0,o.d4)(F.vu),n=(0,B.md)(R.t).data??!0,r=(0,d.Rs)(U.L1I,{fileKey:t?.key??"",teamId:t?.team_id??null,repoId:t?.file_repo_id??null,projectId:t?.folder_id??null,currentOrgId:e??null});return(0,a.useMemo)(()=>{let e="loaded"===r.status&&r.data.file;if(!e)return null;let a=e.project,o=(0,N.VA)(a);return{file:t,repo:e.repo?{...(0,O.YT)(e.repo),canEdit:e.repo.canEdit}:null,hasOrg:!!e.org,isInDraftsFolder:o,isFreeUserOnly:n}},[t,r.status,r.data,n])}let V="edit_request",Q="move_to_project";var z=n(809831),Y=n(226055),G=n(737499),W=n(243987),j=n(984968),X=n(239671),q=n(498606),Z=n(343887),K=n(139689);function J(e){let{className:t,maxWidth:n,dep:o,children:r}=e,i=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(!i.current||!l.current)return;i.current.style.width="unset";let e=Math.ceil(l.current.getBoundingClientRect().width);i.current.style.width=`${e}px`},[o]),a.createElement("div",{className:t,ref:i,style:{maxWidth:n}},a.createElement("span",{ref:l},r))}var $=n(296045),ee=n(256975),et=n(507956),en=n(298543),ea=n(675678),eo=n(776621),er=n(48009);let ei="read-file-requests";function el(e){let[t,n]=(0,a.useState)(!1),o=(0,I.aV)();return(0,a.useEffect)(()=>{if(o)return;let t=setTimeout(()=>n(!0),e);return()=>clearTimeout(t)},[o,e]),t}function es(e){let[t,n]=(0,a.useState)(),o=(0,I.aV)();return(0,a.useLayoutEffect)(()=>{if(o)return;let t=()=>{let t=e.getBoundingClientRect(),a=new DOMRect(t.left,t.top,t.width,t.height);a.x+=6,a.y+=6,n(a)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[o,e]),t}function ec(){try{return new Set(JSON.parse(localStorage.getItem(ei)??"[]"))}catch(e){return(0,eo.$D)(ea.FigmaTeam.GROWTH_PLATFORM,Error(`Failed to parse read file requests from storage: ${e}`)),localStorage.removeItem(ei),new Set}}let ed="edit_request_tooltip--avatar--RW6OW",em="edit_request_tooltip--buttonContainer--h3Mpx";function eu({target:e}){let t=el(500),{unreadRequests:n,markRequestsAsRead:r}=function(){let e=L(),[t,n]=(0,a.useState)(()=>ec()),r=(0,k.TA)(),i=(0,o.d4)(e=>e.modalShown?.type===P.jS),l=(0,a.useMemo)(()=>e.filter(e=>!t.has(e.id)&&e.requesterUserId!==r),[e,t,r]),s=(0,a.useCallback)(e=>{let t=new Set([...ec(),...l.map(e=>e.id)]);localStorage.setItem(ei,JSON.stringify([...t])),e&&n(t)},[l]);return(0,a.useEffect)(()=>{i&&l.length>0&&s(!0)},[i,s,l.length]),{unreadRequests:l,markRequestsAsRead:s}}(),i=function(e){let t=e.map(e=>e.requesterUser?.imgUrl??null),n=0===e.length;return(0,er.xX)(n,t)}(n.slice(0,2)),l=H(),s=(0,et.ks)(),c=(0,ee._I)();return t&&n.length&&i&&l&&(!s||c)?a.createElement(ep,{target:e,unreadRequests:n,markRequestsAsRead:r,editRequestPermissionsData:l}):null}function ep({target:e,unreadRequests:t,markRequestsAsRead:n,editRequestPermissionsData:o}){let r=es(e);return r?a.createElement(C.fu,{name:"Edit Request Tooltip"},a.createElement(en.Cf,{className:"edit_request_tooltip--tooltipContainer--rhLGf",targetRect:r,disableDropdownScrollContainer:!0,propagateCloseClick:!0},a.createElement(eh,{requests:t,markRequestsAsRead:n,editRequestPermissionsData:o}))):null}function eh({requests:e,markRequestsAsRead:t,editRequestPermissionsData:n}){return a.createElement("div",{className:"edit_request_tooltip--contentContainer--IClWV","data-preferred-theme":"dark","data-testid":"edit-request-tooltip"},a.createElement(eg,{requests:e}),a.createElement(ef,{requests:e}),a.createElement(eE,{requests:e,editRequestPermissionsData:n}),a.createElement(Z.K,{onClick:()=>t(!0),"aria-label":(0,g.t)("general.close")},a.createElement(K.A,null)))}function eg({requests:e}){let t=e.length<=2?e.length:1,n=e.length-t;return a.createElement("div",{className:"edit_request_tooltip--avatarContainer--wTOHq"},e.slice(0,t).map((e,t)=>a.createElement($.e,{adtlClassName:ed,key:e.id,size:24,entity:{id:e.requesterUserId,name:e.requesterUser?.handle,img_url:e.requesterUser?.imgUrl},style:{zIndex:-t}})),n>0&&a.createElement($.e,{adtlClassName:s()(ed,"edit_request_tooltip--avatarRemainder--AP7l3"),size:24,entity:{id:"-1",name:n.toString()},style:{zIndex:-t}}))}function ef({requests:e}){let t=(e=(0,g.t)("user_notifications.community.someone"))=>a.createElement("b",null,e.length<=18?e:`${e.slice(0,18).trim()}...`),n=(()=>{switch(e.length){case 1:return(0,g.tx)("role_request.edit_request_tooltip.user_wants_to_request_type",{userHandle:t(e[0].requesterUser?.handle),requestType:(0,D.zg)(e[0].level)});case 2:return(0,g.tx)("role_request.edit_request_tooltip.user1_and_user2_request_access",{userHandle1:t(e[0].requesterUser?.handle),userHandle2:t(e[1].requesterUser?.handle)});default:return(0,g.tx)("role_request.edit_request_tooltip.user_and_others_request_access",{userHandle:t(e[0].requesterUser?.handle),othersText:a.createElement("b",null,(0,g.tx)("role_request.edit_request_tooltip.othersText",{numOthers:e.length-1}))})}})(),o=1===e.length?137:158;return a.createElement(J,{className:"edit_request_tooltip--textContainer--OU1YR",maxWidth:o,dep:e},(0,c.kc)().edit_request_reformat?a.createElement(a.Fragment,null,a.createElement("div",null,(()=>{switch(e.length){case 1:return t(e[0].requesterUser?.handle);case 2:let n=t(e[0].requesterUser?.handle),o=t(e[1].requesterUser?.handle);if(e[0].requesterUser?.handle.length&&e[1].requesterUser?.handle.length&&e[1].requesterUser?.handle.length+e[0].requesterUser?.handle.length>18)return(0,g.tx)("role_request.edit_request_tooltip.user1_and_user2",{userHandle1:t(e[0].requesterUser?.handle),userHandle2:a.createElement("b",null,(0,g.tx)("role_request.edit_request_tooltip.othersText",{numOthers:e.length-1}))});return(0,g.tx)("role_request.edit_request_tooltip.user1_and_user2",{userHandle1:n,userHandle2:o});default:return(0,g.tx)("role_request.edit_request_tooltip.user1_and_user2",{userHandle1:t(e[0].requesterUser?.handle),userHandle2:a.createElement("b",null,(0,g.tx)("role_request.edit_request_tooltip.othersText",{numOthers:e.length-1}))})}})()),a.createElement("div",null,(()=>{if(1!==e.length)return(0,g.tx)("role_request.edit_request_tooltip.request_access");{let t=(0,D.zg)(e[0].level);return(0,g.tx)("role_request.edit_request_tooltip.wants_to_request_type",{requestType:t})}})())):a.createElement(a.Fragment,null,n))}let ev=(0,C.tf)(r.$n);function eE({requests:e,editRequestPermissionsData:t}){let n=(0,o.wA)(),r=(0,F.tS)(),i=t.file?.key??r,l=e[0];return 1===e.length&&l&&l.requesterUser?a.createElement("div",{className:em},a.createElement(eA,{id:l.id,level:l.level,requesterUserId:l.requesterUserId,userHandle:l.requesterUser.handle,editRequestPermissionsData:t})):i?a.createElement("div",{className:em},a.createElement(ev,{trackingProperties:{numRequests:e.length},trackingEventName:"Edit Request Tooltip - Open Share Modal",onClick:()=>{i&&n((0,E.to)({type:P.g_,data:{fileKey:i,source:_.nk.editRequestTooltip}}))},variant:"secondary"},(0,g.tx)("role_request.edit_request_tooltip.view_button_text"))):null}function eA(e){let{id:t,level:n,requesterUserId:r,userHandle:i,editRequestPermissionsData:l}=e,s=(0,o.wA)(),c=(0,F.tS)(),{handleApprove:d,handleDeny:m}=(0,D.iF)(s,l)({roleRequestId:t,requestType:n,handle:i}),u={fileKey:c,userId:r,fileRoleRequestId:t,request_type:(0,D.aD)(n)};return a.createElement(a.Fragment,null,a.createElement(ev,{trackingProperties:u,trackingEventName:"Edit Request Tooltip - Request Denied",onClick:m,variant:"destructiveLink"},(0,g.tx)("request_row.deny")),a.createElement(ev,{trackingProperties:u,trackingEventName:"Edit Request Tooltip - Request Approved",onClick:d,variant:"secondary"},(0,g.tx)("request_row.approve")))}var eC=n(882746),ew=n(75395),ey=n(901536),eb=n(67294),e_=n(750293),eI=n(720647),ex=n(547807);let ek=new class{notifyViewerRestrictedDraftShared(e){return ex._5.validate(({xr:t})=>t.put(`/api/viewer_restricted_draft/${e}/notify`))}dismissViewerRestrictedDraftShared(e){return ex._5.validate(({xr:t})=>t.put(`/api/viewer_restricted_draft/${e}/dismiss`))}};var eM=n(731210),eS=n(114959);function eT(){return a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"shared_vr_draft_tooltip--svg--6colb"},a.createElement("path",{d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8Z",fill:"#FFCD29"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.30796 4.53016V9.09594H8.6777V4.53016H7.30796Z",fill:"black"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.9925 10.2382C8.49683 10.2382 8.90566 10.6471 8.90566 11.1514V11.214C8.90566 11.7183 8.49683 12.1272 7.9925 12.1272C7.48818 12.1272 7.07935 11.7183 7.07935 11.214V11.1514C7.07935 10.6471 7.48818 10.2382 7.9925 10.2382Z",fill:"black"}))}let eD=(0,C.tf)(r.Pw),eP=(0,C.tf)(ew.E);function eB({file:e,target:t}){let n=el(500),o=(0,et.ks)(),r=(0,d.Rs)(U.lrh,{fileKey:e.key,orgId:e.parentOrgId||null,teamId:e.teamId||null});if(!n||"loaded"!==r.status)return null;let i=(0,w.oA)(r.data.viewerRestrictedDraftAccessLog);if(!i||o||!e.parentOrgId&&!e.teamId||!r.data.file?.isDraftFile)return null;let l=r.data.currentUser?.baseOrgUser,s=r.data.currentUser?.teamUser,c=e.parentOrgId?l:s;if(!c)return null;let m=r.data.file?.editorType;if(!m||i.dismissedAt||(m===M._Y.WHITEBOARD?c.whiteboardPaidStatus:c.designPaidStatus)!==(e.parentOrgId?M.El.RESTRICTED:M.Zf.RESTRICTED))return null;let u=m===M._Y.WHITEBOARD?c.whiteboardAccountTypeRequest:c.designAccountTypeRequest;if(u&&("pending"===u.status||u.createdAt>i.createdAt))return null;let p=i.viewerUser?.name;return a.createElement(eN,{target:t,viewerUserName:p,file:e,orgUser:l,teamUser:s,editorType:m})}function eN({target:e,viewerUserName:t,file:n,editorType:r,orgUser:i,teamUser:l}){let s=es(e),c=(0,A.Xt)(!!i),[d,m]=(0,a.useState)(!1),u=(0,o.wA)();if(!c||d||!s)return null;let p=i?.org??l?.team;if(!p)return null;let h=()=>{ek.dismissViewerRestrictedDraftShared(n.key),m(!0)},f=()=>{if(!i)return;let e=i.licenseGroupMember&&i.licenseGroupMember.licenseGroupId?{license_group_id:i.licenseGroupMember.licenseGroupId}:void 0;u((0,E.to)({type:eM.Y,data:{orgId:i.id,orgUser:{id:i.id,permission:i.permission,user_id:i.userId,org_id:i.orgId,license_group_member:e},licenseType:(0,eI.vc)(r),entryPoint:e_.tc.IN_EDITOR_RESTRICTED_DRAFT,isOneClickUpgradeRequest:!0}}))},v=()=>{l&&u((0,E.to)({type:eS.PK,data:{editorType:r,team:l.team,entryPoint:e_.tc.IN_EDITOR_RESTRICTED_DRAFT,isOneClickUpgradeRequest:!0}}))},w=(0,g.tx)("viewer_restricted_tooltip.teammates_cant_access_this_file",{planName:p.name}),y=t?(0,g.tx)("viewer_restricted_tooltip.you_recently_shared_this_draft",{fileOpenerName:t}):(0,g.tx)("viewer_restricted_tooltip.you_recently_shared_this_draft_no_name");return a.createElement(C.fu,{name:"VR Draft Share Notification Tooltip"},a.createElement(en.Cf,{targetRect:s,disableDropdownScrollContainer:!0,showPoint:!0,propagateCloseClick:!0,maxWidth:384},a.createElement("div",{className:ey.cx.flex.flexRow.gap14.mb4.mt4.ml8.mr8.$,"data-testid":"SharedVrDraftTooltipView"},a.createElement(eR,{plan:p}),a.createElement("div",null,a.createElement("div",{className:ey.cx.colorTextOnbrand.fontBold.$},w),a.createElement("div",{className:ey.cx.colorTextOnbrandSecondary.mt2.$},y),a.createElement("div",{className:ey.cx.flex.flexRow.mt8.gap8.$},a.createElement(eP,{className:"shared_vr_draft_tooltip--ignoreButton---wVA0",onClick:h},(0,g.tx)("viewer_restricted_tooltip.ignore")),a.createElement(eD,{variant:"primary",type:"submit",onClick:()=>{m(!0),i?f():v(),h()}},(0,g.tx)("viewer_restricted_tooltip.request_upgrade")))))))}function eR({plan:e}){let t={imgUrl:e.imgUrl??void 0,id:e.id,name:e.name};return a.createElement("div",{className:"shared_vr_draft_tooltip--svgContainer--SousN"},a.createElement(eb.nl,{team:t,size:eb.Pf.LARGE}),a.createElement(eT,null))}var eF=n(832568),eU=n(511617),eO=n(737947),eL=n(761870),eH=n(195847),eV=n(946689),eQ=n(163023),ez=n(540019),eY=n(237870),eG=n(793670),eW=n(746806),ej=n(63666),eX=n(601538);let eq="share_link_modal--section--JsLVR";var eZ=n(681109),eK=n(797804);function eJ({fileKey:e,onRequestClose:t,alreadyCopied:n}){let r=(0,o.wA)(),i=ez.M4.File.useValue(e).data,l=i?.url||"",c=(0,o.d4)(e=>!e.user),[d,m]=(0,a.useState)(!!n),u=()=>{d||(m(!0),r(v.S({url:l})))};return(0,a.useEffect)(()=>{if(d){let e=setTimeout(()=>{m(!1)},5e3);return()=>clearTimeout(e)}},[d]),a.createElement(C.fu,{name:"Share Link Modal"},a.createElement("div",{className:eq},(0,g.tx)("figjam_try.share_link_modal.title")),a.createElement("div",{className:eq},a.createElement(eV.ks,{readOnly:!0,value:l,onClick:u,className:"share_link_modal--input--GQgxB"})),a.createElement("div",{className:s()(c&&eq)},a.createElement(eV.vd,{fullWidth:!0,onClick:u,trackingProperties:{buttonContext:"Copy link"}},a.createElement("span",{className:"share_link_modal--buttonContent--xZNXo"},a.createElement(eQ.B,{svg:eZ.A,className:"share_link_modal--linkIcon--lwYrP"}),d?(0,g.t)("figjam_try.link_copied"):(0,g.t)("figjam_try.copy_link")))),c&&a.createElement("div",{className:"share_link_modal--anonymousUserSection--tS-rc"},a.createElement(eQ.B,{svg:eK.A,className:"share_link_modal--teamIcon--1LdNm"}),a.createElement("span",null,(0,g.tx)("figjam_try.share_link_modal.cta_description")," ",a.createElement(eV.Us,{role:"button",onClick:()=>{t(),r(eL.Ts({origin:"figjam_try_share_modal",formState:eH.qB.SIGN_UP,redirectUrl:(0,eU.dR)(eO.Ay.location.pathname,{[eX.ao.key]:eX.ao.value}),signedUpFromOpenSession:!0})),r(E.to({type:eG.x,data:{headerText:(0,g.t)("fullscreen.toolbar.create_an_account_to_do_more_with_fig_jam")}}))},trackingProperties:{buttonContext:"Create account"},trusted:!0},(0,g.tx)("figjam_try.share_link_modal.cta")))))}let e$=(0,eY.Ju)(function({fileKey:e,alreadyCopied:t}){let n=(0,o.wA)(),r=()=>{n(E.Ce())};return a.createElement(ej.CR,{targetKey:eX.v4,width:300-2*ej.uv,shouldCenterArrow:eW.EL.FALLBACK,topPadding:4,dismissModal:r,hideCloseButton:!0,animateQuickly:!0},a.createElement(eJ,{fileKey:e,onRequestClose:r,alreadyCopied:t}))},"ShareLinkModal"),e0=(0,n(422237).ex)("share_button_disabled_personal_draft",function(e){let{isCurrentUserFileOwner:t}=e;return t?a.createElement("div",{className:ey.cx.cursorDefault.colorTextTooltip.$},a.createElement("span",null,(0,g.tx)("fullscreen.toolbar.multiplayer.sharing_disabled_for_personal_drafts")),a.createElement("div",{className:ey.cx.bl1.hFull.inline.bSolid.colorBorderMenu.ml8.mr8.$}),a.createElement("a",{href:"/files/drafts-to-move",className:ey.cx.cursorPointer.noUnderline.fontBold.colorTextTooltip.$},(0,g.tx)("fullscreen.toolbar.multiplayer.sharing_disabled_visit_drafts_to_move_link"))):(0,g.tx)("fullscreen.toolbar.multiplayer.sharing_disabled_while_file_is_being_moved")},e=>{let t=e.getAttribute("data-tooltip-is-current-user-file-owner");return{isCurrentUserFileOwner:!!t&&JSON.parse(t),unconstrainWidth:!0}});var e1=n(162057);function e2({fileKey:e,isLegacyPosition:t}){let n=0,o=(0,d.Rs)(U.OCJ,{fileKey:e});if(o&&"loaded"===o.status&&o.data.file?.fileRoleRequests&&(n=o.data.file.fileRoleRequests.length),0===n)return null;let r=s()("badge--shareButtonBadge--zXKJj",{"badge--legacyPosition--58g-I":t});return a.createElement(C.fu,{name:"Share Button Badge",properties:{numRequests:n}},a.createElement("div",{className:r}))}var e5=n(46481),e3=n(527488);function e4(){return a.createElement("div",{className:"open_sessions_icon--container--Lveob","data-testid":"openSessionsIcon"},a.createElement(e5.U,{svg:e3.A},a.createElement(i,null)))}var e6=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.DISABLED="disabled",e.LOADING="loading",e.OPEN_SESSION="openSession",e.PERSONAL_DRAFT_DISABLED="personalDraftDisabled",e))(e6||{});function e8({editingFile:e,user:t,isFileInWorkshop:n,appendedClassname:r}){let i=(0,Y.GS)(),l=(0,f.l7)(),s=(0,z.my)(),C=(0,x.sj)(e),B=s===X.nT.Slides&&(0,m.oA)(e.org?.isSlidesDisabled),N=!!e.org||(0,W.XX)(e.team),R=e.isTryFile,O=(0,I.aV)(),Z=(0,o.wA)(),K=F.Cq({useSinatraType:!0})?.url,[J,$]=(0,a.useState)(null),ee=(0,j.ol)(),et=!e.teamId&&!e.parentOrgId&&((0,c.kc)().ps_benchmark&&e.folderId===t?.personal_drafts_folder_id||(0,c.kc)().ps_disable_drafts_sharing)&&!R,en=t?.id===e.creatorId,ea=(0,p.I7)("exp_pro_vr_to_editor_v2").getConfig,eo=(0,p.I7)("exp_org_vr_to_editor_v2").getConfig,er=(0,eF.vt)(e.team?.id),ei=(0,A.Yz)(),el=(0,d.Rs)(U.kQI,{id:e.team?.id||""},{enabled:!!e.team}),es="loaded"===el.status&&!!el.data.team?.hasPermission,ec=ei(!!e.team&&er),ed=e.editorType===M._Y.SITES&&!(0,c.kc)().sts_share_support,em=(0,eC.zq)(t,e);!function(e){let t=(0,o.wA)(),n=H(),r=L(),i=(0,x.sj)(e),l=e.editorType===M._Y.SLIDES&&(0,w.oA)(e.org?.isSlidesDisabled),s=(0,I.aV)(),c=(0,k.iZ)();a.useEffect(()=>{let a=(0,b.QL)(V),o="true"===(0,b.QL)(Q);a&&!s&&function(a){if(i||l||!n)return;let s=r.find(e=>e.id===a);if(s?.level!==S.e6.EDITOR||s.status!==D.IZ.Pending)return;let d=e.ownerRole?.userId,m=c?.id;if(null==d||null==m||d!==m)return;let u=s.requesterUser?.handle;if(!u)return;let p=o&&n.isFreeUserOnly&&n.isInDraftsFolder&&!n.hasOrg,h={handle:u,requestType:S.e6.EDITOR,roleRequestId:a};t((0,E.to)({type:P.g_,data:{fileKey:n.file?.key??e.key,source:_.nk.editRequestExternal}})),p&&(0,y.hd)(n.file,n.repo,t,{handlesVisualBell:!0,callback:e=>{(0,D.wR)(t,D.IZ.Approved,h)}},{...(0,T.x)(),moveText:(0,g.t)("file_permissions_modal.move_and_allow_edits")}),(0,b.EM)(V),(0,b.EM)(Q)}(a)},[e,c,n,r,i,l,s,t])}(e);let ep=(0,a.useCallback)(()=>{if(!O&&!C&&!B&&!ed&&!et&&e){if(R){let t;void 0!==K&&(Z(v.S({url:K})),t=!0),Z((0,E.to)({type:e$,data:{fileKey:e.key,alreadyCopied:t}}))}else(0,h.YQ)({id:"multiplayer_toolbar_share_button"}),Z((0,E.to)({type:P.g_,data:{fileKey:e.key,source:_.nk.fullscreenToolbar,isLockedTeam:ec}}))}},[O,C,B,et,R,ed,ec,K,e,Z]),eh=(0,G.m0)();if((0,a.useEffect)(()=>{eh&&(eh._share_file=()=>{ep()})},[eh,ep]),u.Ay.isMeetDevice||(!R||!n)&&!t||null===em)return null;let eg=n&&!R&&N,ef=!!(0,c.tl)().org_id&&(0,c.tl)().org_id===e.parentOrgId,ev=!!ee?.subscription&&!ee.org_team;if(ec&&"loading"===el.status)return null;let eE=ed||C||B?"disabled":O?"loading":eg?"openSession":et?"personalDraftDisabled":ec&&es&&!e.canEdit||em&&(ef&&(0,A.kX)(eo)||ev&&(0,A.kX)(ea))?"secondary":"primary",eA=ed?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_sites_files_disabled_in_alpha"):C?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_fig_jam_files_disabled_by_your_organization"):B?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_slides_files_disabled_by_your_organization"):eg?(0,g.t)("fullscreen.toolbar.multiplayer.open_session_in_progress"):et?e0:null,ew={"data-tooltip-is-current-user-file-owner":JSON.stringify(en),"data-tooltip-type":et?q.Ib.SPECIAL:q.Ib.TEXT,"data-tooltip-interactive":!!et,"data-tooltip":eA,"data-tooltip-show-immediately":!0,"data-tooltip-offset-y":et?0:6},ey=s===X.nT.Whiteboard,eb=i&&(ey||l),e_=e.hasEditRole&&(0,m.oA)(e.hasEditRole),eI=!O&&!eA&&J&&en&&(ef||ev);return a.createElement(a.Fragment,null,a.createElement("div",{className:eb?"share_button--shareButtonContainer--LA-wf":"share_button--legacyShareButtonContainer--51MTb",ref:$},a.createElement(eb?tn:e7,{variant:eE,onClick:ep,tooltipProps:ew,appendedClassname:r}),e_&&a.createElement(e2,{fileKey:e.key,isLegacyPosition:!eb})),e_&&!eA&&J&&a.createElement(eu,{target:J}),eI&&a.createElement(eB,{file:e,target:J}))}function e7({variant:e,onClick:t,tooltipProps:n,appendedClassname:o}){let r=(0,e1.O)(),i="openSession"===e,l=s()(r?"share_button--shareButtonExtraMargin--4zFpB share_button--shareButton--BPUkd share_button--textButtonContainer--uqZsQ":"share_button--shareButton--BPUkd share_button--textButtonContainer--uqZsQ",{"share_button--shareButtonFigjamDisabled--O-XXk":"disabled"===e,"share_button--shareButtonLoading--vLUAl":"loading"===e,"share_button--shareButtonWorkshop--zKuoB":i,"share_button--shareButtonPersonalDraftDisabled--PZUda share_button--shareButton--BPUkd share_button--textButtonContainer--uqZsQ":"personalDraftDisabled"===e,"share_button--shareButtonSecondary--0-pgr":"secondary"===e},"share_button--textButton--x7STz basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",o);return a.createElement(C.$z,{type:"button",className:l,onClick:t,"data-onboarding-key":eX.v4,...n,dataTestId:"multiplayer-toolbar-share-button",trackingProperties:{buttonVariant:e},disabled:tt(e)},i&&a.createElement(e4,null),(0,g.tx)("fullscreen.toolbar.multiplayer.share"))}let e9=(0,C.tf)(r.WW),te=["disabled","personalDraftDisabled","loading"];function tt(e){return te.includes(e)}function tn({variant:e,onClick:t,tooltipProps:n}){let o={primary:"primary",secondary:"secondary",disabled:"disabled",loading:"disabled",openSession:"primary",personalDraftDisabled:"disabled"}[e],r=null;return"openSession"===e&&(r=a.createElement(i,null)),a.createElement(e9,{disabled:tt(e),variant:"disabled"!==o?o:void 0,iconPrefix:r,onClick:t,trackingProperties:{buttonVariant:e},htmlAttributes:{...n,"data-testid":"multiplayer-toolbar-share-button","data-onboarding-key":eX.v4}},(0,g.tx)("fullscreen.toolbar.multiplayer.share"))}},808631:(e,t,n)=>{n.d(t,{W:()=>a});let a=`data:image/svg+xml;utf8,<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15 23L18 9L17.0222 8.79047L14.0222 22.7905L15 23ZM12.304 12.2072L8.414 16.0962L12.303 19.9852L11.596 20.6922L7 16.0962L7.354 15.7432L11.596 11.5002L12.304 12.2072ZM24.546 15.7432L20.304 11.5002H20.303L19.596 12.2072L23.486 16.0962L19.596 19.9852L20.303 20.6922L24.9 16.0962L24.546 15.7432Z" fill="black" fill-opacity="0.3"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.92869 31.7293L6.18693 30.7632C6.7641 30.9175 7.37164 31 8 31H9.77778V32H8C7.28368 32 6.58934 31.9059 5.92869 31.7293ZM22.2222 32V31H24C24.6284 31 25.2359 30.9175 25.8131 30.7632L26.0713 31.7293C25.4107 31.9059 24.7163 32 24 32H22.2222ZM28.0006 30.9294L27.4998 30.0638C28.5625 29.449 29.449 28.5625 30.0638 27.4998L30.9294 28.0006C30.227 29.2147 29.2147 30.227 28.0006 30.9294ZM32 9.77778H31V8C31 7.37164 30.9175 6.7641 30.7632 6.18693L31.7293 5.9287C31.9059 6.58934 32 7.28368 32 8V9.77778ZM30.9294 3.99936L30.0638 4.50017C29.449 3.43754 28.5625 2.55101 27.4998 1.93619L28.0006 1.07063C29.2147 1.77305 30.227 2.78535 30.9294 3.99936ZM9.77778 0H8C7.28368 0 6.58934 0.0941465 5.9287 0.270741L6.18693 1.23682C6.7641 1.08254 7.37164 1 8 1H9.77778V0ZM3.99936 1.07063L4.50017 1.93619C3.43754 2.55101 2.55101 3.43754 1.93619 4.50017L1.07063 3.99936C1.77305 2.78535 2.78535 1.77305 3.99936 1.07063ZM0 22.2222H1V24C1 24.6284 1.08254 25.2359 1.23682 25.8131L0.270741 26.0713C0.0941465 25.4107 0 24.7163 0 24V22.2222ZM1.07063 28.0006L1.93619 27.4998C2.55101 28.5625 3.43754 29.449 4.50017 30.0638L3.99936 30.9294C2.78535 30.227 1.77305 29.2147 1.07063 28.0006ZM0 20.4444H1V16.8889H0V20.4444ZM0 15.1111H1V11.5556H0V15.1111ZM0 9.77778H1V8C1 7.37164 1.08254 6.7641 1.23682 6.18693L0.270741 5.92869C0.0941466 6.58934 0 7.28368 0 8V9.77778ZM11.5556 0V1H15.1111V0H11.5556ZM16.8889 0V1H20.4444V0H16.8889ZM22.2222 0V1H24C24.6284 1 25.2359 1.08254 25.8131 1.23682L26.0713 0.270741C25.4107 0.0941466 24.7163 0 24 0H22.2222ZM32 11.5556H31V15.1111H32V11.5556ZM32 16.8889H31V20.4444H32V16.8889ZM32 22.2222H31V24C31 24.6284 30.9175 25.2359 30.7632 25.8131L31.7293 26.0713C31.9059 25.4107 32 24.7163 32 24V22.2222ZM20.4444 32V31H16.8889V32H20.4444ZM15.1111 32V31H11.5556V32H15.1111Z" fill="black" fill-opacity="0.3"/>
</svg>
`},620597:(e,t,n)=>{n.d(t,{q:()=>g});var a=n(411855),o=n(188507),r=n(323762),i=n(657333),l=n(563706),s=n(946689),c=n(939863),d=n(450225),m=n(737499),u=n(498606),p=n(746958);let h=()=>{let e=[{key:"figma",name:(0,c.t)("whiteboard.embeds.insert_embed_modal.figma"),url:"https://figma.com/",srcColor:"https://static.figma.com/uploads/7ea1b6f90b29ea190de9f069109ba70cdb731c3e"},{key:"youtube",name:(0,c.t)("whiteboard.embeds.insert_embed_modal.youtube"),url:"https://youtube.com/",srcColor:"https://static.figma.com/uploads/27da640990b84fd2d3133d90c7af66d8cf212a41"},{key:"vimeo",name:(0,c.t)("whiteboard.embeds.insert_embed_modal.vimeo"),url:"https://vimeo.com/",srcColor:"https://static.figma.com/uploads/7ef2e69ffc73f6e90f9fa5e90d485e623c69ed10"},{key:"loom",name:(0,c.t)("whiteboard.embeds.insert_embed_modal.loom"),url:"https://loom.com/",srcColor:"https://static.figma.com/uploads/097eb54967f52a9ad067434278365eba38bca3c3"},{key:"spotify",name:(0,c.t)("whiteboard.embeds.insert_embed_modal.spotify"),url:"https://spotify.com/",srcColor:"https://static.figma.com/uploads/1c81468ec0a9eccd0c0cdd21b9d4f6a6477dcc8a"},{key:"codepen",name:(0,c.t)("whiteboard.embeds.insert_embed_modal.codepen"),url:"https://codepen.io/",srcColor:"https://static.figma.com/uploads/76ecbaf33bb0485666ef32e5afaf73b4add66fd7"}];return e.push({key:"asana",name:(0,c.t)("whiteboard.embeds.insert_embed_modal.asana"),url:"https://asana.com/",srcColor:"https://static.figma.com/uploads/67c0efb6b111e5fd5b3153057bbddb000ec04fca"}),e};function g(e){let{onSuccess:t}=e,[n,h]=a.useState(""),[g,v]=a.useState(!1),E=(0,o.wA)(),A=a.useCallback(e=>{e.preventDefault(),e.stopPropagation();let a=(0,i.Cg)(E,n);if(a.length&&a[0].valid){v(!1),t();return}(0,r.CV)(E,n,d.WJ.MODAL).valid?(v(!1),t()):(v(!0),C.current?.focus(),C.current?.select())},[E,t,n]),C=a.useRef(null),w=a.useCallback(e=>{h(e.currentTarget.value),v(!1)},[]),y=!(0,r.KJ)(n),b=(0,m.Kx)();return a.createElement("div",{className:p.Eu},e.title&&a.createElement("div",{className:p.Gf},e.title),a.createElement("div",{className:p.yV},(0,c.tx)("whiteboard.embeds.insert_embed_modal.add_media_from_across_the_web",{learnMoreLink:a.createElement(s.CY,{className:p.se,href:"https://help.figma.com/hc/articles/4414079911575",target:"_blank",trusted:!0},(0,c.tx)("whiteboard.embeds.insert_embed_modal.learn_more"))})),a.createElement("form",{className:p.Vy,onSubmit:A},a.createElement("div",{className:p.Ms},a.createElement("div",{className:p.iO},a.createElement(s.ks,{value:n,ref:C,onChange:w,className:p.wK,placeholder:(0,c.t)("whiteboard.embeds.insert_embed_modal.paste_a_public_link"),autoFocus:!b?.shouldOptimizeForIpadApp,autoCapitalize:"none"}),a.createElement("span",{className:g?p.IO:p.GW}),g&&a.createElement("div",{className:p.Xg,"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.embeds.insert_embed_modal.invalid_link_error_message"),"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0},a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 14C11.8137 14 14.5 11.3137 14.5 8C14.5 4.68629 11.8137 2 8.5 2C5.18629 2 2.5 4.68629 2.5 8C2.5 11.3137 5.18629 14 8.5 14ZM8.99998 8.66701H7.99998V6.50001V4.66701H8.99998V6.50001V8.66701ZM8.50098 11.333C8.13198 11.333 7.83398 11.035 7.83398 10.667C7.83398 10.298 8.13198 10 8.50098 10C8.86898 10 9.16698 10.298 9.16698 10.667C9.16698 11.035 8.86898 11.333 8.50098 11.333Z",fill:"#F24822"})))),a.createElement(s.nR,{type:"submit",disabled:y,className:p.Rq},(0,c.tx)("whiteboard.embeds.insert_embed_modal.add")))),!l.Ay.isIpadNative&&a.createElement(f,null))}function f(){return a.createElement("div",{className:p.ts},a.createElement("div",{className:p.Y$},(0,c.tx)("whiteboard.embeds.insert_embed_modal.try_linking_to_sites_like")),a.createElement("div",{className:p._q},h().map(e=>a.createElement("div",{key:e.key,className:p.Kk},a.createElement("a",{className:p._Q,href:e.url,"data-tooltip-type":u.Ib.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,"data-tooltip":e.name,target:"_blank"},a.createElement("img",{className:p.Dp,src:e.srcColor,alt:e.name}))))))}},278501:(e,t,n)=>{n.d(t,{z:()=>l});var a=n(411855),o=n(939683),r=n(994190),i=n(939863);function l({clientType:e}){let t=(0,o.U)();return(0,a.useEffect)(()=>{let n=Date.now();return()=>{let a=Date.now()-n;t("reconnecting_modal_shown",{msElapsed:a,clientType:e}),a>1e3&&(0,r.B3)(e)}},[e,t]),a.createElement("div",{className:"reconnecting_modal--reconnectingModal--zB52E"},a.createElement("div",{className:"reconnecting_modal--reconnectingModalFlash--KXUlq"},(0,i.tx)("reconnecting_modal.loading")))}},976930:(e,t,n)=>{n.d(t,{A:()=>C});var a=n(411855),o=n(173919);function r(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13 7v1.879l1-1V7a2 2 0 1 0-4 0v4.879l1-1V7a1 1 0 1 1 2 0m.996 5.125-1.87 1.871a2 2 0 0 0 1.87-1.87M8.5 12c0 .413.071.809.203 1.176l-.764.764A4.5 4.5 0 0 1 7.5 12v-.5a.5.5 0 0 1 1 0zm2.324 3.297-.764.764c.444.213.93.355 1.44.412V18h-2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-2v-1.527a4.5 4.5 0 0 0 4-4.473v-.5a.5.5 0 0 0-1 0v.5a3.5 3.5 0 0 1-4.676 3.297m7.03-8.443a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 0 0 .708.708z",clipRule:"evenodd"}))}var i=n(533589),l=n(226055),s=n(327017);let c="voice_svg--voiceAudioBar--bWITN",d="voice_svg--voiceAudioBarStroke--MEsT8 voice_users--voiceAudioBarStroke--MKNsx",m="voice_svg--unmuted--2ZOer",u="voice_svg--muted--WhICG",p="voice_svg--mutedLine--A9TnC";function h(){return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:m},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 7.51144C10 6.40687 10.8954 5.51144 12 5.51144C13.1046 5.51144 14 6.40687 14 7.51144V11.5114C14 12.616 13.1046 13.5114 12 13.5114C10.8954 13.5114 10 12.616 10 11.5114V7.51144ZM13 7.51144V11.5114C13 12.0637 12.5523 12.5114 12 12.5114C11.4477 12.5114 11 12.0637 11 11.5114V7.51144C11 6.95916 11.4477 6.51144 12 6.51144C12.5523 6.51144 13 6.95916 13 7.51144Z"}),a.createElement("path",{d:"M9 11.5V11H8V11.5C8 13.5398 9.52684 15.223 11.5 15.469V17H9.99991V18H13.9999V17H12.5V15.469C14.4732 15.223 16 13.5398 16 11.5V11H15V11.5C15 13.1568 13.6569 14.5 12 14.5C10.3431 14.5 9 13.1568 9 11.5Z"}))}function g(){return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:u},a.createElement("path",{d:"M13.9121 6.92322C13.6609 6.10572 12.8999 5.51144 12 5.51144C10.8954 5.51144 10 6.40687 10 7.51144V10.8353L11 9.83531V7.51144C11 6.95916 11.4477 6.51144 12 6.51144C12.5523 6.51144 13 6.95916 13 7.51144V7.83531L13.9121 6.92322Z"}),a.createElement("path",{d:"M9.01672 11.8186C9.00567 11.7139 9 11.6076 9 11.5V11H8V11.5C8 11.9047 8.06009 12.2953 8.17184 12.6635L9.01672 11.8186Z"}),a.createElement("path",{d:"M10.0723 15.0057L10.8193 14.2587C11.1816 14.414 11.5808 14.5 12 14.5C13.6569 14.5 15 13.1568 15 11.5V11H16V11.5C16 13.5398 14.4732 15.223 12.5 15.469V17H13.9999V18H9.99991V17H11.5V15.469C10.9877 15.4052 10.5055 15.2444 10.0723 15.0057Z"}),a.createElement("path",{d:"M11.6054 13.4725L14 11.078V11.5114C14 12.616 13.1046 13.5114 12 13.5114C11.8649 13.5114 11.733 13.4981 11.6054 13.4725Z"}),a.createElement("path",{d:"M16.9995 5.25L17.7066 5.95711L6.39291 17.2708L5.6858 16.5637L16.9995 5.25Z",fill:"#F24822",className:p}))}function f({withHover:e}){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e?"voice_svg--mutedWithHover--bYL86 voice_svg--muted--WhICG":u},a.createElement("path",{d:"M19 10.2327V10C19 8.34315 17.6569 7 16 7C14.3431 7 13 8.34315 13 10V16C13 16.0755 13.0028 16.1504 13.0083 16.2245L14 15.2327V10C14 8.89543 14.8954 8 16 8C17.1046 8 18 8.89543 18 10V11.2327L19 10.2327Z"}),a.createElement("path",{d:"M11.3618 17.8709C11.1285 17.293 11 16.6615 11 16V15H10V16C10 16.9426 10.2174 17.8344 10.6047 18.6281L11.3618 17.8709Z"}),a.createElement("path",{d:"M13.4547 21.4349L14.2169 20.6727C14.7707 20.8842 15.3718 21 16 21C18.7614 21 21 18.7614 21 16V15H22V16C22 19.1453 19.5798 21.7254 16.5 21.9795V24H18.5V25H13.5V24H15.5V21.9795C14.7739 21.9196 14.0844 21.7304 13.4547 21.4349Z"}),a.createElement("path",{d:"M15.8915 18.9981L19 15.8896V16C19 17.6569 17.6569 19 16 19C15.9637 19 15.9275 18.9994 15.8915 18.9981Z"}),a.createElement("path",{d:"M24.0005 7L25.0611 8.06066L8.09059 25.0312L7.02993 23.9706L24.0005 7Z",fill:"#F24822",className:p}))}function v({withHover:e}){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e?"voice_svg--unmutedWithHover--XYx6- voice_svg--muted--WhICG":m},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 10C13 8.34315 14.3431 7 16 7C17.6569 7 19 8.34315 19 10V16C19 17.6569 17.6569 19 16 19C14.3431 19 13 17.6569 13 16V10ZM18 10V16C18 17.1046 17.1046 18 16 18C14.8954 18 14 17.1046 14 16V10C14 8.89543 14.8954 8 16 8C17.1046 8 18 8.89543 18 10Z"}),a.createElement("path",{d:"M11 16V15H10V16C10 19.1453 12.4202 21.7254 15.5 21.9795V24H13.5V25H18.5V24H16.5V21.9795C19.5798 21.7254 22 19.1453 22 16V15H21V16C21 18.7614 18.7614 21 16 21C13.2386 21 11 18.7614 11 16Z"}))}function E({className:e}){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25 21.807C25 22.4323 24.6121 22.992 24.0267 23.2115L22.0267 23.9615C21.0461 24.3292 20 23.6043 20 22.557V17.443C20 16.3957 21.0461 15.6708 22.0267 16.0385L24 16.7785V16C24 11.5817 20.4183 8 16 8C11.5817 8 8 11.5817 8 16V16.7785L9.97332 16.0385C10.9539 15.6708 12 16.3957 12 17.443V22.557C12 23.6043 10.9539 24.3292 9.97332 23.9615L7.97331 23.2115C7.38786 22.9919 7 22.4323 7 21.807V16C7 11.0294 11.0294 7 16 7C20.9706 7 25 11.0294 25 16V21.807ZM21 17.443C21 17.0939 21.3487 16.8523 21.6756 16.9748L23.6756 17.7248C23.8707 17.798 24 17.9846 24 18.193V21.807C24 22.0154 23.8707 22.202 23.6756 22.2752L21.6756 23.0252C21.3487 23.1477 21 22.9061 21 22.557V17.443ZM8 18.193C8 17.9846 8.12929 17.798 8.32444 17.7248L10.3244 16.9748C10.6513 16.8523 11 17.0939 11 17.443V22.557C11 22.9061 10.6513 23.1477 10.3244 23.0252L8.32444 22.2752C8.12929 22.202 8 22.0154 8 21.807V18.193Z"}),a.createElement("line",{x1:"16",x2:"16",y1:"20",y2:"16",strokeWidth:"2",strokeDashoffset:"0",strokeDasharray:"0, 8",strokeLinecap:"round"}))}function A({className:e}){return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 16.4343C19 16.9924 18.63 17.4829 18.0934 17.6362L16.0934 18.2076C15.2949 18.4358 14.5 17.8362 14.5 17.0057V12.9943C14.5 12.1638 15.2949 11.5643 16.0934 11.7924L18 12.3372V12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12V12.3371L7.9066 11.7924C8.70512 11.5642 9.5 12.1638 9.5 12.9943V17.0057C9.5 17.8362 8.70512 18.4358 7.9066 18.2076L5.9066 17.6362C5.36997 17.4829 5 16.9924 5 16.4343V12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12V16.4343ZM15.5 12.9943C15.5 12.8282 15.659 12.7083 15.8187 12.7539L17.8187 13.3254C17.926 13.356 18 13.4541 18 13.5657V16.4343C18 16.5459 17.926 16.644 17.8187 16.6747L15.8187 17.2461C15.659 17.2917 15.5 17.1718 15.5 17.0057V12.9943ZM6 13.5657C6 13.4541 6.07399 13.356 6.18132 13.3253L8.18132 12.7539C8.34102 12.7083 8.5 12.8282 8.5 12.9943V17.0057C8.5 17.1718 8.34102 17.2917 8.18132 17.2461L6.18132 16.6747C6.07399 16.644 6 16.5459 6 16.4343V13.5657Z"}))}let C={Unmuted:({size:e,withHover:t=!1})=>(0,l.GS)()?a.createElement(o.P,null):24===e?a.createElement(h,null):a.createElement(v,{withHover:t}),Muted:({size:e,withHover:t=!1})=>(0,l.GS)()?a.createElement(r,null):24===e?a.createElement(g,null):a.createElement(f,{withHover:t}),UnmutedBars:({volume:e,className:t,alwaysShowVoiceBars:n})=>{if((e||0)<s.q){if(!0!==n)return null;e=0}let o=[7*(e=Math.pow(e||0,.5))*.4,7*e,7*e*.4].map(e=>.8*e+e*(.4*Math.random()-.2));return a.createElement("svg",{width:"24",viewBox:"-5 -8 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},a.createElement("line",{className:d,x1:"1",y1:0,x2:"7",y2:0,strokeWidth:"5",color:"red",strokeLinecap:"round"}),a.createElement("line",{className:d,x1:"1",y1:-o[0],x2:"1",y2:o[0],strokeWidth:"4",strokeLinecap:"round"}),a.createElement("line",{className:c,x1:"1",y1:-o[0],x2:"1",y2:o[0],stroke:"#1BC47D",strokeWidth:"2",strokeLinecap:"round"}),a.createElement("line",{className:d,x1:"4",y1:-o[1],x2:"4",y2:o[1],strokeWidth:"4",strokeLinecap:"round"}),a.createElement("line",{className:c,x1:"4",y1:-o[1],x2:"4",y2:o[1],stroke:"#1BC47D",strokeWidth:"2",strokeLinecap:"round"}),a.createElement("line",{className:d,x1:"7",y1:-o[2],x2:"7",y2:o[2],strokeWidth:"4",strokeLinecap:"round"}),a.createElement("line",{className:c,x1:"7",y1:-o[2],x2:"7",y2:o[2],stroke:"#1BC47D",strokeWidth:"2",strokeLinecap:"round"}))},HeadphonesIcon:({size:e,className:t})=>(0,l.GS)()?a.createElement(i.D,{className:t}):24===e?a.createElement(A,{className:t}):a.createElement(E,{className:t}),MutedMini:()=>a.createElement("svg",{width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{className:"voice_svg--iconBorder--tkPMY",d:"M4 6V4.5C4 2.567 5.567 1 7.5 1H10C11.1046 1 12 1.89543 12 3V5C12.5523 5 13 5.44772 13 6V8.75736C13 9.55301 12.6839 10.3161 12.1213 10.8787L11 12V14C11 14.5523 10.5523 15 10 15H5C4.44772 15 4 14.5523 4 14V13L1.20711 10.2071C0.816583 9.81658 0.816582 9.18342 1.20711 8.79289L4 6Z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33306 3.25234C8.09478 3.09295 7.8083 3 7.5001 3C6.67168 3 6.0001 3.67157 6.0001 4.5V5.58529L6.40341 5.18198L8.33306 3.25234ZM5.47386 10.3542L6.1952 9.63284C6.57505 9.86573 7.0219 10 7.50011 10C8.88081 10 10.0001 8.88074 10.0001 7.50003V7H11.0001V7.50003C11.0001 9.26326 9.69624 10.722 8.0001 10.9646V12H9.0001V13H7.5001H6.0001V12H7.0001V10.9646C6.437 10.884 5.91714 10.6694 5.47386 10.3542ZM6.93722 8.89081L9.0001 6.82793V7.5C9.0001 8.32843 8.32853 9 7.5001 9C7.30104 9 7.11103 8.96122 6.93722 8.89081Z",fill:"#F24822",className:p}),a.createElement("path",{d:"M10.5009 2.49847L11.2081 3.20558L3.92834 10.4853L3.22123 9.77819L10.5009 2.49847Z",fill:"#F24822",className:p}))}},662570:(e,t,n)=>{n.d(t,{WM:()=>h,C$:()=>m});var a=n(411855),o=n(629019),r=n.n(o),i=n(91408),l=n(554322),s=n(298543),c=n(837746);let d=(0,i.hG)(c.rJv);function m(){let e=(0,l.Av)();return window.innerHeight-e-22}var u=(e=>(e.VOICE="voice",e))(u||{});let p={voice:"base_user_overflow_dropdown--voiceOverrides--j6uyP"};function h(e){let t=e.pointingDropdownStyleVariant&&p[e.pointingDropdownStyleVariant],n=r()("base_user_overflow_dropdown--pointingDropdown--SqJzp",t),o=m();return a.createElement(s.Cf,{className:n,targetRect:e.targetRect,maxHeight:o,maxWidth:d,onKeyDown:e.onKeyDown,lean:"left",disableDropdownScrollContainer:!0,propagateCloseClick:!0},a.createElement("div",{className:"base_user_overflow_dropdown--voiceUsersList--pLiMw"},e.children))}},325655:(e,t,n)=>{n.d(t,{Y:()=>c});var a=n(411855),o=n(939863),r=n(327017),i=n(325538),l=n(498606),s=n(976930);function c({userId:e,onMuteButtonClickCallback:t,disabled:n,className:c,disabledClassName:d}){let m=r.h.getInstance(),[u,p]=(0,a.useState)(null),h=(0,i.TI)(e,m),g=(0,a.useCallback)(async()=>{!n&&void 0!==h&&m&&(await t(h,m),p(h?"unmute":"mute"))},[h,t,p,m,n]);return a.useEffect(()=>{p(null)},[h]),a.createElement("button",{className:n?d:c,onClick:g,"data-tooltip-type":l.Ib.TEXT,"data-tooltip":n?(0,o.t)("collaboration.voice.check_your_microphone_permissions_to_start_chatting"):h?(0,o.t)("collaboration.voice.click_to_unmute"):(0,o.t)("collaboration.voice.click_to_mute"),"data-tooltip-timeout-delay":n?50:void 0,"aria-label":(0,o.t)("fullscreen.toolbar.mute-audio-button"),"data-fullscreen-intercept":!0},n||"unmute"!==u&&("mute"===u||h)?a.createElement(s.A.Muted,{size:32}):a.createElement(s.A.Unmuted,{size:32}))}},368588:(e,t,n)=>{n.d(t,{o:()=>c});var a=n(411855),o=n(188507),r=n(335682),i=n(902938),l=n(571232),s=n(325538);let c=a.memo(function({sessionId:e}){let t=(0,r.tS)();return(0,o.d4)(e=>t&&!!e.voice.activeCall[t])?a.createElement(d,{sessionId:e}):null});function d({sessionId:e}){let t=(0,r.tS)(),{userIdsInCall:n}=(0,l.W5)(t),{voiceUsersInMultiplayer:o}=(0,l.Eo)(n,t),i=a.useMemo(()=>o.find(t=>t.sessionID===e),[o,e]);return i&&t?a.createElement(m,{color:i.color,userId:i.userID}):null}let m=a.memo(function({userId:e,color:t}){let n=(0,i.qr)();return n?a.createElement(h,{userId:e,color:t,voiceCall:n}):null}),u={},p={},h=a.memo(function({userId:e,voiceCall:t,color:n}){return a.useEffect(()=>{let{unsubscribe:n}=(0,s.Em)(e,t,t=>{if(u[e]){p[e].style.visibility=t?.isMuted?"hidden":"visible";let n=.9*Math.pow(t?.volumeLevel||0,1/3)+.1;u[e].style.transform=`scale(${n})`}});return()=>{delete u[e],n()}},[e,t]),a.createElement("div",null,a.createElement("div",{ref:t=>u[e]=t,className:"voice_cursor_pulse--backgroundPulse--M8T9x",style:{backgroundColor:n}}),a.createElement("div",{ref:t=>p[e]=t,className:"voice_cursor_pulse--pulse--Z6cD5",style:{boxShadow:`0 0 0 1px ${n}`}}))})},749283:(e,t,n)=>{n.d(t,{S:()=>s,i:()=>c});var a=n(411855),o=n(325538),r=n(636751),i=n(976930),l=n(847768),s=(e=>(e[e.NONE=0]="NONE",e[e.DEFAULT=2]="DEFAULT",e[e.MINI=1]="MINI",e))(s||{});function c({userId:e,microphoneStyle:t,call:n,volumeIconMutedState:o,alwaysShowVoiceBars:s,className:c}){return t===r.bU.HEADPHONES?a.createElement(i.A.HeadphonesIcon,{size:24,className:l.AL}):t!==r.bU.NONE&&n?a.createElement(d,{userId:e,call:n,className:c,volumeIconMutedState:o||0,alwaysShowVoiceBars:s}):a.createElement(a.Fragment,null)}function d({userId:e,call:t,volumeIconMutedState:n,alwaysShowVoiceBars:r,className:s}){let c=(0,o.Wl)(e,t);if(!c)return null;if(c.isMuted){if(2===n)return a.createElement(i.A.Muted,{size:32});if(1===n){let e=l.Nn;return s&&(e+=" "+s),a.createElement("span",{className:e},a.createElement(i.A.MutedMini,null))}return null}return a.createElement(i.A.UnmutedBars,{alwaysShowVoiceBars:r,className:s,volume:c?.volumeLevel})}},842439:(e,t,n)=>{n.d(t,{K:()=>u});var a=n(411855),o=n(188507),r=n(504440),i=n(939863),l=n(891093),s=n(226055),c=n(988022),d=n(335682),m=n(327017);function u(e){let t=(0,o.wA)(),n=(0,o.Pj)(),u=(0,o.d4)(e=>e.voice.showWidget),p=(0,d.q5)(),h=(0,o.d4)(t=>!!t.voice.activeCall[e.fileKey]),g=!!p&&!!h,f=(0,s.GS)(),v={onClick:async()=>{u&&g?u&&t(l.jT()):((0,c.ds)("Context Viewed",e.fileKey,n.getState(),{name:"should-close-open-audio-nux"}),await m.h.createInstance(),g&&(0,c.ds)("voice_widget_minimized_toggle",e.fileKey,n.getState(),{minimized:!1}),t(l.Pp(!0)))},"data-tooltip-show-below":!0,"data-dropdown-tooltip":e["data-tooltip"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],"aria-label":(0,i.t)("collaboration.voice.start_conversation"),"data-fullscreen-intercept":!0};if(f&&e.isJoinWidget){let{onClick:t,"aria-label":n,...o}=v;return a.createElement("div",{"data-onboarding-key":e["data-onboarding-key"]},a.createElement(r.$n,{onClick:t,"aria-label":n,variant:"signup",htmlAttributes:{...o}},e.children))}return a.createElement("button",{...v,className:e.className},e.children)}},637820:(e,t,n)=>{n.d(t,{L:()=>D,k:()=>T});var a=n(411855),o=n(188507),r=n(563706),i=n(939863),l=n(662275),s=n(891093),c=n(988022),d=n(396226),m=n(335682),u=n(860178),p=n(99506),h=n(866564),g=n(571232),f=n(338400),v=n(300874),E=n(239671),A=n(851363),C=n(498606),w=n(449731),y=n(325655),b=n(976930),_=n(842439),I=n(588930),x=(e=>(e[e.NO_CALL_STATE=0]="NO_CALL_STATE",e[e.JOIN_CALL_STATE=1]="JOIN_CALL_STATE",e[e.IN_CALL_WIDGET_OPEN=2]="IN_CALL_WIDGET_OPEN",e[e.IN_CALL_WIDGET_CLOSED=3]="IN_CALL_WIDGET_CLOSED",e))(x||{});let k=()=>new Promise(e=>window.requestAnimationFrame(()=>e())),M=async e=>{let t=e.current;if(!t)return;t.classList.add(I.LT);let n=t.getBoundingClientRect().width;t.style.width=n+"px",await k(),t.style.width="auto";let a=t.getBoundingClientRect().width;t.style.width=n+"px",await k(),t.style.width=a+"px",await new Promise(e=>setTimeout(e,300)),t.style.width="auto",t.classList.remove(I.LT)},S=null;function T(e){let{userIdsInCall:t}=(0,g.W5)(e.fileKey,!0),n=(0,g.bF)(t,e.fileKey),l=(0,o.Pj)(),d=(0,o.wA)(),m=(0,u.iZ)(),p=(0,o.d4)(e=>e.voice.showWidget),f=(0,o.d4)(t=>e.fileKey in t.voice.activeCall),v=(0,o.d4)(t=>!!t.voice.activeCall[e.fileKey]),E=a.useRef(null),A=n.length;a.useEffect(()=>{!f&&A>0?d(s.Zq({fileKey:e.fileKey})):f&&!v&&0===A&&d(s.a6({fileKey:e.fileKey}))},[A,e.fileKey,f,v,d]);let w=async(t,n)=>{(0,c.ds)("voice_user_mute_toggle",e.fileKey,l.getState(),{source:"voice_toolbar",muted:!t}),t?await n?.unmute():await n?.mute()};if(a.useEffect(()=>{r.XN||n.find(e=>e.userID===m?.id)||(0,h.w$)(A)},[A,m?.id,n]),r.XN||0===A)return null;let x=0===n.length?0:!v&&n.some(e=>e.userID===m?.id)?2:v?p?2:3:1;(3===S&&2===x||2===S&&3===x)&&M(E),S=x;let k=0===x?I.LC:1===x?I.BF:I.k$;return a.createElement("div",{className:I.iE},a.createElement("span",{ref:E,className:[I.KE,k].join(" "),"data-toolbar":!0},a.createElement(_.K,{fileKey:e.fileKey,className:1===x?I.Cm:I.Uf,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(()=>{if(!v&&f)return(0,i.t)("collaboration.voice.join_conversation")})()},a.createElement("span",{className:1===x||0===x||3===x?I.iG:I.kk},a.createElement("span",{"data-onboarding-key":"audio-nux-key",className:3===x?I.g_:I.zc},a.createElement(b.A.HeadphonesIcon,{className:1===x?I.QH:I.H2,size:0===x?32:24}),3===x&&a.createElement("div",{className:I.dv},A)),a.createElement("span",{className:I.yu},(0,i.tx)("collaboration.voice.join")),2===x&&a.createElement("div",{className:I.rf},A))),a.createElement("div",{className:I.W7}),3===x&&m&&a.createElement(y.Y,{userId:m.id,onMuteButtonClickCallback:w,className:I._s})))}function D(){let e=(0,o.Pj)(),t=(0,m.q5)(),n=(0,o.d4)(e=>e.orgById),s=(0,o.d4)(e=>e.teams),u=(0,o.d4)(e=>e.selectedView?.editorType),g=(0,o.d4)(e=>"prototype"===e.selectedView.view),y=(0,o.wA)();if(r.XN||!t||g)return null;let x=(0,f.YL)({openFile:t,teams:s,orgById:n});if(x===f.gW.FEATURE_DISABLED)return null;if(x===f.gW.ELIGIBLE_WITH_UPGRADE)return a.createElement(a.Fragment,null,a.createElement("span",{className:I.WF,"data-onboarding-key":h._2,onClick:()=>{let n=t.teamId&&s[t.teamId];if(!n)return;(0,c.ds)("CTA Clicked",t.key,e.getState(),{name:"Disabled Voice Call Button"});let a=u===E.nT.Whiteboard?p._Y.WHITEBOARD:p._Y.DESIGN;y(l.to({type:w.DV,data:{team:n,resource:v.Bi.AUDIO,action:A.pE.USE_AUDIO,editorType:a,currentPlan:d.F.Plan.STARTER,upsellPlan:d.F.Plan.PRO}}))}},a.createElement(b.A.HeadphonesIcon,{className:I.tL,size:32})));if(x!==f.gW.ELIGIBLE){let e=x===f.gW.DISABLED_BY_ORG?(0,i.t)("collaboration.voice.audio_has_been_disabled_by_your_organization"):(0,i.t)("collaboration.voice.to_use_audio_in_this_file_move_it_to_a_team_on_one_of_our_paid_plans");return a.createElement("span",{className:I.WF,"data-tooltip-type":C.Ib.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip":e},a.createElement(b.A.HeadphonesIcon,{className:I.sl,size:32}))}return a.createElement("div",{className:I.Te},a.createElement(_.K,{fileKey:t.key,className:I.iw,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,i.t)("collaboration.voice.start_conversation")},a.createElement("span",{className:I.iG},a.createElement("span",{"data-onboarding-key":"audio-nux-key",className:I.zc},a.createElement(b.A.HeadphonesIcon,{className:I.tL,size:32})))))}},313894:(e,t,n)=>{n.d(t,{L:()=>o,w:()=>a});class a{constructor(){this.type="Entity",this.id=Math.random().toString(),this.position={x:0,y:0},this.rotation=0,this.scale=1,this.age=0,this.lifetime=1,this.sortOrder=0,this.customData={}}update(e){return this.age+=e,this.age<=this.lifetime}}class o{constructor(){this._entities=[],this._entitiesToAdd=[],this.lastUpdateTime=0,this.addEntity=e=>{this._entitiesToAdd.push(e)}}getDeltaTime(){let e=performance.now(),t=e-this.lastUpdateTime;return this.lastUpdateTime=e,t/1e3}update(e){let t="number"==typeof e?e:this.getDeltaTime();this._entities=this._entities.filter(e=>e.update(t)),this._entitiesToAdd.length&&(this._entities=this._entities.concat(this._entitiesToAdd).sort((e,t)=>e.sortOrder-t.sortOrder),this._entitiesToAdd=[])}getEntities(){return this._entities}}},50663:(e,t,n)=>{n.d(t,{W:()=>d});var a=n(411855),o=n(629019),r=n.n(o),i=n(126049),l=n(966712),s=n(798099);function c(e){return a.createElement("div",{"aria-selected":e.selected,"aria-label":e.label,id:e.id,key:e.id,onPointerOver:e.onHover,onPointerOut:e.onHoverOut,onMouseDown:s.dG,onMouseUp:e.onClick,role:e.role},e.displayText)}function d({children:e,label:t,onSelect:n,initiallyNotSelected:o,renderer:s,autofocus:d,customClassName:m}){let u=(0,a.useRef)(null),[p,h,g,f,v]=function({children:e,onSelect:t,initiallyNotSelected:n}){let o=(0,a.useMemo)(()=>e.map(e=>({type:"value",value:e})),[e]),[r,i]=(0,a.useState)(n?-1:0),[l,s]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=l.map(e=>o[e]?.value).filter(e=>void 0!==e);t?.(e)},[o,l,t]),[o,r,i,l,s]}({children:e,onSelect:n,initiallyNotSelected:o}),E=(0,a.useMemo)(()=>{let e="function"==typeof s&&s||s.label,t="function"==typeof s&&s||s.id||s.label;return{label:e,id:t,searchTerm:"function"==typeof s&&s||s.searchTerm||s.label,renderDisplay:"function"==typeof s&&s||s.renderDisplay||s.label,renderAccessibleItem:("function"==typeof s?void 0:s.renderAccessibleItem)||c}},[s]),{onKeyDown:A,role:C,tabIndex:w,activeDescendant:y}=function({cursor:e,model:t,render:n,setCursor:o,setSelection:r}){let[l,s]=(0,a.useState)(""),c=(0,i.A)(()=>{s("")},200),d=(0,a.useCallback)(a=>{switch(a.key){case"ArrowUp":{let n=e;do n=Math.max(0,n-1);while(n>0&&"separator"===t[n].type)o(n),a.stopPropagation(),a.preventDefault();break}case"ArrowDown":{let n=e;do n=Math.min(t.length-1,n+1);while(n>0&&"separator"===t[n].type)o(n),a.stopPropagation(),a.preventDefault();break}case"Home":o(0),a.stopPropagation(),a.preventDefault();break;case"End":o(t.length-1),a.stopPropagation(),a.preventDefault();break;case" ":case"Enter":r([e]),a.stopPropagation(),a.preventDefault();break;default:if(RegExp("^\\p{Alpha}$","u").test(a.key)){let e=l+a.key,r=RegExp(`^${e}`,"iu"),i=t.findIndex(e=>"value"===e.type&&r.test(n.searchTerm(e.value)));i>=0&&o(i),s(e),c(),a.stopPropagation(),a.preventDefault()}}},[e,t,l,n,c,o,r]),m=t[e];return{onKeyDown:d,role:"listbox",tabIndex:0,activeDescendant:m?.type==="value"?n.id(m.value):void 0}}({cursor:h,model:p,render:E,setCursor:g,setSelection:v});return(0,a.useEffect)(()=>{d&&u.current?.focus()},[d]),a.createElement("div",{role:C,onKeyDown:A,className:r()("listbox--listbox--7TMgv",m),tabIndex:w,"aria-label":t,"aria-activedescendant":y,ref:u},...p.map((e,t)=>{switch(e.type){case"separator":return a.createElement("hr",{key:t});case"value":let n=h===t,o=f.includes(t),r=E.id(e.value),i=E.label(e.value),s=E.renderDisplay(e.value,{hasCursor:n,selected:o});return E.renderAccessibleItem({selected:o,hasCursor:n,onHover:e=>{g(t),e.stopPropagation(),e.preventDefault()},onHoverOut:e=>{(0,l.kc)().file_view_history&&e.relatedTarget&&(h===t&&g(-1),e.stopPropagation(),e.preventDefault())},onClick:e=>{g(t),v([t]),e.stopPropagation(),e.preventDefault()},id:r,label:i,displayText:s,role:"option"})}}))}},123975:(e,t,n)=>{n.d(t,{c:()=>a});let a=(0,n(38580).eU)({stage:"FULL",thresholdWidth:774,numPrimaryTools:4})},297483:(e,t,n)=>{n.d(t,{HD:()=>D,NT:()=>B,ws:()=>N});var a=n(411855),o=n(188507),r=n(636149),i=n.n(r),l=n(89865),s=n.n(l),c=n(35645),d=n.n(c),m=n(758271),u=n.n(m),p=n(966712),h=n(782112),g=n(756085),f=n(777078),v=n(128765),E=n(669178),A=n(560286),C=n(540019),w=n(215822),y=n(285334),b=n(331626),_=n(106112),I=n(809073),x=n(491815),k=n(465448),M=n(720289),S=n(288813);let T=C.M4.Query({fetch:async e=>(await S.d.getDefaultCollageItems({orgId:e})).data.meta});var D=(e=>(e[e.LIBRARY_ITEM=0]="LIBRARY_ITEM",e[e.WIDGET=1]="WIDGET",e[e.PLUGIN=2]="PLUGIN",e[e.TEMPLATE=3]="TEMPLATE",e[e.FACE_STAMP=4]="FACE_STAMP",e[e.WHITEBOARD_TOOL=5]="WHITEBOARD_TOOL",e))(D||{});let P=new Set([y.Ph,y.T0]);function B(){let e=function(){let{productComponents:e}=(0,E.g5)(I.$A.FigJam),t=(0,g.op)(),n=(0,f.eE)(I.$A.FigJam),r=(0,g.qr)(),l=(0,k.qK)(),c=function(){let e=(0,o.d4)(e=>e.recentlyUsed.whiteboardTools),t=(0,M.o)();return a.useMemo(()=>t?e.figjam.map(e=>e.id):[],[t,e])}(),m=(0,o.d4)(A.s),u=(0,o.d4)(e=>e.recentlyUsed);return(0,a.useMemo)(()=>(function(e,t,n,a,o,r,l,c){let m=t.templates.figjam.reduce((e,t)=>(e[(0,b.X2)(t)]=t,e),{}),u={...s()(t.libraryItems.figjam,"key"),...s()(t.plugins.figjam,"id"),...m,...s()(t.widgets.figjam,"id"),...s()(t.faceStamps.figjam,"user.id"),...s()(t.whiteboardTools?.figjam,"id")},p=[...n.map(t=>({type:0,item:t,id:t.id,lastAddedAt:u["component"===t.type?t.component_key:t.key]?.last_added_at_by_user_id?.[e]})),...a.map(t=>({type:2,item:t,id:t.plugin_id,lastAddedAt:u[t.plugin_id]?.last_added_at_by_user_id?.[e]})),...o.map(t=>{let n=(0,v.gp)(t);return{type:3,item:t,id:t.template.id,lastAddedAt:u[n]?.last_added_at_by_user_id?.[e]}}),...r.map(t=>({type:1,item:t,id:t.plugin_id,lastAddedAt:u[t.plugin_id]?.last_added_at_by_user_id?.[e]})),...l.map(t=>({type:4,item:t,id:t.id,lastAddedAt:u[t.id]?.last_added_at_by_user_id?.[e]})),...c.map(t=>({type:5,item:t,id:t,lastAddedAt:u[t]?.last_added_at_by_user_id?.[e]}))],[h,g]=d()(p,e=>!!e.lastAddedAt);return[...h.sort((e,t)=>(t.lastAddedAt||0)-(e.lastAddedAt||0)),...function(e){let t={1:0,0:1,3:2,2:3,4:4,5:5};return function(e){let t=[],n=Math.max(...e.map(e=>e.length));for(let a=0;a<n;a++)e.forEach(e=>{a<e.length&&t.push(e[a])});return t}(Object.entries(i()(e,"type")).sort(([e],[n])=>(t[e]??100)-(t[n]??100)).map(([,e])=>e))}(g)].slice(0,4)})(m,u,e,t,n,r,l,c),[m,u,e,t,n,r,l,c])}(),t=function(){let e=(0,h.q8)(),t=(0,o.d4)(e=>e.currentUserOrgId),[n]=(0,C.IT)(T(t));return(0,a.useMemo)(()=>"loaded"!==n.status?[]:function(e){let t=[];return e.plugins.forEach(e=>{let n=(0,w.uF)(e);t.push({type:2,item:n,id:n.plugin_id})}),e.widgets.forEach(e=>{let n=(0,w.uF)(e);t.push({type:1,item:n,id:n.plugin_id})}),e.components.forEach(e=>{t.push({type:0,item:e,id:e.id})}),e.templates.forEach(e=>{t.push({type:3,item:{type:_.n.HubFile,template:e},id:e.id})}),t}(n.data),[n]).filter(t=>!!(0,p.kc)().jamgpt_recents_pin&&!e||t.id&&!P.has(t.id))}(),n=function(e){let t=(0,h.q8)();if(!(0,p.kc)().jamgpt_recents_pin||t)return null;for(let t of e)if(t.id&&P.has(t.id))return t;return null}(t),r=(0,h.q8)();return(0,a.useMemo)(()=>{let a=[];n?(a.push(n),e.forEach(e=>{e.id!==n.id&&a.push(e)})):a=e,r&&(a=a.filter(e=>!(r&&P.has(e.id||""))));let o=[...a,...t].filter(e=>e.id);return u()(o,"id").slice(0,4)},[t,n,e,r])}function N(e){return(0,x.mk)(e,[])}},931397:(e,t,n)=>{n.d(t,{E:()=>z,h:()=>Q});var a=n(411855),o=n(188507),r=n(629019),i=n.n(r),l=n(511617),s=n(91408),c=n(674694),d=n(986270),m=n(128765),u=n(27703),p=n(512591),h=n(964156),g=n(596256),f=n(662153),v=n(867272),E=n(831236),A=n(99506),C=n(288300),w=n(809073),y=n(498606),b=n(990989),_=n(399932),I=n(488094),x=n(867795),k=n(379928),M=n(416333),S=n(808631),T=n(503733),D=n(927625),P=n(297483),B=n(335163),N=n(837746);let R="dlt_universal_insert_item--recentItem--Jci7m",F="dlt_universal_insert_item--recentItemImage--vvIrT",U=(0,s.jz)(N.MNc);function O(e){return`data:image/svg+xml;utf8,${encodeURIComponent(e)}`}let L=O(`<svg width="68" height="41" viewBox="0 0 68 41" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.858643" y="0.297363" width="66.9565" height="40" fill="#F5F5F5"/>
<path d="M6.24878 6.57568L61.5614 35.8461" stroke="#E6E6E6" stroke-width="2"/>
</svg>`),H=O(`<svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.795898" y="0.795898" width="46" height="46" rx="4" fill="#F5F5F5"/>
<path d="M6.05078 6.43506L42.0168 41.4843" stroke="#E6E6E6" stroke-width="2"/>
</svg>`);function V(e,t){let[n,o]=(0,a.useState)(0),[r,i]=(0,a.useState)(0);return(0,a.useEffect)(()=>{if(e){let t=new Image;t.addEventListener("load",function(){o(t.naturalWidth),i(t.naturalHeight)}),t.src=e}},[e]),!e||n*r>25e5?t:e}function Q(e,t,n){let{item:a,type:o}=e;if(!a)return null;switch(o){case P.HD.LIBRARY_ITEM:return(n&&a.thumbnail_url?(0,l.NQ)(a.thumbnail_url,"fuid",n):a.thumbnail_url)||null;case P.HD.WIDGET:return a.redirect_snapshot_url||T.J;case P.HD.PLUGIN:return a.redirect_icon_url||S.W;case P.HD.TEMPLATE:return t(a).imageUrl||null;case P.HD.FACE_STAMP:return a.img_url||null;case P.HD.WHITEBOARD_TOOL:return(0,E.AE)(a)}}function z({item:e,width:t,height:n,disableTooltips:o}){let r=(0,m.fG)(),i=(0,a.useCallback)(e=>Q(e,r),[r]);if(!e.item)return null;switch(e.type){case P.HD.LIBRARY_ITEM:return a.createElement(I.lX,{item:e.item,width:t||U,height:n||U,showName:!1,shouldHideDescription:!0,isFigJam:!0,noBackground:!0,isDragged:o,draggable:{sourceForTracking:"universal-insert-figjam-collage"},tooltipShownAbove:!0});case P.HD.WIDGET:return a.createElement(Y,{widget:e.item,disableTooltips:o,imgSrc:i(e)});case P.HD.PLUGIN:return a.createElement(G,{plugin:e.item,disableTooltips:o,imgSrc:i(e)});case P.HD.TEMPLATE:return a.createElement(W,{template:e.item,disableTooltips:o,width:t||U,imgSrc:i(e)});case P.HD.FACE_STAMP:return a.createElement(k.I,{mini:!0,hideName:!0,user:e.item,triggeredFrom:(0,C.Vq)(x.p.RECENTS_COLLAGE)});case P.HD.WHITEBOARD_TOOL:return a.createElement(j,{tool:e.item,onInsertableResourcePointerDown:(0,M.qX)(e.item),disableTooltips:o});default:return null}}function Y({widget:e,disableTooltips:t,imgSrc:n}){let o=V(n,e.redirect_icon_url||H);return a.createElement("div",{className:R,"data-tooltip-type":t?void 0:y.Ib.TEXT,"data-tooltip":t?void 0:e.name,"data-tooltip-timeout-delay":t?void 0:500,"data-tooltip-show-above":!t||void 0},a.createElement(_._,{src:o,widget:e,analytics:{triggeredFrom:"universal-insert-figjam-collage"},fillContainer:!0,clickToInsert:!1,context:A._Y.WHITEBOARD}))}function G({plugin:e,disableTooltips:t,imgSrc:n}){let{dragState:o,onInsertableResourcePointerDown:r}=(0,f.c)({clickToInsert:!1,triggeredFrom:(0,C.Vq)(x.p.RECENTS_COLLAGE),resource:e}),i=V(n,H);return a.createElement(a.Fragment,null,a.createElement("div",{className:R,"data-tooltip-type":t?void 0:y.Ib.TEXT,"data-tooltip":t?void 0:e.name,"data-tooltip-timeout-delay":t?void 0:500,"data-tooltip-show-above":!t||void 0,onPointerDown:r,role:"button",tabIndex:0},a.createElement("div",{className:"dlt_universal_insert_item--recentPluginImageContainer--j2z08"},a.createElement("img",{src:i,alt:e.name,className:F,draggable:!1}))),a.createElement(p.z,{dragState:o}))}function W({template:e,disableTooltips:t,width:n,imgSrc:o}){let r;let{dragState:l,onInsertableResourcePointerDown:s}=(0,v.B)({resource:e,clickToInsert:!1,triggeredFrom:"universal-insert-figjam-collage"}),{name:d,clientMeta:p,thumbnailIsSet:g,hubFileId:f,resizedThumbnailUrls:E}=(0,m.fG)()(e);if(E){let e=Object.keys(E).map(e=>Number(e)).sort()[0];e&&(r=E[e])}let A=V(r||o,L);return a.createElement(a.Fragment,null,a.createElement("div",{className:i()(R,{[B.J]:!!l}),"data-tooltip-type":t?void 0:y.Ib.TEXT,"data-tooltip":t?void 0:d,"data-tooltip-timeout-delay":t?void 0:500,"data-tooltip-show-above":!t||void 0,onPointerDown:s,role:"button",tabIndex:0,style:{width:n,height:.6*n}},a.createElement(b.WM,{backgroundColor:(0,u.Cn)(p),removeBorder:!0,className:i()("dlt_universal_insert_item--recentTemplateCommunityCard--0w4xu",{"dlt_universal_insert_item--recentTemplateCommunityCardInnerImage--nDAlH":!g})},a.createElement(D.Ho,{image:A,isSet:!!g,isWhiteboard:!0,hubFileId:f,alt:d,draggable:!1,resizedThumbnailUrls:E,thumbnailContext:c.O7.UNIVERSAL_INSERT}))),a.createElement(h.S,{dragState:l}))}function j({tool:e,onInsertableResourcePointerDown:t,disableTooltips:n}){let r=(0,o.wA)(),i=(0,o.d4)(e=>e.user?.id),l=a.useCallback(()=>{r(d.ay({currentUserId:i,storeInRecentsKey:w.$A.FigJam,item:{id:e,type:w.vt.WhiteboardTool}}))},[i,r,e]),{dragState:s,onInsertableResourcePointerDown:c}=(0,E.fo)({resource:e,insertAction:t,clickToInsert:!1,triggeredFrom:(0,C.Vq)(x.p.RECENTS_COLLAGE),afterSuccessfulInsert:l}),m=(0,E.AE)(e);return a.createElement(a.Fragment,null,a.createElement("div",{className:R,"data-tooltip-type":n?void 0:y.Ib.TEXT,"data-tooltip":n?void 0:(0,E.mG)(e),"data-tooltip-timeout-delay":n?void 0:500,"data-tooltip-show-above":!n||void 0,onPointerDown:c,role:"button",tabIndex:0},a.createElement("div",{className:"dlt_universal_insert_item--recentTool--fZfmo"},a.createElement("img",{src:m,alt:(0,E.mG)(e),className:F,draggable:!1}))),a.createElement(g.I,{dragState:s}))}},240416:(e,t,n)=>{n.d(t,{e:()=>m});var a=n(91408),o=n(395701),r=n(457630),i=n(681816),l=n(631169),s=n(837746);let c=l.V3*l.w,d=(0,a.jz)(s.rY4)+16;function m(e,t,n){let a=e.guid,o=e.absoluteBoundingBox,l=t.getViewportInfo();return Math.max(o.w,o.h)*l.zoomScale<=170?(0,r.QZ)({nodeId:a,minSizePx:170,alwaysPan:!1}):(0,r.QZ)({...i.B5,nodeId:a,nodeAbsoluteBounds:"vote"===n?p(o,l):u(o),viewportRect:h(l,d)})}let u=e=>o.r.fromOriginAndSize(e.x,e.y,e.w,e.h),p=(e,t)=>{let n=c/t.zoomScale,a=l.HG/t.zoomScale;return o.r.fromOriginAndSize(e.x,e.y-n,e.w+a,e.h+n)},h=(e,t)=>({origin:{x:0,y:0},size:{x:e.width-t,y:e.height}})},266023:(e,t,n)=>{n.d(t,{m:()=>s,v:()=>l});var a=n(411855),o=n(939863),r=n(161325),i=n(928491);function l({userId:e,user:t,loading:n,size:o,defaultClassName:r,loadingClassName:l}){return t?a.createElement(i.Ro,{size:o,entity:t,className:r}):n?a.createElement("div",{className:l,style:{width:o,height:o}}):a.createElement(i.Ro,{size:o,entity:{id:e},className:r})}function s({userId:e,user:t,loading:n,defaultClassName:i,loadingClassName:l}){return t?a.createElement("span",{className:i},t.handle):n?a.createElement("span",{className:l}):(0,r.Fl)(e)?a.createElement("span",{className:i},(0,o.tx)("voting.voter_username.visitor")):a.createElement("span",{className:i},(0,o.tx)("voting.voter_username.unavailable"))}},798305:e=>{e.exports='class PropertyNotFoundError extends Error {\n  constructor(message, propertyName) {\n    super(message);\n    this.message = message;\n    this.propertyName = propertyName;\n    this.errorObject = { type: "PROPERTY_NOT_FOUND", propertyName };\n  }\n  errorObject;\n}\nclass ChildLayerNotFoundError extends Error {\n  constructor(message, layerName) {\n    super(message);\n    this.message = message;\n    this.layerName = layerName;\n    this.errorObject = { type: "CHILD_LAYER_NOT_FOUND", layerName };\n  }\n  errorObject;\n}\nclass TemplateExecutionError extends Error {\n  constructor(message) {\n    super(message);\n    this.message = message;\n    this.errorObject = { type: "TEMPLATE_EXECUTION_ERROR" };\n  }\n  errorObject;\n}\nconst __FIGMA_CODE_CONNECT_REQUIRE = (name) => {\n  const __FIGMA_CODE_CONNECT_INLINE_INSTANCES_ENABLED = false;\n  const __FIGMA_CODE_CONNECT_SCENE_GRAPH = null;\n  const __FIGMA_CODE_CONNECT_INSTANCE_TEMPLATES = {};\n  const inlineInstancesEnabled = __FIGMA_CODE_CONNECT_INLINE_INSTANCES_ENABLED;\n  const sceneGraph = __FIGMA_CODE_CONNECT_SCENE_GRAPH;\n  const instanceTemplates = __FIGMA_CODE_CONNECT_INSTANCE_TEMPLATES;\n  const currentLayer = createInstanceHandle(sceneGraph);\n  function bfsFindNode(node, callback) {\n    const queue = [node];\n    while (queue.length > 0) {\n      const node2 = queue.pop();\n      if (node2) {\n        if (callback(node2)) {\n          return node2;\n        }\n        if (node2.type === "INSTANCE") {\n          for (const child of node2.children) {\n            queue.push(child);\n          }\n        }\n      }\n    }\n    return null;\n  }\n  function createNodeHandle(layer) {\n    switch (layer.type) {\n      case "TEXT":\n        return createTextHandle(layer);\n      case "INSTANCE":\n        return createInstanceHandle(layer);\n      default:\n        return createErrorHandle(\n          new Error("Internal error: Unknown layer type: " + layer.type)\n        );\n    }\n  }\n  function createTextHandle(node) {\n    return Object.freeze({\n      get name() {\n        return node.name;\n      },\n      get type() {\n        return node.type;\n      },\n      get textContent() {\n        return node.textContent;\n      },\n      __render__() {\n        return node.textContent;\n      }\n    });\n  }\n  function getRenderedTemplateMetadata(node) {\n    const { guid } = node;\n    if (!instanceTemplates[guid]) {\n      return createErrorHandle(\n        new TemplateExecutionError("Instance does not have a template associated with it")\n      );\n    }\n    const result = instanceTemplates[guid](node, instanceTemplates);\n    if (result.result === "ERROR") {\n      return createErrorHandle(new TemplateExecutionError("Nested template could not be executed"));\n    }\n    if (!("metadata" in result.data)) {\n      return createErrorHandle(new TemplateExecutionError("Instance does not expose any props"));\n    }\n    return result.data.metadata;\n  }\n  function isErrorHandle(obj) {\n    return obj.type === "ERROR";\n  }\n  function createInstanceHandle(node) {\n    const handle = Object.freeze({\n      get name() {\n        return node.name;\n      },\n      get children() {\n        return node.children.map(createNodeHandle);\n      },\n      get type() {\n        return node.type;\n      },\n      get symbolId() {\n        return node.symbolId;\n      },\n      __findChildWithCriteria__({ type, name: name2 }) {\n        const child = node.children.find((child2) => child2.type === type && child2.name === name2);\n        if (!child) {\n          return createErrorHandle(\n            new ChildLayerNotFoundError(`Child layer not found: ${name2}`, name2)\n          );\n        }\n        return createNodeHandle(child);\n      },\n      __find__(name2) {\n        const child = bfsFindNode(node, (node2) => node2.name === name2 && node2.type === "INSTANCE");\n        if (!child) {\n          return createErrorHandle(\n            new ChildLayerNotFoundError(\n              `Child layer named \'${name2}\' not found in selected component/variant`,\n              name2\n            )\n          );\n        }\n        return createNodeHandle(child);\n      },\n      __getPropertyValue__(name2) {\n        if (!node.properties[name2]) {\n          return createErrorHandle(new PropertyNotFoundError(`Property not found: ${name2}`, name2));\n        }\n        return node.properties[name2].value;\n      },\n      __renderWithFn__(renderFn) {\n        const metadata = getRenderedTemplateMetadata(node);\n        if (isErrorHandle(metadata)) {\n          return metadata.__render__();\n        }\n        if (!metadata) {\n          return metadata;\n        }\n        const res = renderFn(metadata.__props);\n        if (!res.sections) {\n          return createErrorHandle(new TemplateExecutionError("Failed to render nested template"));\n        }\n        return res.sections;\n      },\n      __getProps__() {\n        const metadata = getRenderedTemplateMetadata(node);\n        if (isErrorHandle(metadata)) {\n          return metadata.__render__();\n        }\n        if (!metadata) {\n          return metadata;\n        }\n        return metadata.__props;\n      },\n      __render__() {\n        const { guid, symbolId } = node;\n        if (!inlineInstancesEnabled || !instanceTemplates[guid]) {\n          return [\n            {\n              type: "INSTANCE",\n              guid,\n              symbolId\n            }\n          ];\n        }\n        const result = instanceTemplates[guid](node, instanceTemplates);\n        if (result.result === "ERROR") {\n          return [\n            {\n              type: "INSTANCE",\n              guid,\n              symbolId\n            }\n          ];\n        }\n        if (result.data.type === "VALUE") {\n          return result.data.value;\n        }\n        return result.data.sections;\n      }\n    });\n    return {\n      ...handle,\n      __properties__: propertiesAPI(handle)\n    };\n  }\n  function createErrorHandle(error) {\n    return Object.freeze({\n      type: "ERROR",\n      __render__() {\n        return [\n          {\n            type: "ERROR",\n            message: error.message,\n            errorObject: error instanceof ChildLayerNotFoundError || error instanceof PropertyNotFoundError ? error.errorObject : void 0\n          }\n        ];\n      }\n    });\n  }\n  if (name !== "figma") {\n    throw new Error(\n      \'`require` called with a module other than "figma". You cannot use other modules in templates.\'\n    );\n  }\n  function normalizeFigmaPropValue(value) {\n    if (typeof value === "boolean") {\n      return value.toString();\n    }\n    const lowercase = value.toLowerCase();\n    if (lowercase === "true" || lowercase === "yes" || lowercase === "on") {\n      return "true";\n    } else if (lowercase === "false" || lowercase === "no" || lowercase === "off") {\n      return "false";\n    }\n    return value;\n  }\n  function templateString(language) {\n    return function(strings, ...values) {\n      const sections = [];\n      for (let i = 0; i < strings.length; i++) {\n        let addString2 = function(value) {\n          const stringToAdd = value.toString();\n          const lastSection = sections[sections.length - 1];\n          if (!lastSection || lastSection.type !== "CODE") {\n            sections.push({ type: "CODE", code: stringToAdd });\n          } else {\n            lastSection.code += stringToAdd;\n          }\n        }, addSections2 = function(sectionsToAdd) {\n          for (const section of sectionsToAdd) {\n            if (section.type === "CODE") {\n              addString2(section.code);\n            } else {\n              sections.push(section);\n            }\n          }\n        };\n        var addString = addString2, addSections = addSections2;\n        const string = strings[i];\n        const isLastString = i === strings.length - 1;\n        if (string) {\n          addString2(string);\n        }\n        if (!isLastString) {\n          const item = values[i];\n          if (typeof item === "string" || typeof item === "boolean" || typeof item === "number") {\n            addString2(item);\n          } else if (itemIsTemplateStringResult(item)) {\n            addSections2(item.sections);\n          } else if (item) {\n            addSections2(item);\n          }\n        }\n      }\n      return { sections, language, type: "SECTIONS" };\n    };\n  }\n  function renderValue(raw, preview) {\n    return {\n      type: "VALUE",\n      value: raw,\n      preview: preview ?? raw\n    };\n  }\n  function itemIsTemplateStringResult(item) {\n    return !Array.isArray(item) && item?.sections;\n  }\n  function propertiesAPI(node) {\n    return Object.freeze({\n      string: function(propertyName) {\n        const value = node.__getPropertyValue__(propertyName);\n        if (typeof value === "object" && value.type === "ERROR") {\n          return value.__render__();\n        }\n        return value;\n      },\n      boolean: function(propertyName, options) {\n        const value = node.__getPropertyValue__(propertyName);\n        if (typeof value === "object" && value.type === "ERROR") {\n          return value.__render__();\n        }\n        const valueAsString = normalizeFigmaPropValue(value);\n        if (!value && !(options && Object.keys(options).includes(valueAsString))) {\n          return void 0;\n        }\n        if (options) {\n          return Object.keys(options).includes(valueAsString) ? options[valueAsString] : void 0;\n        } else {\n          return valueAsString === "true";\n        }\n      },\n      enum: function(propertyName, options) {\n        const value = node.__getPropertyValue__(propertyName);\n        if (!value) {\n          return void 0;\n        }\n        if (typeof value === "object" && value.type === "ERROR") {\n          return value.__render__();\n        }\n        let key = value;\n        if (typeof key === "boolean") {\n          key = key.toString();\n        }\n        return Object.keys(options).includes(key) ? options[key] : void 0;\n      },\n      instance: function(propertyName) {\n        const symbolId = node.__getPropertyValue__(propertyName);\n        if (typeof symbolId === "object" && symbolId.type === "ERROR") {\n          return symbolId.__render__();\n        }\n        if (!symbolId || typeof symbolId !== "string") {\n          return void 0;\n        }\n        const child = node.children.find(\n          (node2) => node2.type === "INSTANCE" && node2.symbolId === symbolId\n        );\n        return child && child.__render__();\n      },\n      __instance__(instanceSwapProp) {\n        const symbolId = node.__getPropertyValue__(instanceSwapProp);\n        if (typeof symbolId === "object" && symbolId.type === "ERROR") {\n          return symbolId.__render__();\n        }\n        if (!symbolId || typeof symbolId !== "string") {\n          return void 0;\n        }\n        const child = node.children.find(\n          (node2) => node2.type === "INSTANCE" && node2.symbolId === symbolId\n        );\n        return child;\n      },\n      children: function(layerNames) {\n        let filterFunction = (node2) => node2.type === "INSTANCE" && layerNames.includes(node2.name);\n        if (layerNames.length === 1 && layerNames[0].includes("*")) {\n          const regex = new RegExp("^" + layerNames[0].replace("*", ".*"));\n          filterFunction = (node2) => node2.type === "INSTANCE" && regex.test(node2.name);\n        }\n        return node.children.filter(filterFunction).map((node2) => {\n          return node2.__render__();\n        }).flat();\n      }\n    });\n  }\n  return Object.freeze({\n    currentLayer,\n    // expose this to be backwards compatible with the old API\n    properties: currentLayer.__properties__,\n    // \'jsx\' seems to give slightly better highlighting\n    html: templateString("html"),\n    tsx: templateString("jsx"),\n    swift: templateString("swift"),\n    kotlin: templateString("kotlin"),\n    value: renderValue\n  });\n};\n'},697322:(e,t,n)=>{n.d(t,{L:()=>o});var a=n(411855);function o(e){return a.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h1A2.5 2.5 0 0 1 7 6.5v2A1.5 1.5 0 0 0 8.5 10h2.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L11.293 11H8.5A2.5 2.5 0 0 1 6 8.5v-2A1.5 1.5 0 0 0 4.5 5h-1a.5.5 0 0 1-.5-.5m5.5 0A.5.5 0 0 1 9 4h3.5a.5.5 0 0 1 0 1H9a.5.5 0 0 1-.5-.5",clipRule:"evenodd"}))}},16633:(e,t,n)=>{n.d(t,{C:()=>o});var a=n(411855);function o(e){return a.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},a.createElement("rect",{width:"6",height:"6",x:"5",y:"5",fill:"#007BE5",rx:"3"}))}},941670:(e,t,n)=>{n.d(t,{p:()=>o});var a=n(411855);function o(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.146 6.146a.5.5 0 0 1 .708.708L14.707 10H17.5a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 1 0v2.793zM6.854 17.854a.5.5 0 0 1-.708-.708L9.293 14H6.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-2.793z",clipRule:"evenodd"}))}},963757:(e,t,n)=>{n.d(t,{m:()=>r});var a=n(411855),o=n(434228);function r(e){return(0,o.O)()?a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 7c0 1.043.533 1.963 1.341 2.5A3 3 0 0 0 6.5 12c0 1.043.533 1.963 1.341 2.5A3 3 0 1 0 12.5 17v-2.764A3 3 0 1 0 16.159 9.5 3 3 0 0 0 14.5 4h-5a3 3 0 0 0-3 3m8 2a2 2 0 1 0 0-4h-2v4zm-2 3a2 2 0 1 0 4 0 2 2 0 0 0-4 0m-1 2h-2a2 2 0 1 1 0-4h2zm-2 1h2v2a2 2 0 1 1-2-2m2-6h-2a2 2 0 1 1 0-4h2z",clipRule:"evenodd"})):a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 7c0 1.043.533 1.963 1.341 2.5A3 3 0 0 0 7 12c0 1.043.533 1.963 1.341 2.5A3 3 0 1 0 13 17v-2.764A3 3 0 1 0 16.659 9.5 3 3 0 0 0 15 4h-5a3 3 0 0 0-3 3m8 2a2 2 0 1 0 0-4h-2v4zm-2 3a2 2 0 1 0 4 0 2 2 0 0 0-4 0m-1 2h-2a2 2 0 1 1 0-4h2zm-2 1h2v2a2 2 0 1 1-2-2m2-6h-2a2 2 0 1 1 0-4h2z",clipRule:"evenodd"}))}},173919:(e,t,n)=>{n.d(t,{P:()=>o});var a=n(411855);function o(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13 7v5a1 1 0 1 1-2 0V7a1 1 0 1 1 2 0m-3 0a2 2 0 1 1 4 0v5a2 2 0 1 1-4 0zm-1.5 4.5a.5.5 0 0 0-1 0v.5a4.5 4.5 0 0 0 4 4.473V18h-2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-2v-1.527a4.5 4.5 0 0 0 4-4.473v-.5a.5.5 0 0 0-1 0v.5a3.5 3.5 0 1 1-7 0z",clipRule:"evenodd"}))}},460869:(e,t,n)=>{n.d(t,{W:()=>o});var a=n(411855);function o(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18.9 12a6.9 6.9 0 1 1-13.8 0 6.9 6.9 0 0 1 13.8 0m1 0a7.9 7.9 0 1 1-15.8 0 7.9 7.9 0 0 1 15.8 0m-4.468-2.748a.5.5 0 1 0-.864-.504l-3.14 5.384-2.044-2.452a.5.5 0 0 0-.768.64l2.5 3a.5.5 0 0 0 .816-.068z",clipRule:"evenodd"}))}},747638:(e,t,n)=>{n.d(t,{H:()=>o});var a=n(411855);function o(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.854 5.854a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L6.707 9H14a4 4 0 1 1-3.748 5.4.56.56 0 0 0-.516-.377c-.326 0-.57.3-.464.608A5.002 5.002 0 0 0 19 13a5 5 0 0 0-4.998-5H6.707z",clipRule:"evenodd"}))}}}]);

//# debugId=f275316c-4706-5a25-a30b-6a1f48ab65d4

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8887574dce1aaeb789ffaa634abd9f947a84d5fd/8469-8af58cf46d04741d.min.js.map