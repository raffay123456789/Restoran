"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a53911a9-a03d-595e-b4bc-c1077723eaa1")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[2812],{363668:(e,t,l)=>{l.d(t,{J:()=>g});var n=l(411855),r=l(587670),i=l(86625),a=l(776250),o=l(374626),c=l(809831),s=l(326069),d=l(457630),u=l(252296),m=l(230413),f=l(883211);let p=l(699670).zS;function g(){let[e,t]=(0,o.fp)(f.ph),l=(0,o.md)(f.KG),g=(0,o.md)(f.kh),b=(0,d._X)({subscribeToUpdates_expensive:!0}),[h,v]=(0,n.useState)(null),E="whiteboard"===(0,c.lg)(),y=n.useCallback(()=>{if(e){let{emojis:t,index:l}=e;if(t&&l>=0&&l<t.length){let e=(0,s._Q)(t[l]);e&&i.l7.user("insert-emoji",()=>{(0,a.sx)("inserted_editor_emoji",{emoji:e}),r.SmY.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),_=n.useCallback(()=>{t(null)},[t]);if(!g||!e||null===l)return null;let S=(0,d.Yb)(b,g);if(!(0,d.ZT)(S,b))return null;let T={top:S.y+b.y-8,bottom:S.y+b.y+S.height+8,left:S.x+b.x,right:S.x+b.x+S.width,height:S.height,width:S.width},C=h&&T.height>0&&T.bottom>b.height-h&&T.top>b.height-T.bottom?{positionFromBottom:{left:T.left,bottom:b.height+b.y-T.top},direction:m.ri.UPWARDS}:{targetRect:T,direction:m.ri.DOWNWARDS};return n.createElement("div",null,n.createElement(u.j,{dispatchTypeahead:t,typeahead:e,onInsert:y,onClear:_,width:168,...C,setMaxTypeaheadHeight:v,zIndex:p,isFigJam:E,recordingKey:"emojiTypeaheadView",emojiImageSet:l}))}},593986:(e,t,l)=>{l.d(t,{C_:()=>b,E0:()=>u,iv:()=>p,LP:()=>g,JI:()=>f,v2:()=>m});var n=l(411855),r=l(188507),i=l(634832),a=l(587670),o=l(91408),c=l(563706),s=l(809831),d=l(837746);let u=(0,o.hG)(d.tui);function m(){let e=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:l}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||l.onCanvasNameEditorInfo.mode===a.nzw.SECTION_NAME)),t=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),l=(0,r.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,s.lg)()?e?40:t&&c.XN?40:l?20+u/2:a.qmM?.shouldRenderTableUiForSelection()!==a.miS.HIDE?20+u/2:16:8}function f(){return(0,r.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function p(e,t,l,n){switch(n){case a.cfv.ABOVE:return l<e.y?a.cfv.ABOVE:a.cfv.BELOW;case a.cfv.BELOW:return l>e.y?a.cfv.BELOW:a.cfv.ABOVE;case a.cfv.LEFT:return t<e.x?a.cfv.LEFT:a.cfv.RIGHT;case a.cfv.RIGHT:return t>e.x?a.cfv.RIGHT:a.cfv.LEFT;default:(0,i.assertNever)(n)}}function g(e){let t=n.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),l=n.useCallback(()=>{let{current:l}=t;l.didMenuMidpointChange&&l.didSelectionChange&&e.current?.animate(),l.frameHandle||(l.frameHandle=setTimeout(()=>{l.didMenuMidpointChange=!1,l.didSelectionChange=!1,l.frameHandle=null},0))},[e]);return{markSelectionChanged:n.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,l()),t.current.lastSelection=e},[l]),markPositionChanged:n.useCallback(e=>{let{current:n}=t;(e.x!==n.lastMidpoint.x||e.y!==n.lastMidpoint.y)&&(n.didMenuMidpointChange=!0,l()),n.lastMidpoint=e},[l])}}let b=n.forwardRef(function({children:e},t){let l=n.useRef(null);return n.useImperativeHandle(t,()=>({animate:()=>{l.current&&(l.current.style.animation="none",l.current.offsetTop,l.current.style.animation="")}})),n.createElement("div",{ref:l,className:"inline_editor_layer--animationRoot--pX-db"},e)})},648836:(e,t,l)=>{l.d(t,{k:()=>h});var n=l(411855),r=l(188507),i=l(634832),a=l(587670),o=l(374626),c=l(592096),s=l(809831),d=l(395701),u=l(555074),m=l(457630),f=l(100197),p=l(425187),g=l(662599),b=l(593986);function h({children:e,isShown:t,centerInFrame:l,anchorToRect:i,showInReadOnly:o}){let c;let[s,d]=n.useState(!1),[p,g]=n.useState(!1),h=n.useRef(null),{markPositionChanged:E,markSelectionChanged:y}=(0,b.LP)(h),_=(0,r.d4)(({mirror:{appModel:e}})=>[a.QOV.DEFAULT,a.QOV.SELECTING_TEXT,a.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),S=(0,r.d4)(({mirror:{appModel:e}})=>e.isReadOnly),T=(0,m._X)({subscribeToUpdates_expensive:t}),C=(0,f.J2)(a.Ez5.canvasViewState().selectionBoundingRect),O=(0,f.J2)(a.Ez5.canvasViewState().inlineMenuTarget),k=i||O?.boundingBox||C,w=(0,b.JI)(),I=(0,r.d4)(e=>e.mirror.sceneGraphSelection),j=(0,u.kl)("isTableSublayerSelected"),A=(c=a.cfv.ABOVE,O?.preferredPosition?c=O.preferredPosition:j&&(c=a.cfv.BELOW),c),x=!!w||!T||!k||!_||S&&!o||!t;n.useEffect(()=>{(x||p)&&s&&d(!1)},[x,s,p]);let L=T?.offsetX||0,N=T?.offsetY||0;return(n.useEffect(()=>{d(!1)},[I,L,N]),n.useEffect(()=>{y(I)},[I,y]),x)?n.createElement(b.C_,{ref:h},null):n.createElement(v,{viewport:T,animationContainerRef:h,centerInFrame:l,boundingBox:k,preferredRelativePosition:A,setSizeChanged:g,isHovering:s,setIsHovering:d,markPositionChanged:E},e)}function v({children:e,viewport:t,animationContainerRef:l,centerInFrame:r,boundingBox:u,preferredRelativePosition:f,setSizeChanged:h,isHovering:v,setIsHovering:E,markPositionChanged:y}){let[_,S]=(0,o.fp)(p.f),T=_.positionRelativeToSelection,C=n.useRef(null),O=(0,s.lg)(),k=(0,b.v2)(),w=r?0:k,I=(0,c.FQ)(),j=(0,m.Yb)(t,u),A=n.useMemo(()=>({...j,x:j.x+t.x,y:j.y+t.y}),[j,t]),x=n.useCallback((e,l,n,r)=>{if(t){let i=e-t.x,o=l-t.y,c=(0,m.$$)(t,{x:i,y:o-r/window.devicePixelRatio});a.glU.figjamInlineMenuPositionUpdate(c.x,c.y,n.height)}y({x:e+n.width/2,y:l+n.height/2});let i=(0,b.iv)(A,e,l,f);T!==i&&S({type:"SET_POS_RELATIVE_TO_SELECTION",payload:i})},[t,y,A,T,S,f]),L=n.useCallback((e,t,l)=>{switch(l){case a.cfv.ABOVE:return[(0,g.Al)(e,t),r?(0,g.tJ)(e,t):(0,g.T1)(e,t,w)];case a.cfv.BELOW:return[(0,g.Al)(e,t),r?(0,g.tJ)(e,t):(0,g.DH)(e,t,w)];case a.cfv.LEFT:return[(0,g.Dl)(e,t,20),r?(0,g.tJ)(e,t):e.y];case a.cfv.RIGHT:return[(0,g.Yh)(e,20),r?(0,g.tJ)(e,t):e.y];default:(0,i.assertNever)(l)}},[w,r]),N=n.useCallback((e,t,l)=>{let[n,r]=L(e,t,l);return d.r.fromOriginAndSize(n,r,t.width,t.height)},[L]),R=n.useCallback((e,t,l,n,i)=>!r&&l===a.cfv.ABOVE&&n.top()>i.top()?N(e,t,a.cfv.BELOW):!r&&l===a.cfv.BELOW&&n.top()<i.top()?N(e,t,a.cfv.ABOVE):l===a.cfv.LEFT&&n.left()>i.left()?N(e,t,a.cfv.RIGHT):l===a.cfv.RIGHT&&n.left()<i.left()?N(e,t,a.cfv.LEFT):n,[N,r]),M=n.useCallback((e,l,n,r)=>{let i=d.r.fromOriginAndSize(t.x,t.y,t.width,t.height),a=N(e,l,f),o=I(a,i,r),c=R(e,l,f,o,a);return c!==o&&(o=I(c,i,r)),[o.left(),o.top()]},[f,t.height,t.width,t.x,t.y,I,N,R]);if(!(0,m.ZT)(j,t))return n.createElement(b.C_,{ref:l},null);let P="whiteboard"===O&&v?{transition:"transform 0.1s"}:{};return P.WebkitUserSelect="none",n.createElement(g.lM,{style:P,targetRect:A,onMouseEnter:()=>{E(!0),C.current&&clearTimeout(C.current),C.current=null},onMouseLeave:()=>{C.current=setTimeout(()=>E(!1),100)},offset:w,positionXY:M,onPosition:x,frozen:v,setSizeChanged:h},n.createElement(b.C_,{ref:l},e))}},359919:(e,t,l)=>{l.d(t,{n:()=>c});var n=l(411855),r=l(188507),i=l(601607),a=l(980150),o=l(982386);function c(){let e=function(){let e=(0,r.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,i.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let l=e.get(t.guid);if(!l||"-1:-1"===l.guid)return null;let n={guid:l.guid,name:l.name,type:l.type,boundingBox:l.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:l.hasEnabledStaticImagePaint,isState:l.isState,isStateGroup:l.isStateGroup,stackCounterAlignItems:l.stackCounterAlignItems,stackMode:l.stackMode,isGroup:l.isGroup,canHaveStatus:l.canHaveStatus,hasStatus:l.hasStatus,objectsPanelThumbnailId:l.objectsPanelThumbnailId};if(n.isState&&t.symbolId){let l=e.get(t.symbolId);n.symbolName=l?.name}return n}):null,e)}()?.[0];return e?n.createElement(a.MO,{node:e,offsetX:-3},n.createElement("div",{className:o.nM},n.createElement(a.Tq,{node:e}),n.createElement("span",{className:o.dK},e.symbolName?e.symbolName:e.name))):null}},196720:(e,t,l)=>{l.d(t,{jW:()=>K,cI:()=>B,ex:()=>U});var n=l(411855),r=l(188507),i=l(343887),a=l(940319),o=l(841368),c=l(587670),s=l(86625),d=l(776250),u=l(153234),m=l(763658),f=l(27087),p=l(268537),g=l(493323),b=l(163023),h=l(46481),v=l(939863),E=l(392592),y=l(677664),_=l(798099),S=l(356390),T=l(318812),C=l(29680),O=l(498606),k=l(279145),w=l(298543),I=l(7959),j=l(726864),A=l(395701),x=l(862442),L=l(843495),N=l(457630),R=l(587997),M=l(258376),P=l(951912);function B(e){return n.createElement(m.k,{name:"live_object_panel"},n.createElement(I.Zk,null,n.createElement(I.fI,{className:R.LO},n.createElement(I.xw,null,n.createElement("div",{className:"live_object_panel--title--9VTOA"},n.createElement(b.B,{svg:P.A}),(0,v.tx)("fullscreen.live_object_panel.live_object"))),n.createElement(V,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function F(e,t){for(let l=0;l<t;l++)try{let t=await f.Ay.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function U(e,t,l){try{let e=[];for(let n of t)(0,d.sx)("update_live_object",{...n}),n.srcFile?(e.push(F(`/api/file_proxy/file/${n.srcFile}/canvas?nodes_to_extract=${n.srcNode}&fv=${l}`,2).then(e=>{s.l7.user("update-live-object-remote",()=>c.glU.updateLiveObject(e,n.nodeId,n.srcNode,n.srcFile))})),await Promise.all(e)):s.l7.user("update-live-object-local",()=>c.glU.updateLiveObject(new Uint8Array,n.nodeId,n.srcNode,""))}catch(t){e(E.F.enqueue({message:(0,v.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}S.Y5.triggerAction("commit"),e(E.F.enqueue({message:(0,v.t)("fullscreen.live_object_panel.live_update_success")}))}function K(e){let t=(0,r.wA)(),l=(0,C.eY)(),i=function(){let e=(0,x.Z)("outline_navigate"),t=(0,j.Yk)();return n.useCallback(l=>{L.wr(),L.Dh([l]);let n=S.Y5.getViewportInfo();e((0,N.QZ)({nodeId:l,alwaysPan:!0,viewportRect:A.r.fromOriginAndSize(n.x,n.y,n.width,n.height-n.y-t)}))},[t,e])}(),{pasteSources:a,liveUpdate:o,isLiveUpdating:d}=e,m=(0,r.d4)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),f=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),g=!1;if(m){if(m.bubbledInstanceOverrides)g=!0;else for(let e of Object.values(m.selectionOverrides))if(e){g=!0;break}}return n.createElement(n.Fragment,null,n.createElement(p.c$,{onClick:()=>{if(1!==a.length)return;let e=a[0];e.srcFile?t((0,y.RK)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):i(e.srcNode)},disabled:1!==a.length,recordingKey:u.Pt(e,"goToOriginal"),key:"goToOriginal"},(0,v.tx)("fullscreen.live_object_panel.go_to_original")),n.createElement(p.c$,{disabled:!g,onClick:()=>{let e=a.map(e=>e.nodeId);s.l7.user("reset-instance-overrides",()=>c.glU.resetSymbolOverridesForNodes(e,c.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),S.Y5.commit()},recordingKey:u.Pt(e,"resetAllChanges"),key:"resetAllChanges"},(0,v.tx)("fullscreen.live_object_panel.reset_all_changes")),n.createElement(p.c$,{onClick:()=>o(a),disabled:d,recordingKey:u.Pt(e,"updateLiveObject-menu"),key:"updateLiveObject"},(0,v.tx)("fullscreen.live_object_panel.update_live_object")),n.createElement(p.wv,{key:"divider"}),n.createElement(p.c$,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of a){let n=l.get(t.nodeId);n&&(e.push(t.nodeId),n.clearPasteSource())}s.l7.user("detach-instances",()=>c.glU.detachInstances(e)),S.Y5.commit()},recordingKey:u.Pt(e,"detachFromLive"),key:"detachFromLive"},(0,v.tx)("fullscreen.live_object_panel.detach_from_live"),n.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,k.c1)(f,"detach-instance"))))}function V(e){let{pasteSources:t}=e,l=(0,r.wA)(),{showing:c,toggle:s}=(0,T.BK)("live-object-dropdown"),d=(0,r.d4)(e=>e.fileVersion),[m,f]=n.useState(!1),p=n.useRef(null),b=u.Pt(e,"updateLiveObject"),E=u.Pt(e,"liveObjectMenu"),y=n.useCallback(async e=>{f(!0),await U(l,e,d),f(!1)},[d,l]);return n.createElement(n.Fragment,null,m?n.createElement(g.kt,{className:"live_object_panel--spinner--iQ62Q",altIcon:M.A}):n.createElement(i.K,{onClick:()=>y(t),"aria-label":(0,v.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:b,htmlAttributes:{onMouseDown:_.dG,"data-tooltip":(0,v.t)("fullscreen.live_object_panel.update_live_object"),"data-tooltip-type":O.Ib.TEXT}},n.createElement(h.U,{svg:M.A},n.createElement(a._,null))),n.createElement("div",{ref:p},n.createElement(I.YW,{selected:c,onClick:s,onMouseDown:_.dG,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":O.Ib.TEXT,"data-tooltip":(0,v.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:E},n.createElement(o.J,null))),c&&(p.current?n.createElement(w.Cf,{targetRect:p.current.getBoundingClientRect(),propagateCloseClick:!0},n.createElement(K,{pasteSources:t,liveUpdate:y,isLiveUpdating:m,recordingKey:E})):null))}},841983:(e,t,l)=>{l.d(t,{D:()=>m,N:()=>u});var n=l(411855),r=l(188507),i=l(356390),a=l(498606),o=l(677859),c=l(88220),s=l(426906);let d=["semi-bold","semi bold","bold","extra-bold","extra bold","black"];function u(e){return d.some(t=>e.toLowerCase().startsWith(t))}function m(){let e=(0,r.d4)(e=>u(e.mirror.selectionProperties.fontStyle?.toString()||"")),t=(0,r.d4)(e=>"STRIKETHROUGH"===e.mirror.selectionProperties.whiteboardTextDecoration);return n.createElement(n.Fragment,null,n.createElement(o.K0,{svg:c.A,tooltip:"toggle-bold",tooltipType:a.Ib.LOOKUP,active:e?"LOUD":void 0,onClick:()=>i.Y5.triggerActionInUserEditScope("toggle-bold"),recordingKey:"bold",role:"switch",blurOnClick:!0}),n.createElement(o.K0,{svg:s.A,tooltip:"text-toggle-strikethrough",tooltipType:a.Ib.LOOKUP,active:t?"LOUD":void 0,onClick:()=>i.Y5.triggerActionInUserEditScope("text-toggle-strikethrough"),recordingKey:"strikethrough",role:"switch",blurOnClick:!0}))}}}]);

//# debugId=a53911a9-a03d-595e-b4bc-c1077723eaa1

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/579aa3b74500cddab787e4829e98fc72d0c3c2e3/2812-b9903863ef741ae0.min.js.map