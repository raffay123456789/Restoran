"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2b4ddf11-677f-5961-8e23-ad4375ecfc3e")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7512],{843709:(e,t,n)=>{n.d(t,{$l:()=>x,BP:()=>ee,BX:()=>w,Cu:()=>M,DM:()=>V,GE:()=>y,Gl:()=>k,Gu:()=>Q,I_:()=>D,It:()=>ei,Iw:()=>F,Jw:()=>X,KY:()=>L,Kh:()=>p,LW:()=>ep,LY:()=>N,Li:()=>B,Lp:()=>C,M9:()=>U,O8:()=>H,Ob:()=>ec,Oe:()=>eo,Op:()=>$,P2:()=>a,PB:()=>s,PE:()=>Y,Ph:()=>A,QE:()=>et,QK:()=>c,QT:()=>b,SG:()=>T,Ti:()=>J,U:()=>u,U3:()=>er,Ym:()=>_,Yo:()=>Z,Ze:()=>W,Zp:()=>r,_2:()=>j,aq:()=>l,cF:()=>f,dU:()=>P,eU:()=>I,ft:()=>el,gG:()=>R,h2:()=>es,hF:()=>d,hH:()=>O,iR:()=>o,kE:()=>G,oM:()=>E,p0:()=>i,rn:()=>z,sC:()=>m,sQ:()=>v,vE:()=>h,vs:()=>K,wu:()=>g,x:()=>ea,x1:()=>q,xm:()=>en,zX:()=>S});let r="prototype_interaction_panel--timeoutContainer--Zn1xk",l="prototype_interaction_panel--durationContainer--GYp82",i="prototype_interaction_panel--duration--JdsIp",a="prototype_interaction_panel--dropdownContainer--udrAG",o="prototype_interaction_panel--destinationDropdown--ZIcBV",s="prototype_interaction_panel--variableSelectorDropdown--UOYMn",c="prototype_interaction_panel--inactiveLabel--6uytx transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",p="prototype_interaction_panel--inactiveLabelRotated90--ArAQX prototype_interaction_panel--inactiveLabel--6uytx transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",d="prototype_interaction_panel--input--73Bse raw_components--flushLeft--YH-5P",u="prototype_interaction_panel--scrubbableInputLeftCol--wC8-D raw_components--borderFocusWithin--BaipZ",m="prototype_interaction_panel--scrubbableInput--VJ6m6 prototype_interaction_panel--scrubbableInputLeftCol--wC8-D raw_components--borderFocusWithin--BaipZ",E="prototype_interaction_panel--scrollOptionsInput--NNU-R",_="prototype_interaction_panel--timestampContainer--P9Uid",h="prototype_interaction_panel--timestamp--Ay3G7",y="prototype_interaction_panel--expandCaret--xX9Pv",g="prototype_interaction_panel--addActionRow--PByUm",S="prototype_interaction_panel--addActionRowUI3Hover--rVXoJ",b="prototype_interaction_panel--selectionContainer--FAj3B",f="prototype_interaction_panel--interactionRowContainer--8IWen",v="prototype_interaction_panel--interactionSelectDropdown--HG9ew",T="prototype_interaction_panel--interactionRowHeader--FRsvU",P="prototype_interaction_panel--ui3TwoColSecondaryInputContainer--DQJ3R ui3_modal_rows--ui3LabelOneInputRow--kpsQB ui3_modal_rows--_row--x9xQX ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",w="prototype_interaction_panel--ui3TwoColDropdownRow--5aWMH",I="prototype_interaction_panel--ui3TwoColDropdownContainer--pq-AI",N="prototype_interaction_panel--headerButtonContainer--P2F08",k="prototype_interaction_panel--durationInputUI3--lInao",C="prototype_interaction_panel--inputWithIconUI3--TPVTd",A="prototype_interaction_panel--actionDetailsInner--7ywFI",M="prototype_interaction_panel--actionRowSelected--dcGvB",O="prototype_interaction_panel--minusButton--cZso-",x="prototype_interaction_panel--actionRow--WzbzF",R="prototype_interaction_panel--minusButtonUI3--kzsLc",L="prototype_interaction_panel--actionRowUI3--qr-7o",F="prototype_interaction_panel--actionRowUI3Hover--aY-qg",D="prototype_interaction_panel--actionRowUI3ConditionalHover--lbjuo",V="prototype_interaction_panel--actionRowUI3Nested--VoFza",K="prototype_interaction_panel--actionRowUI3NestedHover--9uL8f",U="prototype_interaction_panel--actionRowUI3NestedSelectedHover--cJRBw",B="prototype_interaction_panel--actionVerboseTitle--HKv2H",G="prototype_interaction_panel--actionVerboseTitleUI3--TTKpR",H="prototype_interaction_panel--actionVerboseTitleNarrow--KFbW0 prototype_interaction_panel--actionVerboseTitle--HKv2H",Y="prototype_interaction_panel--actionRowSelectedUI3--JgKW1",W="prototype_interaction_panel--conditionalActionRowBorder--p80fK",$="prototype_interaction_panel--removeLeftMargin--2WMkr",z="prototype_interaction_panel--actionTitleRow--DxGK3",Q="prototype_interaction_panel--actionTitleRowUI3--LSxu3",X="prototype_interaction_panel--titleAndIconRow--FG93L",j="prototype_interaction_panel--childIcon--RLZ-K",J="prototype_interaction_panel--conditionalActionRow--YQRe3",Z="prototype_interaction_panel--conditionalActionRowUI3--2s-yJ",q="prototype_interaction_panel--createActionButton--6BFXc raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",ee="prototype_interaction_panel--createActionDropdownOption--qX5xI",et="prototype_interaction_panel--createActionDropdownOptionIcon--Eivoa",en="prototype_interaction_panel--createActionRow--zskZs",er="prototype_interaction_panel--createActionRowUI3--lySxj",el="prototype_interaction_panel--topLevelActionRowDivider--TriUY prototype_interaction_panel--actionRowDivider--bqH58",ei="prototype_interaction_panel--conditionalActionRowDivider--9pjgS prototype_interaction_panel--actionRowDivider--bqH58",ea="prototype_interaction_panel--dividerHorizontalUI3--OjPRj",eo="prototype_interaction_panel--actionRowUI3TwoCol--oZabn",es="prototype_interaction_panel--actionRowUI3TwoColSelected--md39i",ec="prototype_interaction_panel--conditionalActionRowUI3TwoCol--ot0Li",ep="prototype_interaction_panel--emptyActionUI3TwoCol--NVK62 prototype_interaction_panel--actionRowUI3TwoCol--oZabn"},454072:(e,t,n)=>{n.d(t,{n:()=>r});let r=new class{parse(e,t){let n=[];if(e.split(/[ ,]+/g).forEach(e=>{if(!e.length)return;let t=parseFloat(e);if(!isFinite(t))throw Error("Could not parse easing function input");n.push(t)}),4!==n.length)throw Error("Could not parse easing function input");return n.forEach((e,t)=>{t%2==0&&(n[t]=Math.min(Math.max(e,0),1))}),n}format(e){return null==e?"":e.map(e=>parseFloat(e.toFixed(2))).join(", ")}}},444576:(e,t,n)=>{n.d(t,{A7:()=>o,i4:()=>a,nt:()=>i});var r=n(302245),l=n(333370);let i=e=>e.library.localStyleSelection,a=(0,r.Mz)([i,(e,t)=>t],(e,t)=>e?.type===t?e:null),o=(0,r.Mz)([a,(e,t,n)=>n],(e,t)=>{if(!e)return null;let n=new Set,r=new Set;return e.folderNames.forEach(e=>{let i=t.find(t=>"STYLE_FOLDER"===t.type&&t.name===e);i&&((0,l.KU)(i).forEach(e=>{n.add(e.name)}),(0,l.dm)(i).forEach(e=>{r.add(e.node_id)}))}),{type:e.type,folderNames:n,styleIds:r}})},57512:(e,t,n)=>{n.d(t,{E:()=>Ek});var r=n(411855),l=n(188507),i=n(587670),a=n(374626),o=n(30637),s=n(192437),c=n(570999),p=n(952593),d=n(138369),u=n(592096),m=n(809831),E=n(818),_=n(506599),h=n(226055),y=n(617453),g=n(373119),S=n(396697),b=n(213190),f=n(843495),v=n(29680),T=n(860178),P=n(336599),w=n(100197),I=n(428467),N=n(939562),k=n(239671),C=n(7860),A=n(385648),M=n(297666),O=n(672517),x=n(355819),R=n(901536),L=n(629019),F=n.n(L),D=n(776250),V=n(511617),K=n(966712),U=n(262896),B=n(401966),G=n(939863),H=n(335682),Y=n(243987),W=n(267225);function $(){let e=(0,l.wA)(),t=(0,T.iZ)(),{isEditingFile:n,unsortedTeams:i}=(0,W.DF)(),a=(0,H.q5)(),o=(0,k.sL)(a?.editorType),s=r.createRef();return r.createElement(r.Fragment,null,r.createElement("button",{className:F()(R.cx.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,R.cx.b1.colorBorder.bb0.br0.bl0.$,"first_level_resource_contact_support--contactSupportButton--Ioy3K"),onClick:()=>{if((0,D.sx)("help_widget_get_help",{isEditingFile:n,editorType:o,source:"in-product-help-panel-button"}),(0,K.sL)()){(0,V.FJ)("mailto:support-figgov@figma.com","_blank","noopener");return}let e=0===i.filter(Y.w5).length;s.current?.open({ticketForms:e?U.Fb.FREE:U.Fb.PAID,locale:t?.locale})}},(0,G.t)("help_widget.menu.contact_support")),r.createElement(B.F,{ref:s,dispatch:e,userName:t?.name||null,userEmail:t?.email||null}))}var z=n(343887),Q=n(139689),X=n(716622);function j(){let{hideInProductHelpView:e}=(0,X.A5)();return r.createElement("div",{className:R.cx.flex.flexRow.justifyBetween.itemsCenter.$},r.createElement("p",{className:R.cx.font16.colorText.fpl__textHeadingLargeFontWeight.$},(0,G.t)("in_product_help_and_learning.first_level_header.title")),r.createElement(z.K,{onClick:()=>{e()},"aria-label":(0,G.t)("general.close")},r.createElement(Q.A,null)))}var J=n(504440),Z=n(179940),q=n(32863);function ee(){let e=(0,O.j6)(),t=(0,T.Pc)().locale,[n,l]=r.useState(""),i=r.createRef(),a=r.createRef(),o=()=>{e.trackEvent("CTA Clicked",{text:"Help Center Search",searchQuery:n});let r=(0,Z.lF)({query:n});(0,V.FJ)(`https://help.figma.com/hc/${(0,X.FI)(t)}/search?${r}`,"_blank","noopener")};return r.useEffect(()=>{if(a.current&&i.current){let e=i.current.offsetWidth;a.current.style.setProperty("--in-product-help-and-learning-search-bar-max-width",`calc(100% - 32px - ${e}px - 8px)`)}},[a,i]),r.createElement("form",{onSubmit:e=>{e.preventDefault(),o()},className:"first_level_resource_search_bar--searchBar--BexQF",ref:a},r.createElement(q.IW,{focusOnMount:!0,hasTransparentBackground:!0,hideXIcon:!0,query:n,clearSearch:()=>l(""),onChange:l,iconClassName:R.cx.colorIconSecondary.$,className:R.cx.h32.wFull.colorBgSecondary.bRadius8.$}),n.length>0&&r.createElement("div",{className:"first_level_resource_search_bar--searchButtonContainer--BADgp"},r.createElement(J.$n,{variant:"primary",type:"submit",ref:i},(0,G.tx)("in_product_help_and_learning.search"))))}var et=n(163023);function en({sectionName:e,sectionOptions:t}){return r.createElement("div",{className:R.cx.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$},r.createElement("p",{className:R.cx.mb2.$},e),t)}var er=n(696849);let el=()=>[{label:(0,G.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,G.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,G.t)("help_widget.menu.release_notes"),href:"https://releases.figma.com/"},{label:(0,G.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,G.t)("help_widget.menu.submit_feedback"),href:"https://a.sprig.com/WVd3eUN5R3lxZ35zaWQ6OTllM2VkMDUtY2UxYS00NjUxLTg0YzItNTdjYTZmZGZkNjhj"},{label:(0,G.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"},{label:(0,G.t)("help_widget.menu.navigating_figmas_redesign"),href:"https://help.figma.com/hc/en-us/articles/23954856027159-Navigating-Figma-s-redesign"}],ei=(0,O.tf)(J.$n),ea=r.memo(function(){let e=el().map(e=>r.createElement("span",{key:e.label,className:R.cx.flex.gap8.colorTextBrand.cursorPointer.$},r.createElement(ei,{variant:"link",onClick:()=>{(0,V.FJ)(e.href,"_blank","noopener")},iconPrefix:r.createElement(et.B,{svg:er.A,width:"16px",className:R.cx.colorIconBrand.mr8.$})},e.label))),t=(0,G.t)("in_product_help_and_learning.more_help_resources.section_title");return r.createElement(en,{sectionName:t,sectionOptions:e})});var eo=n(646240),es=n(864089),ec=n(501114),ep=(e=>(e[e.NEW_TO_FIGMA=0]="NEW_TO_FIGMA",e[e.EXPLORE_FEATURES=1]="EXPLORE_FEATURES",e[e.CREATE_COMPONENTS=2]="CREATE_COMPONENTS",e[e.DESIGN_FIRST_BUTTON=3]="DESIGN_FIRST_BUTTON",e[e.VIDEO_TUTORIALS=4]="VIDEO_TUTORIALS",e))(ep||{});function ed(e){switch(e){case 0:return[{displayString:(0,G.t)("in_product_help_and_learning.article.get_started_with_layers"),articleId:26584819173271},{displayString:(0,G.t)("in_product_help_and_learning.article.explore_layer_types"),articleId:26620239826199},{displayString:(0,G.t)("in_product_help_and_learning.article.combine_layers"),articleId:26610806345623},{displayString:(0,G.t)("in_product_help_and_learning.article.create_and_edit_text"),articleId:360039956474},{displayString:(0,G.t)("in_product_help_and_learning.article.browse_and_apply_fonts"),articleId:360041308034},{displayString:(0,G.t)("in_product_help_and_learning.article.apply_paints_with_the_color_picker"),articleId:360041003774},{displayString:(0,G.t)("in_product_help_and_learning.article.add_images_and_videos_to_design_file"),articleId:360040028034},{displayString:(0,G.t)("in_product_help_and_learning.article.export_from_figma_design"),articleId:360040028114}];case 1:return[{displayString:(0,G.t)("in_product_help_and_learning.article.frames_in_figma_design"),articleId:360041539473},{displayString:(0,G.t)("in_product_help_and_learning.article.add_auto_layout_to_a_design"),articleId:5731482952599},{displayString:(0,G.t)("in_product_help_and_learning.article.explore_auto_layout_properties"),articleId:360040451373},{displayString:(0,G.t)("in_product_help_and_learning.article.create_color_text_effect_and_layout_grid_styles"),articleId:360038746534},{displayString:(0,G.t)("in_product_help_and_learning.article.create_interactions"),articleId:360040315773},{displayString:(0,G.t)("in_product_help_and_learning.article.prototype_triggers"),articleId:360040035834},{displayString:(0,G.t)("in_product_help_and_learning.article.prototype_actions"),articleId:360040035874},{displayString:(0,G.t)("in_product_help_and_learning.article.prototype_animations"),articleId:360040522373},{displayString:(0,G.t)("in_product_help_and_learning.article.parent_child_and_sibling_relationships"),articleId:360039959014}];case 2:return[{displayString:(0,G.t)("in_product_help_and_learning.article.create_components_to_resuse_in_designs"),articleId:360038663154},{displayString:(0,G.t)("in_product_help_and_learning.article.create_and_insert_component_instances"),articleId:360039150173},{displayString:(0,G.t)("in_product_help_and_learning.article.create_and_use_variants"),articleId:360056440594},{displayString:(0,G.t)("in_product_help_and_learning.article.create_interactive_components_with_variants"),articleId:360061175334},{displayString:(0,G.t)("in_product_help_and_learning.article.create_and_manage_component_properties"),articleId:8883756012823}];default:return[]}}function eu({resource:e}){let t=(0,O.j6)(),n=(0,X.Yj)(),l=(0,eo.Xr)(X.J9),i=(0,eo.Xr)(X.Zf),a=(0,eo.Xr)(X.QU);return r.createElement("button",{key:e.title,className:R.cx.cursorPointer.$,style:ec.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px",overflow:"hidden"}).$,onClick:async()=>{if(t.trackEvent("CTA Clicked",{text:e.title}),e.resource===ep.DESIGN_FIRST_BUTTON){let t=await n(0xcce00915a97);t&&(l(2),i(e),a(t))}else e.resource===ep.VIDEO_TUTORIALS?(0,V.FJ)("https://www.youtube.com/playlist?list=PLXDU_eVOJTx4iS4wLdfAcM1msnqZmVwC5","_blank","noopener"):(l(2),i(e))}},r.createElement(es.oW,{src:e.image,alt:"",style:ec.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),r.createElement("div",{className:R.cx.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$},r.createElement("p",{className:R.cx.colorText.fpl__textBodyMediumStrongFontWeight.$},e.title),r.createElement("p",{className:R.cx.colorTextSecondary.$},e.description)))}function em(){let e=[{resource:0,title:(0,G.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,G.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:"https://static.figma.com/uploads/a657c232671f190106d0943282bf1a970f036718"},{resource:1,title:(0,G.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,G.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:"https://static.figma.com/uploads/033919a9d852c5a37b60923805a0e11f625cd9b1"},{resource:2,title:(0,G.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,G.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:"https://static.figma.com/uploads/4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab"},{resource:3,title:(0,G.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,G.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:"https://static.figma.com/uploads/13d91474245b8e3949763a713a12805283cfe2a2"},{resource:4,title:(0,G.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,G.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:"https://static.figma.com/uploads/02377d4618e4b063422da13c18efd5debece9591"}];return r.createElement("div",{className:R.cx.flex.flexColumn.rowGap8.$},r.createElement("p",{className:R.cx.font13.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,G.t)("in_product_help_and_learning.popular_resources.section_title")),e.map(e=>r.createElement(eu,{key:e.title,resource:e})))}var eE=n(22774),e_=n(662275),eh=n(356390),ey=n(69961),eg=n(312415);let eS=(0,O.tf)(J.$n);function eb({option:e}){return r.createElement("span",{className:R.cx.flex.colorTextBrand.cursorPointer.$},r.createElement(eS,{variant:"link",onClick:e.onClick},e.label))}function ef(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.user),{hideInProductHelpView:n}=(0,X.A5)(),i=[{label:(0,G.t)("lab.ui3_disable"),onClick:()=>{n(),ey.nt.ui3.toggleValue(t,e,"in_product_help_menu")}},{label:(0,G.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){eh.Y5.isReady()&&(e(eE.FU({tab:"layout"})),eh.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,G.t)("help_widget.menu.change_languages"),onClick:function(){e((0,e_.to)({type:eg.kA,data:{source:eg.IO.HELP}}))}},{label:(0,G.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{eh.Y5.isReady()&&eh.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>r.createElement(eb,{key:e.label,option:e})),a=(0,G.t)("in_product_help_and_learning.settings.section_title");return r.createElement("div",{className:R.cx.mb16.$},r.createElement(en,{sectionName:a,sectionOptions:i}))}function ev({isFloatingModal:e}){return r.createElement("div",null,r.createElement(O.fu,{name:"First Level"},r.createElement("div",{className:R.cx.flex.flexColumn.gap16.p16.pb8.$},r.createElement(j,null),r.createElement(ee,null)),r.createElement(x.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz"},r.createElement("div",{className:R.cx.flex.flexColumn.gap16.$},r.createElement(em,null),r.createElement(ea,null),r.createElement(ef,null))),r.createElement($,null)))}var eT=n(572206),eP=n(746806);function ew({propertiesPanelWidth:e,isInsetEditorEnabled:t,view:n}){let[l,i]=(0,r.useState)((0,X.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t})),a=(0,r.useCallback)(()=>{i((0,X.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t}))},[t,e]);return(0,r.useEffect)(()=>{let e=(0,M.s)(()=>{a()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a]),(0,r.useEffect)(()=>{a()},[e,a,t]),r.createElement(eP.vx,{initialWidth:X.yx,initialHeight:.8*window.innerHeight,initialPosition:new eT.Mi(l.x,l.y),maxHeight:.8*window.innerHeight},r.createElement("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj"},n))}var eI=n(755020);function eN(){let e=(0,a.md)(X.J9),{hideInProductHelpView:t}=(0,X.A5)(),n=(0,eo.Xr)(X.J9);return r.createElement("div",{className:R.cx.flex.flexRow.justifyBetween.p16.pl12.$},r.createElement("div",{onClick:()=>{n(e-1)},"aria-label":(0,G.t)("general.back"),role:"button",tabIndex:0,className:R.cx.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$},r.createElement(eI.C,null),(0,G.tx)("general.back")),r.createElement(z.K,{onClick:()=>{t()},"aria-label":(0,G.t)("general.close")},r.createElement(Q.A,null)))}var ek=n(862350),eC=n(951792),eA=n(678738),eM=n(296210),eO=n.n(eM);let ex="third_level_resources--helpCenterArticle--Fnl-a";function eR({afterArticleChildren:e}){let{name:t}=(0,O.j6)(),n=(0,a.md)(X.Zf),l=(0,a.md)(X.J9),i=(0,a.md)(X.QU),o=r.createRef(),[s,c]=r.useState(),p=r.useCallback(()=>{o.current?.scrollTo(0,0)},[o]);return((0,r.useEffect)(()=>{Array.from(document.querySelectorAll(`.${ex} a`)).forEach(e=>{e.target="_blank",e.onclick=()=>{(0,D.sx)("CTA Clicked",{text:e.text,linkUrl:e.href,trackingContext:t,articleId:i?.id})}}),function(e){if(e&&0xcce00915a97===e.id){let e=document.querySelector(".contextual-content.contextual-content--NewUI p:first-of-type");try{if(e){let t=document.createElement("iframe");t.src="https://www.youtube.com/embed/HJG7ILVSjrI?si=kLtIPYEqkgMC_hwH",t.title="Youtube video player",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.referrerPolicy="strict-origin-when-cross-origin",t.allowFullscreen=!0,t.className="third_level_resources--embeddedVideo--lnko-";let n=e.parentNode;n&&n.insertBefore(t,e)}}catch(e){console.error(e)}}}(i),Array.from(document.querySelectorAll(`.${ex} img`)).forEach(e=>{e.onclick=()=>{c({src:e.src,alt:e.alt})}});let e=Array.from(document.querySelectorAll(".contextual-content--NewUI button.tablinks")),n=Array.from(document.querySelectorAll(".contextual-content--NewUI div.tabcontent"));if(e.length>0&&e.length===n.length){let t=0,r=t=>{e.forEach((e,n)=>{n===t?e.classList.add("active"):e.classList.remove("active")}),n.forEach((e,n)=>{n===t?e.style.display="block":e.style.display="none"})};e.forEach((e,n)=>{e.onclick=()=>r(n),e.classList.contains("active")&&(t=n)}),r(t)}p()},[i]),i)?r.createElement("div",null,r.createElement(O.fu,{name:"Help Center Article",properties:{articleId:i.id}},r.createElement(eN,null),!!n&&3===l&&r.createElement("h3",{className:"third_level_resources--breadcrumb--yQHOD"},n.title," /"," ",r.createElement("span",{className:R.cx.fpl__textBodySmallStrongFontWeight.$},i.name)),r.createElement("h1",{className:R.cx.lh24.fontSemiBold.font16.fontInter.pt0.px16.pb12.$},i.name),r.createElement("div",{className:"third_level_resources--container--RY81c",ref:o},r.createElement("div",{className:F()(R.cx.p16.pt8.$,ex),dangerouslySetInnerHTML:{__html:eO().sanitize(i.body)}}),e,r.createElement(eL,{image:s,onClose:()=>c(void 0)})))):null}function eL({image:e,onClose:t}){let n=ek.hS({open:!!e,onClose:t});return r.createElement(eC.bL,{manager:n,width:"fit-content"},r.createElement("div",{className:"third_level_resources--enlargedImageContainer--EqCOz"},r.createElement(eA.vo,null,r.createElement(es.oW,{src:e?.src,alt:e?.alt,className:"third_level_resources--enlargedImage--l3atX"}))))}function eF(){let e=(0,eo.Xr)(X.J9),t=(0,a.md)(X.Zf),n=(0,a.md)(X.QU);if(!t)return null;let l=null;return t.resource===ep.DESIGN_FIRST_BUTTON?r.createElement(eR,{afterArticleChildren:n&&0xcce00915a97===n.id?r.createElement(eK,null):void 0}):t.resource===ep.VIDEO_TUTORIALS?(e(1),null):(l=r.createElement(eV,{details:function(e){switch(e){case 0:return{description:(0,G.t)("in_product_help_and_learning.popular_resources.new_to_figma.details.description"),webm:"https://static.figma.com/uploads/6db4a35b80ddb5910781af9bc60c66bf902dff3a",mp4:"https://static.figma.com/uploads/88dea447c3d80062d168b864c9c01aa5645790e5",articles:ed(0)};case 1:return{description:(0,G.t)("in_product_help_and_learning.popular_resources.explore_more_features.details.description"),webm:"https://static.figma.com/uploads/23c86354e978f77d1ca96b6cc52dfdc216f5a99d",mp4:"https://static.figma.com/uploads/fd204bb233c3be09b2e29f8621d93342c24b07af",articles:ed(1)};case 2:return{description:(0,G.t)("in_product_help_and_learning.popular_resources.create_components.details.description"),webm:"https://static.figma.com/uploads/0f0aad5b442ba063078c23b06010aab77ecf0c07",mp4:"https://static.figma.com/uploads/34285a0d04fb97f14cc2611ddc825950aec93300",articles:ed(2)}}}(t.resource)}),r.createElement("div",null,r.createElement(O.fu,{name:"Second Level"},r.createElement(eN,null),r.createElement("div",{className:R.cx.flex.flexColumn.p16.pt8.pb0.$},r.createElement("p",{className:R.cx.font16.colorText.fpl__textHeadingLargeFontWeight.pb8.$},t.title),l))))}let eD=(0,O.tf)(J.$n);function eV({details:e}){let t=(0,X.Yj)(),n=(0,eo.Xr)(X.J9),l=(0,eo.Xr)(X.QU);return r.createElement(r.Fragment,null,r.createElement("p",null,e.description),r.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:R.cx.wFull.hAuto.borderBox.mt16.bRadius5.$},r.createElement("source",{type:"video/webm",src:e.webm}),r.createElement("source",{type:"video/mp4",src:e.mp4})),r.createElement("div",{className:R.cx.flex.flexColumn.gap16.pt24.$},e.articles.map(e=>r.createElement("span",{key:e.displayString,className:R.cx.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$},r.createElement(eD,{variant:"link",trackingProperties:{articleId:e.articleId},onClick:async()=>{let r=await t(e.articleId);r&&(n(3),l(r))}},e.displayString)))))}function eK(){let e=(0,X.Yj)(),t=(0,eo.Xr)(X.QU);return r.createElement("button",{key:"design-an-interactive-button",className:R.cx.radiusMedium.b1.colorBorder.flex.flexRow.m16.cursorPointer.overflowHidden.$,style:ec.sx.add({height:"74px"}).$,onClick:async()=>{let n=await e(20953528101783);n&&t(n)}},r.createElement(es.oW,{src:"https://static.figma.com/uploads/c657cef6e7f2fec74ceef573832e097f2d0ce4cd",alt:"",style:ec.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),r.createElement("div",{className:R.cx.flex.flexColumn.gap2.m12.font11.ellipsis.alignLeft.$,style:ec.sx.add({margin:"auto 12px"}).$},r.createElement("p",{className:R.cx.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,G.tx)("in_product_help_and_learning.article.design_an_interactive_button")),r.createElement("p",{className:R.cx.colorTextSecondary.$},(0,G.tx)("in_product_help_and_learning.design_an_interactive_button.description")," \u2022"," ",(0,G.tx)("in_product_help_and_learning.minute_estimate",{minutes:20}))))}var eU=n(346124),eB=n(448169),eG=n(259927),eH=n(544403),eY=n(96225);function eW({view:e}){let{inProductHelpViewType:t}=(0,X.A5)(),n=(0,w.J2)(i.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==t?null:r.createElement(eB.V,null,r.createElement(eY.X,null,r.createElement(eH.lY,{className:F()("dynamic_panel--sidePanelPosition--YOgLo",eG.Dm),size:n,onResize:e=>{!function(e){let t=(0,eU.clamp)(e,X.Jm,X.tL);i.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0},r.createElement("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${n}px`},"data-testid":"in-product-help-side-panel"},e))))}function e$({propertiesPanelWidth:e,isInsetEditorEnabled:t}){let n;let{inProductHelpViewType:l,updateInProductHelpViewOnWindowWidthResize:i}=(0,X.A5)(),o=(0,a.md)(X.J9);return(1===o?n=r.createElement(ev,{isFloatingModal:"floating_modal"===l}):2===o?n=r.createElement(eF,null):3===o&&(n=r.createElement(eR,null)),r.useEffect(()=>{let e=(0,M.s)(()=>{"hidden"!==l&&i()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[l,t,e,i]),"side_panel"===l)?r.createElement(O.fu,{name:"In Product Help Panel"},r.createElement(eW,{view:n})):"floating_modal"===l?r.createElement(O.fu,{name:"In Product Help Floating"},r.createElement(ew,{propertiesPanelWidth:e,isInsetEditorEnabled:t,view:n})):null}var ez=n(215122),eQ=n(534611),eX=n(91408),ej=n(498750),eJ=n(153234),eZ=n(763658),eq=n(139588),e0=n(906899),e1=n(169231),e5=n(369870),e4=n(279145),e2=n(236192),e3=n(233890),e6=n(656147),e7=n(184027),e8=n(69814);function e9(){return null}var te=n(618056),tt=n(316081),tn=n(753243),tr=n(750693),tl=n(270296),ti=n(520411),ta=n(378905),to=n(516398),ts=n(848661),tc=n(416095),tp=n(243742),td=n(10199),tu=n(946689),tm=n(293017),tE=n(927990),t_=n(502242),th=n(144119),ty=n(452883),tg=n(125944),tS=n(766022),tb=n(320986);function tf({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:a,onCreate:o,recordingKey:s}){let c=(0,l.wA)(),p=(0,l.d4)(e=>e.mirror.selectedStyleProperties),d=(0,l.d4)(e=>e.mirror.sceneGraphSelection),u=r.useRef(Object.keys(d).length>0),[m,E]=r.useState(!u.current&&void 0),_="ui3"===(0,tp.DP)().version,h=(0,th.sO)(),[y,g]=r.useState((0,ty.$)()),S=h&&(0,tg.Rc)(n),{styleRef:b,createStyle:f}=(0,tE.u)({inheritStyleKeyField:a,isCreatingFromSelection:u.current,trackingOptions:{styleType:n},shouldUseEyedropperStyleCreationFlow:!1}),v=eJ.of(s,"submit",()=>{let e=f();S&&i.Ez5.slideThemeLibBindings().addStyleToLocalTheme(e||"",y),c(tm.XE()),c(tm.Uv()),c(e0.sw()),o&&o(e||"")}),T=(0,l.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return p.styleType?r.createElement(e7.zK.Provider,{value:e7.zM.CREATE_STYLE},r.createElement(eP.vx,{title:(e=>{switch(e){case"FILL":return(0,G.t)("design_systems.create_style.color");case"TEXT":return(0,G.t)("design_systems.create_style.text");case"EFFECT":return(0,G.t)("design_systems.create_style.effect");case"EXPORT":return(0,G.t)("design_systems.create_style.export");case"GRID":return(0,G.t)("design_systems.create_style.grid");default:return(0,G.t)("design_systems.create_style.create_new_style_generic")}})(p.styleType),headerSize:"small",initialWidth:tS.tA,initialPosition:e,onClose:()=>{c(e0.sw())},recordingKey:eJ.Pt("createStyleModal"),dragHeaderOnly:!0},r.createElement("div",{className:tb.FY},r.createElement(t_.O8,{type:p.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:p,showProperties:m,onEnterPressed:v,showSlideThemeField:S,slideThemeId:y,setSlideThemeId:g}),!b&&r.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},(0,G.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")),r.createElement(td.AutoLayout,{horizontalAlignItems:u.current?void 0:"end",verticalAlignItems:"center",spacing:u.current?"auto":void 0,padding:_?8:16},u.current&&r.createElement(J.$n,{variant:"link",onClick:()=>E(!m),recordingKey:eJ.Pt("createStyleModal","moreOptions")},m?(0,G.tx)("design_systems.create_style.hide_options"):(0,G.tx)("design_systems.create_style.show_more_options")),r.createElement(tu.$$,{style:{justifySelf:"right"},onClick:v,disabled:!T||!b,tabIndex:0},(0,G.tx)("design_systems.create_style.create_style")))))):null}var tv=n(663668),tT=n(601607);function tP(e){let t=(0,l.wA)(),n=(0,eQ.dI)(e.selectedStyleProperties.guid),i="",a="",[o,s]=(0,tT.Fk)((t,n)=>{if(e.externalStyle)return["",""];let r=t.get(n);return[r?.name||"",r?.styleDescription||""]},n);return e.externalStyle?(i=e.externalStyle.name||"",a=e.externalStyle.description_rt?(0,tv.A)(e.externalStyle.description_rt):e.externalStyle.description||""):(0,eQ.dI)(e.selectedStyleProperties.guid)&&(i=o,a=(0,tv.A)(s)),r.createElement(e7.zK.Provider,{value:e7.zM.EDIT_STYLE},r.createElement(t_.O8,{type:e.selectedStyleProperties.styleType,recordingKey:e.recordingKey,onEnterPressed:()=>t(e0.sw()),styleName:i,styleDescription:a,...e}))}var tw=n(381915),tI=n(875157),tN=n(154483),tk=n(733169),tC=n(132135),tA=n(321487),tM=n(540019),tO=n(7959);let tx=(0,tN.fv)();function tR(e){let t=(0,tc.IW)(e.stylePreviewShown),n=tx(t),l=tM.M4.File.useValue(n).data,i=(0,tk.S)(l?.key).unwrapOr(!1);if(!t||!l)return null;let a=(0,tC.to)(l);return a=(0,V.dR)(a,{"node-id":encodeURIComponent((0,tA.E)(t.node_id))}),r.createElement(eZ.k,{name:"external_style_options"},r.createElement(tO.Zk,{key:"external-style-options"},i&&r.createElement(tO.fI,null,r.createElement(tu.N_,{className:tb.lf,href:a,target:"_blank",trusted:!0},(0,G.tx)("fullscreen.properties_panel.go_to_style_definition_to_edit")))))}function tL(e){let t=e.target;if(t){let n=t.tagName,r=t.type;n&&"INPUT"===n.toUpperCase()&&r&&"TEXT"===r.toUpperCase()||t.isContentEditable||e.preventDefault()}}function tF({children:e,showRightSidebarPill:t}){let n=r.useRef(null);(0,to.C_)(n);let l=(0,ti.U1)(n),i=(0,E.b)(),a=(0,b.qM)();return r.createElement("div",{ref:l,className:F()(tb.KE,{[tb.tM]:t,[tb.Ph]:i&&!a})},e)}function tD(e){if(!e.stylePreviewShown.isShown||![i.FAf.DESIGN,i.FAf.SITE,i.FAf.INSPECT].includes(e.propertiesPanelTab))return null;let t=e.selectedStyleProperties,n=new eT.Mi(e.stylePreviewShown.rowLeft-tS.tA,e.stylePreviewShown.rowTop);if(e.stylePreviewShown.isCreating){let{styleType:t,inheritStyleKeyField:l,styleNameInputPrefix:i}=e.stylePreviewShown;return r.createElement(tf,{recordingKey:"createStyleModal",initialPosition:n,styleNameInputPrefix:i,styleType:t,inheritStyleKeyField:l})}{let l=!(0,ta.eE)(e.stylePreviewShown.style,e.openFile),a=l||!e.openFile?.canEdit||e.appModel.topLevelMode===i.lyf.BRANCHING,o=(0,eQ.dI)(t.guid);return(o&&e.library.local.styles[o]&&!e.library.local.styles[o].is_soft_deleted||l)&&e.selectedStyleProperties.guid?r.createElement(e7.zK.Provider,{value:e7.zM.EDIT_STYLE},r.createElement(eP.vx,{title:function(e,t){if(t)switch(e){case"FILL":return(0,G.t)("design_systems.styles.view_color_style");case"TEXT":return(0,G.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,G.t)("design_systems.styles.view_effect_style");case"GRID":return(0,G.t)("design_systems.styles.view_grid_style");default:return(0,G.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,G.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,G.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,G.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,G.t)("design_systems.styles.edit_grid_style");default:return(0,G.t)("design_systems.styles.edit_style")}}(t.styleType,a),key:(0,tc.Gj)(e.stylePreviewShown.style),headerSize:"small",initialWidth:tS.tA,initialPosition:n,onClose:e.onCloseStylePreviewModal,recordingKey:e.recordingKey,dragHeaderOnly:!0},r.createElement("div",{className:tb.FY},r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(tV,{selectedStyleProperties:e.selectedStyleProperties,openFile:e.openFile,propertiesPanelTab:e.propertiesPanelTab,appModel:e.appModel,stylePreviewShown:e.stylePreviewShown,library:e.library,dispatch:e.dispatch,recordingKey:e.thumbnailRecordingKey})),r.createElement(tt.VF,{isVisible:l},()=>r.createElement(tR,{stylePreviewShown:e.stylePreviewShown,user:e.user}))))):null}}function tV(e){let t=(0,tc.IW)(e.stylePreviewShown),n=e.openFile?.canEdit,l=!!t||!n||e.appModel.isReadOnly;return r.createElement(tP,{key:"style-preview-panel",selectedStyleProperties:e.selectedStyleProperties,isInspectPanel:e.propertiesPanelTab===i.FAf.INSPECT,stylePreviewShown:e.stylePreviewShown,externalStyle:t,isRenaming:e.library.isRenamingSelectedStyle,viewOnly:l,recordingKey:e.recordingKey})}function tK(e){return r.createElement(e3.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:e.onKeyDown},r.createElement(eB.V,{className:F()(tb.Lp,{[tb.Ph]:e.isInsetEditorEnabled})},r.createElement(x.P,{ref:e.refMainScrollContainer,className:F()(tb.ux,tb.KE,eG.Dm,{[tb.eu]:e.shouldAnimate,[tb.Ph]:e.isInsetEditorEnabled}),width:tl.iP,hideScrollbar:!0,scrollingDisabled:!0},r.createElement("div",{className:tb.eh,"data-non-interactive":!0},r.createElement(tw.B7,null))),e.stylePreviewShown.isShown&&e.stylePreviewModal))}function tU(e){return!(!e||(0,ts.gl)(e))&&e.length>0}function tB(e){if(e.numSelectedByType)return(0,tI.aZ)(i.rrT.FILL,e.numSelectedByType)}function tG({selectionProperties:e,shownPanels:t,selectionPaints:n,appModel:i,dropdownShown:a,sceneGraphSelection:o,colorFormat:s,pickerShown:c,stylePickerListLayout:p,library:d}){let u=(0,l.wA)(),m=(0,h.GS)(),E=(0,H.q5)(),_=tU(e.pasteSources),y=(0,tl.fI)(t,(0,tl.NR)(t),n),g=(0,tt.Q3)(()=>r.createElement(tr.UA,{key:"selection-paints",recordingKey:"selectionPaintsPanel",isUI3:m,selectionPaints:n,dispatch:u,dropdownShown:a,sceneGraphSelection:o,currentSelectedGradientStop:i.currentSelectedGradientStop,pickerShown:c,stylePickerListLayout:p,currentTool:i.currentTool,colorFormat:s,editModeType:i.activeCanvasEditModeType,defaultColor:te.rC,library:d,openFile:E,customColorPicker:tn.GY,hideCustomColorPickerFillTypeToggle:!1}));return r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(e9,{recordingKey:"constrainedEditPanel"})),!(null)()&&r.createElement(e9,{shownPanels:t}),r.createElement(e9,{shownPanels:t,showInstancePanel:(0,tl.M0)(t,_),selectionPaintsPanel:g,showSelectionPaints:y}))}function tH({appModel:e,dropdownShown:t,saveAsState:n}){let l=(0,H.q5)(),i=(0,e4.Nf)(e);return r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(e9,{key:"export",recordingKey:"exportsPanel",openFile:l,currentPage:i,dropdownShown:t,saveAsState:n,panelWidth:tl.iP}))}function tY(){return r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(e9,{recordingKey:"constrainedEditPanel"})))}function tW(){return r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(e9,null)))}var t$=n(644106);function tz(){let e=(0,v.KH)();return r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(t$.Ug,{selection:e})))}var tQ=n(697551),tX=n(914905),tj=n(951158),tJ=n(776621),tZ=n(992741),tq=n(109388),t0=n(196367),t1=n(841368),t5=n(794272),t4=n(456363),t2=n(46481),t3=n(632430),t6=n(498606),t7=n(420186),t8=n(832637),t9=n(529358),ne=n(376503),nt=n(939791),nn=n(161459);let nr="pencil_tool_panel--advancedStroke--1497y";var nl=n(362679),ni=n(13556),na=n(306413);function no(e){let t="stroke-settings",[n,o]=(0,a.fp)(t4.GI),s=n.paints||[],c=(0,l.wA)(),p=r.useContext(e7.zK),d=()=>null!=p,u=e=>e.stopPropagation(),m=r.useRef(null),E=()=>{if(e.pickerShown?.id===t)c(tm.XE());else{if(!m)return;let e=tq.findDOMNode(m.current),n=(0,t7.cn)(e);c(tm.u1({id:t,initialX:n.x,initialY:n.y}))}},_=e=>{o({paints:e}),te.Tm.clearCache()},h=e=>{let{strokeWeight:t,dashPattern:n}=e,r=(0,ts.E7)(t);r&&o({strokeWeight:r});let l=(0,ts.E7)(n);l&&o({dashPattern:l})},y=e=>{let t=s.filter((t,n)=>!e.has(n));0===t.length&&(t=[s[0]]),_(t)},g=(e,{fromSearch:t}={})=>{c(t3.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:S}=(0,tp.DP)(),b=!!n.styleId||s.length>0,f=e.pickerShown?.id===t,v=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,T=r.createElement(t9.v9,{strokeWeight:n.strokeWeight||nn.wv,onChange:h,recordingKey:eJ.Pt(e,"weight")}),P=r.createElement(ne.qR,{className:"ui3"===S?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,ne.Hd)(n.strokeCap||"ROUND")||"ROUND",onChange:e=>{o({strokeCap:e})},recordingKey:eJ.Pt(e,"dashCap")}),w=(0,K.kc)().ce_tv_fpl_dialog_trigger_button?r.createElement("span",{className:nr},r.createElement(t0.d,{onClick:E,toggled:f,"aria-label":(0,G.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:eJ.Pt(e,"more"),htmlAttributes:{onMouseDown:u,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("fullscreen.pencil_tool.advanced_stroke_settings")}},r.createElement(t2.U,{svg:nl.A,fallbackSvg:ni.A},r.createElement(t1.J,null)))):r.createElement(tO.YW,{svg:nl.A,fallbackSvg:ni.A,className:nr,onClick:E,onMouseDown:u,selected:f,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:eJ.Pt(e,"more")});return r.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},r.createElement(tO.Zk,null,r.createElement(tr.W4,{title:(0,G.t)("fullscreen.pencil_tool.stroke"),propertyList:s,onChange:_,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:i.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{eh.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>y(e),onReorder:()=>{te.Tm.clearCache()},renderProperty:(t,n,l,a,o,p,u,m,E)=>{let _=d()?"preview-paint":"paint",h=te.Tm.getId(n,i.rrT.STROKE_PRESET,_),b=s.slice(0,n).some(e=>e.visible);return r.createElement(tr.Gg,{key:`paint-${n}`,id:h,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===s.length,selectedPropertyType:i.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?e.pickerShown?.id===h:l,isDragging:a,hasFocus:o,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:p,onApplyStyle:g,onMouseDown:u,onMouseMove:m,onMouseUp:E,onRemovePaint:s.length>1?()=>y(new Set([n])):void 0,hideVisibilityToggle:1===s.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:i.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:c,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:te.Em,library:e.library,openFile:e.openFile,recordingKey:eJ.Pt(e,n),variableScopes:new Set([i.j0r.STROKE]),isUI3:"ui3"===S,hasVisiblePaintBelow:b})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:n.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{c(tm.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:g,defaultColor:te.rC}),b&&("ui3"===S?r.createElement(nt.fn,{ref:m,leftLabel:(0,G.tx)("fullscreen.properties_panel.section_stroke.label_weight"),leftInput:T,rightLabel:(0,G.tx)("fullscreen.properties_panel.section_stroke.label_end_cap"),rightInput:P,icon:w}):r.createElement(tO.fI,{ref:m},T,P,w))),v&&r.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},r.createElement(t8.u,{title:(0,G.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:na.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,G.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),f&&e.pickerShown&&r.createElement(ne._2,{onChange:h,strokePanelMode:i.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:n.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:n.strokeWeight||nn.wv,dashPattern:n.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:eJ.Pt(e,"advanced")}))}function ns(e){let t=(0,y.Ku)(),n=(0,H.q5)(),l=(0,t5.R)(e=>({currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}));return r.createElement(no,{...l,...e,openFile:n,colorFormat:t})}var nc=n(459593),np=n(971612),nd=n(927457),nu=n(86625),nm=n(743282),nE=n(268537),n_=n(738269),nh=n(582626),ny=n(284321),ng=n(405206),nS=n(298543),nb=n(804846),nf=n(332075),nv=n(900086),nT=n(690710),nP=n(31524),nw=n(404095),nI=n(522739),nN=n(865618),nk=n(798099),nC=n(286285),nA=n(215440),nM=n(227795),nO=n(893606),nx=(e=>(e[e.VERTICAL=0]="VERTICAL",e[e.MIDDLE_CHILD=1]="MIDDLE_CHILD",e[e.LAST_CHILD=2]="LAST_CHILD",e))(nx||{});function nR(e){let{lineConfiguration:t,hideLine:n,wideContainer:l}=e;return r.createElement("div",{className:l?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&r.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return r.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return r.createElement(r.Fragment,null,r.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),r.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return r.createElement(r.Fragment,null,r.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),r.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let nL="bubbled_instances_list--minusIcon--dY8i-",nF="bubbled_instances_list--instanceIcon--aRlGl",nD="bubbled_instances_list--instanceName--09LuV",nV="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",nK="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",nU="bubbled_instances_list--ui3LineContainer--OdBbV",nB="bubbled_instances_list--ui3Line--SIYpX";var nG=n(968109),nH=n(349307);function nY(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:a,scrollableContainer:o}=e,s=(0,l.d4)(nA.K4),c=(0,nO.R)(),[p,d]=(0,r.useState)(!1),u=t?s:s?.filter(e=>e.isBubbled),m=e=>{nu.l7.user("toggle-props-bubbled",()=>i.glU.togglePropsAreBubbled(e)),i.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},E=e=>{i.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},_=()=>{i.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},h=0,y=c&&!t&&!p&&null!=u&&u.length>5,g=y?u.slice(0,4):u;return y&&(h=u.length-4),r.createElement("div",{className:F()({"bubbled_instances_list--scrollableContainer--ob0LQ":o})},g?.map((l,i)=>{let o=l.connectedGUIDs.slice(0).sort();return r.createElement(nI.D8,{className:"bubbled_instances_list--instanceSection--tLYN0",key:i,onMouseEnter:()=>E(l.connectedGUIDs),onMouseLeave:_,recordingKey:eJ.Pt(e,o[0])},c?t?r.createElement(nQ,{data:l,showNumHidden:n,onUnbubbleInstance:m,recordingKey:eJ.Pt(e,"checkbox",o[0]),wideContainer:a}):r.createElement(n$,{data:l,onUnbubbleInstance:m,recordingKey:eJ.Pt(e,"unbubble",o[0]),wideContainer:a}):r.createElement(r.Fragment,null,r.createElement(nR,{lineConfiguration:nx.VERTICAL,hideLine:0===l.bubbledNestedInstances.length,wideContainer:a},t?r.createElement(nW,{data:l,onUnbubbleInstance:m,showNumHidden:n,wideContainer:a,recordingKey:eJ.Pt(e,"checkbox",o[0])}):r.createElement(r.Fragment,null,r.createElement(et.B,{className:nF,svg:nG.A}),r.createElement("p",{className:a?nV:nD},l.name),r.createElement(nM.K0,{className:nL,svg:nH.A,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":G.t("design_systems.component_properties.unbubble_instance"),onClick:()=>{m(l.connectedGUIDs[0])},recordingKey:eJ.Pt(e,"unbubble",o[0])}))),l.bubbledNestedInstances.map((e,t)=>r.createElement("div",{key:t},r.createElement(nR,{lineConfiguration:t===l.bubbledNestedInstances.length-1?nx.LAST_CHILD:nx.MIDDLE_CHILD,wideContainer:a},r.createElement("div",{className:a?nV:nD},e.name))))))}),c&&!p&&h>0&&r.createElement(nC.t8,{label:(0,G.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:h}),onClick:()=>d(!0)}))}function nW({data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:l,recordingKey:i}){return r.createElement("div",{className:l?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},r.createElement(nN.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:i}),n&&!!e.numHidden&&r.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},(0,G.tx)("design_systems.component_properties.num_hidden",{num:e.numHidden})))}function n$({data:e,onUnbubbleInstance:t,recordingKey:n,wideContainer:l}){let{bubbledNestedInstances:i}=e,a=r.createElement(nt.DE,{label:null,input:r.createElement("div",{className:nK},r.createElement("div",{className:nF},r.createElement(nP.y,null)),r.createElement("p",{className:nD},e.name)),icon:r.createElement("div",{className:nL},r.createElement(z.K,{"aria-label":(0,G.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},recordingKey:n,htmlAttributes:{"data-tooltip":(0,G.t)("design_systems.component_properties.unbubble_instance"),"data-tooltip-type":t6.Ib.TEXT,onMouseDown:nk.dG}},r.createElement(nw.f,null)))});return 0===i.length?a:r.createElement(nz,{data:e,row:a,wideContainer:l})}function nz({data:e,row:t,wideContainer:n}){return r.createElement(nC.R$,{row:t,isCollapsedByDefault:!0},e.bubbledNestedInstances.map((e,t)=>r.createElement("div",{key:t},r.createElement(nt.DE,{label:null,input:r.createElement("div",{className:nK},r.createElement("div",{className:nU},r.createElement("div",{className:nB})),r.createElement("div",{className:n?nV:nD},e.name)),icon:null}))))}function nQ({data:e,onUnbubbleInstance:t,recordingKey:n,showNumHidden:l,wideContainer:i}){return r.createElement(r.Fragment,null,r.createElement(nt.Ad,{label:null,input:r.createElement(nW,{data:e,onUnbubbleInstance:t,showNumHidden:l,wideContainer:i,recordingKey:n})}),e.bubbledNestedInstances.map((e,t)=>r.createElement("div",{key:t},r.createElement(nt.Ad,{label:null,input:r.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},r.createElement("div",{className:nU},r.createElement("div",{className:nB})),r.createElement("div",{className:i?nV:nD},e.name))}))))}var nX=n(273226);function nj(){let e="bubbledPropsPicker",t=(0,l.d4)(e=>e.pickerShown),n=(0,l.wA)(),i=new eT.Mi(t?.initialX,t?.initialY);return t?.id!==nX.Dd?null:r.createElement(eP.vx,{title:(0,G.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:i,initialWidth:nX.wh,headerSize:"small",onClose:()=>{n(tm.XE())},recordingKey:e},r.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},r.createElement(nY,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var nJ=n(476951),nZ=n(25888),nq=n(107244),n0=n(563769);let n1="props_panel--addButtonContainer--a58gi",n5="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",n4="props_panel--dropdownRowWithIcon--03FtD",n2="props_panel--dropdownRowWithoutIcon--F8Ra-",n3="props_panel--bubbledInstancesHeading--C26v2";var n6=n(633779),n7=n(100562),n8=n(501191);function n9({recordingKey:e}){let t=(0,l.wA)(),{version:n}=(0,tp.DP)(),a="ui3"===n,o=(0,l.d4)(nT.i$),s=(0,l.d4)(nq.od),c=!(0,l.d4)(nZ.Jp),p=(0,l.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===nX.C4),d=(0,l.d4)(e=>!!e.modalShown&&e.modalShown.type===nJ.n.type),{componentDescription:u}=(0,nb.z6)(),m=(0,l.d4)(e=>e.pickerShown),E=p||d||m?.id===nX.Dd,_=!!(0,l.d4)(nA.Z3).length,h=(0,l.d4)(nA.K4),y=!!h?.length,g=(0,l.d4)(ny.Dr),S=(0,l.d4)(ny.Ct),{submit:b,apply:f}=(0,nh.wP)(),v=r.useRef(null),T=r.useRef(null),P=r.useCallback(e=>{m&&t(tm.XE()),p?t(n_.oB()):t(n_.j7({type:nX.C4}))},[t,m,p]),w=r.useCallback(e=>{(0,nX.Pp)(s,!1,e,nX.Fv.ICON),t(e_.to({type:nJ.n,data:{propType:e}}))},[t,s]),I=r.useCallback(()=>{s&&(s.isLooseComponent?eh.Y5.triggerActionInUserEditScope("create-state-group"):w(i.J0O.VARIANT))},[w,s]),N=r.useCallback(()=>{let e=tq.findDOMNode(T.current),n=e?(0,t7.cn)(e,nX.wh):{};t(tm.u1({id:nX.Dd,initialX:n?.x,initialY:n?.y}))},[t]),k=r.useCallback(async()=>{if(!s)return;let e=(await b({components:[s],clientLifecycleId:(0,nm.g)()}))[0];e&&nu.l7.user("apply-suggested-props",()=>{f(e)})},[b,f,s]),C=s?.type==="CODE_COMPONENT",A=(0,K.kc)().ds_variable_props_unified_ui?[...(0,K.kc)().ds_variable_props_number_type?[i.J0O.NUMBER]:[],i.J0O.TEXT,i.J0O.BOOL,...C?[]:[i.J0O.INSTANCE_SWAP]]:[i.J0O.BOOL,...C?[]:[i.J0O.INSTANCE_SWAP],i.J0O.TEXT,...(0,K.kc)().ds_variable_props_number_type?[i.J0O.NUMBER]:[]];return s?r.createElement(tO.Zk,{ref:T},r.createElement(nb.QQ,null),a&&!c?r.createElement(nf.n,{description:u}):null,r.createElement(a?rt:re,{isPanelEmpty:c,isAddPropButtonSelected:E,hasBubbledInstances:_,stateGroupSelectionMode:o,selectAddPropOptionRef:v,toggleAddPropDropdown:P,recordingKey:e}),p&&v.current&&r.createElement(nS.Cf,{targetRect:v.current.getBoundingClientRect(),propagateCloseClick:!0},r.createElement(nE.c$,{disabled:!0,className:n2},(0,G.tx)("design_systems.component_properties.create_new_property")),!C&&r.createElement(nE.c$,{className:n4,onClick:I,recordingKey:eJ.Pt("openCreatePropModal",(0,nX.xb)(i.J0O.VARIANT))},r.createElement(ng.Nu,null,r.createElement(t2.U,{svg:n7.A},r.createElement(nc.m,null))),(0,G.tx)("design_systems.component_properties.across_variants")),A.map(e=>r.createElement(nE.c$,{key:e,className:n4,onClick:()=>w(e),recordingKey:eJ.Pt("openCreatePropModal",(0,nX.xb)(e))},r.createElement(ng.Nu,null,r.createElement(t2.U,{svg:(0,nX.qe)(e)},(0,nX.zn)(e,!0))),(0,nX.xb)(e))),y&&r.createElement(r.Fragment,null,r.createElement(nE.wv,null),r.createElement(nE.c$,{disabled:!0,className:n2},(0,G.tx)("design_systems.component_properties.expose_nested_instances")),r.createElement(nE.c$,{className:n4,onClick:N,recordingKey:"openBubbledPropPicker"},r.createElement(ng.Nu,null,r.createElement(t2.U,{svg:n6.A},r.createElement(np.M,null))),(0,G.t)("design_systems.component_properties.choose_instances"))),(0,K.kc)().first_draft_suggest_props&&r.createElement(r.Fragment,null,r.createElement(nE.wv,null),r.createElement(nE.c$,{className:n4,onClick:k,recordingKey:"suggestProps"},r.createElement(ng.Nu,null,r.createElement(t2.U,{svg:n6.A},r.createElement(np.M,null))),(0,G.t)("first_draft.suggest_properties")))),m?.id===nX.Dd&&r.createElement(nj,null),r.createElement(nC.e6,{containerWidth:a?nX.O2.RESIZABLE_SIDEBAR:nX.O2.REGULAR,propDimension:nX.OE.DEFINITION,guids:[s.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:null}),_&&r.createElement(r.Fragment,null,r.createElement("p",{className:n3},(0,G.t)("design_systems.component_properties.bubbled_instances")),r.createElement(nY,{recordingKey:e})),a&&g&&S?r.createElement(nt.Ad,{label:null,input:r.createElement(nv.U,null)}):null):null}function re({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:a,toggleAddPropDropdown:o}){return r.createElement(tO.fI,{className:!e||t||n?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},r.createElement(tO.xw,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},(0,G.tx)("design_systems.component_properties.properties")),l!==i.iCO.STATE&&r.createElement("div",{ref:a,className:n1},r.createElement(tO.YW,{className:n5,onClick:o,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("design_systems.component_panel.create_component_property"),svg:n8.A,recordingKey:"openCreatePropModalDropdown"})))}function rt({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:a,toggleAddPropDropdown:o}){let s=r.useRef(null),c=e&&!n?(0,G.tx)("design_systems.component_properties.add_property"):(0,G.tx)("design_systems.component_properties.properties"),p=eJ.rf("openCreatePropModalDropdown","click",o),d=eJ.rf("openCreatePropModalDropdown","mousedown",e=>e?.stopPropagation());return r.createElement(nt.DE,{onClick:p,onMouseDown:d,ref:s,input:c,label:null,appendedClassName:F()("props_panel--ui3PanelHeaderRow--Ab8Jz",{[n0.yf]:!t}),icon:l!==i.iCO.STATE?r.createElement("div",{ref:a,className:F()(n1)},r.createElement(tO.YW,{className:n5,selected:t,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("design_systems.component_panel.create_component_property")},r.createElement(nd.e,null))):void 0})}var rn=n(634832),rr=n(358145),rl=n(886653),ri=n(437304),ra=n(286640),ro=n(395281),rs=n(452246),rc=n(237929),rp=n(444576),rd=n(945020),ru=n(173454),rm=n(602029),rE=n(463420),r_=n(96796),rh=n(937036),ry=n(255942),rg=n(837746);let rS="styles--contextMenu--C-hVT",rb="styles--showOnRowHover--OUqRT",rf="styles--showOnSelectedRowHover--Lcf7e styles--showOnRowHover--OUqRT",rv="styles--caret--DZmzh",rT="styles--rowSelectedExpanded--MGvUV",rP="styles--rowSelectedSecondaryLightBlue--S-zy- draggable_list--rowSelectedSecondary--yOI1g raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip";function rw({childLeft:e,childRight:t,deleteSelectedItems:n,forceShowHoverBorder:l,hideStylePreview:i,index:a,inspectStyleSelected:o,isDragging:s,isEditable:c,isRenaming:p,isCollapsed:d=!0,isLastChildOfSelection:u=!1,isFirstChildOfSelection:m=!1,isFolder:E,level:_,name:y,nameRef:g,onChildLeftClick:S,onContextMenu:b,onCreateFolder:f,onDoubleClick:v,onHoverChange:T,onMouseDown:P,onMouseMove:w,recordingKey:I,rowRef:N,secondaryName:k,selected:C,selectedSecondary:A,stopRenamingItem:M,tooltipData:O}){let x=r.useRef(null),[R,L]=r.useState(y),[D,V]=r.useState(!1),K=(0,h.GS)(),U=r.useCallback(e=>{if(e){let t=tq.findDOMNode(e);t&&t.select()}},[]);r.useEffect(()=>{L(y)},[y]);let B=r.useCallback(e=>{""===e.trim()?(M(a,y),L(y)):M(a,e)},[a,y,M]),G=(0,eJ.AF)((0,eJ.Pt)(I,"text-input"),"change",r.useCallback(e=>{L(e.currentTarget.value)},[L])),H=(0,eJ.v_)((0,eJ.Pt)(I,"text-input"),"keydown",e=>{e.keyCode===ej.Uz.ESCAPE?(M(a,y),L(y)):e.keyCode===ej.Uz.ENTER&&B(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),Y=(0,eJ.v_)(I,"keydown",e=>{c&&!p&&(e.keyCode===ej.Uz.BACKSPACE||e.keyCode===ej.Uz.DELETE)?n():c&&!p&&e.keyCode===ej.Uz.G&&(0,ej.Fo)(e)?(f(),e.preventDefault()):!p&&e.nativeEvent&&eh.Y5.forwardKeyboardEvent(e.nativeEvent)}),W=r.useCallback(()=>{B(R)},[B,R]),$=(0,eJ.rf)(I,"contextmenu",e=>{b(e)}),z=(0,eJ.rf)(I,"mousemove",e=>{w(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),Q=(0,eJ.rf)(I,"mousedown",e=>{P(e),i()}),X=(0,eJ.rf)(I,"mouseenter",r.useCallback(()=>{V(!0),T?.(!0)},[V,T])),j=r.useCallback(()=>{V(!1),T?.(!1)},[V,T]),J=(0,eJ.rf)(I,"dblclick",r.useCallback(e=>{v(e)},[v])),Z=Math.min((_-1)*3,18),q=rg.jNX-4-Z,ee=q-(K?7:5),et=D&&!p||o?ee:q,en=C||A,er=F()({[rT]:!d&&en,"styles--folderSecondarySelected--SL0JY":A||C&&!m,[rP]:A&&!K}),el=F()({[rP]:en,[rT]:!u&&en}),ei=F()("styles--rowWithBorder--bphZ-",{[er]:E,[el]:!E,"styles--rowWithHover--RWNMH":!en&&(l||D&&!s)}),ea=r.createElement("div",{className:p?"styles--rowContentsRenaming--oDTtO styles--rowContents--37JBy":"styles--rowContents--37JBy",key:y,style:K?{width:"100%"}:{gridColumnEnd:`span ${et}`}},p?r.createElement(tO.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"styles--input--LbjR0",onBlur:W,onChange:G,onKeyDown:H,ref:U,spellCheck:!1,value:R}):r.createElement(r.Fragment,null,r.createElement("div",{className:"styles--name--KWZ8d ellipsis--ellipsis--Tjyfa",ref:g,...O},y),k&&r.createElement("div",{className:"styles--textStyle--DiUv4"},k)));return r.createElement(rm.e,{className:ei,dragging:s,hideGrabber:!0,onContextMenu:$,onKeyDown:Y,onMouseDown:Q,onMouseEnter:X,onMouseLeave:j,onMouseMove:z,onDoubleClick:J,ref:(0,ry.A)(x,N),selected:C,selectedSecondary:!1,tabIndex:0},Z>0&&r.createElement("span",{style:{gridColumnEnd:`span ${Z}`}}),r.createElement("div",{className:"styles--childLeftContainer--Hu61K",style:K?{gridColumnEnd:`span ${et}`}:void 0},r.createElement("div",{onMouseDown:S&&nk.dG,onClick:S},e),K&&ea),!K&&ea,t)}var rI=n(949207),rN=n(432023),rk=n(660164);function rC({deleteSelectedItems:e,folder:t,folderNameToNestUnder:n,hideStylePreview:i,index:a,isCollapsed:o,isDragging:s,isEditable:c,isRenaming:p,isTemporarilyExpanded:d,isFirstChildOfSelection:u,level:m,onContextMenu:E,onCreateFolder:_,onMouseDown:h,onMouseMove:y,onRenameItem:g,recordingKey:S,selected:b,selectedSecondary:f,stopRenamingItem:v,temporarilyExpandFolder:T,toggleFolder:P}){let w=(0,l.wA)(),[I,N]=r.useState(!1),k=r.useRef(null),C=I&&!p&&c;r.useEffect(()=>{if(I&&s&&o){let e=setTimeout(()=>{T(t.name)},1e3);return()=>clearTimeout(e)}},[I,s,o,T,t]);let A=r.useCallback(()=>{let e=(0,rh.Zk)(t.styleTypeSection),n=k.current?.getBoundingClientRect();e&&n&&w(e0.Zs({rowLeft:n.left,rowTop:n.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:e}))},[k,t.name,t.styleTypeSection,w]);return r.createElement(rw,{deleteSelectedItems:e,forceShowHoverBorder:n===t.name,hideStylePreview:i,index:a,isDragging:s,isEditable:c,isRenaming:p,isCollapsed:o,isFolder:!0,isFirstChildOfSelection:u,level:m,name:(0,rc.kH)(t.name),onChildLeftClick:function(){P(!o)},onContextMenu:E,onCreateFolder:_,onDoubleClick:function(){t.styleTypeSection&&g(t.name,!1,t.styleTypeSection)},onHoverChange:N,onMouseDown:h,onMouseMove:y,onRenameItem:g,recordingKey:S,selected:b,selectedSecondary:f,stopRenamingItem:v,rowRef:e=>{e&&(k.current=tq.findDOMNode(e))},childLeft:r.createElement(t2.U,{svg:o&&!d?rN.A:rI.A,className:rv},o&&!d?r.createElement(rE.k,{className:rv}):r.createElement(r_.O,{className:rv})),childRight:C&&r.createElement(tO.$4,null,r.createElement(tO.K0,{className:b?rf:rb,recordingKey:eJ.Pt(S,"addButton"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("design_systems.styles.tooltips.create"),svg:n8.A,fallbackSvg:rk.A,onClick:A}))})}var rA=n(221768),rM=n(44892),rO=n(137906),rx=n(720384),rR=n(162502);function rL({deleteSelectedItems:e,hideStylePreview:t,index:n,isDragging:i,isEditable:a,isRenaming:o,isLastChildOfSelection:s,level:c,onContextMenu:p,onCreateFolder:d,onInspectStyle:u,onMouseDown:m,onMouseMove:E,onRenameItem:_,recordingKey:h,selected:y,selectedSecondary:g,stopRenamingItem:S,dsStyle:b,stylePreviewShown:f,updateContextMenuStyleRef:v,updateSelection:T,updateFocusRowRef:P}){let[w,I]=r.useState(!1),N=(0,l.wA)(),k=r.useRef(null),C=r.useRef(null),A=r.useCallback(()=>{a&&_(b.node_id,!0,b.style_type)},[_,b.node_id,b.style_type,a]),M=f.isShown&&!f.isCreating&&f.style.node_id===b.node_id&&(0,ta.EF)(f.style,b),O=w&&!o||M,x=r.useCallback(function(){let e=C.current;if(e){let t=e.getBoundingClientRect();M?N(e0.sw()):(N(e0.rk({style:b,rowTop:t.top,rowLeft:t.left})),u(b),T({type:b.style_type,folderNames:new Set,styleIds:new Set(b.node_id)}))}N(tm.XE())},[N,u,T,b,M]),R=r.useCallback(e=>{(2===e.button||e.ctrlKey)&&v(C.current),m(e),M&&x()},[x,m,M,v]),L=k.current,F=!!L&&L.offsetWidth<L.scrollWidth,D=r.useMemo(()=>!i&&b.description&&F?{"data-tooltip-type":t6.Ib.SPECIAL,"data-tooltip":rx.Z,"data-tooltip-style-name":(0,rc.kH)(b.name),"data-tooltip-style-description":b.description,"data-tooltip-max-width":rg.jNX*(0,eX.hG)(rg.dGl)}:null,[F,i,b.name,b.description]),V="TEXT"===b.style_type&&b.meta?.style_thumbnail?b.meta.style_thumbnail:null;return r.createElement(rw,{deleteSelectedItems:e,hideStylePreview:t,index:n,inspectStyleSelected:M,isDragging:i,isEditable:a,isRenaming:o,isFolder:!1,isLastChildOfSelection:s,level:c,name:(0,rc.kH)(b.name),nameRef:k,onContextMenu:p,onCreateFolder:d,onDoubleClick:A,onHoverChange:I,onMouseDown:R,onMouseMove:E,onRenameItem:_,recordingKey:h,rowRef:e=>{if(e){let t=tq.findDOMNode(e);P&&P(t),C.current=t}},secondaryName:V&&(0,rM.P$)(V),selected:y,selectedSecondary:g,stopRenamingItem:S,tooltipData:D,childLeft:r.createElement(r.Fragment,null,r.createElement(rO.zi,{dsStyle:b,disableTooltip:!0}),y&&"FILL"===b.style_type&&r.createElement("div",{className:"styles--selectedRing--UniEc"})),childRight:O&&r.createElement(tO.$4,null,r.createElement("div",{style:{gridColumnEnd:"span 1"}}),r.createElement(nM.YW,{className:y?rf:rb,recordingKey:eJ.Pt(h,"customButton"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":a?(0,G.t)("design_systems.styles.edit_style"):(0,G.t)("design_systems.styles.view_style"),selected:M,onMouseDown:nk.dG,onClick:x},r.createElement(t2.U,{svg:rR.A},r.createElement(rA.A,null))))})}function rF({styleType:e,children:t}){let n=!(0,v.p8)("isReadOnly");return r.createElement("div",{className:"styles--styleTypeSection--jPjTq component_tiles--section--qMua7"},n?r.createElement(rD,{styleType:e,recordingKey:`style-section-header-${e}`}):r.createElement("div",{className:"styles--styleTypeSectionHeader--224lA component_tiles--sectionHeader--eEC6d raw_components--panelTitle--VAQQA"},(0,tc.QT)(e)),t)}function rD({styleType:e,recordingKey:t}){let[n,i]=r.useState(!1),a=(0,l.wA)(),o=r.useRef(null),s=r.useCallback(()=>{let t=(0,rh.Zk)(e),n=o.current?.getBoundingClientRect();t&&n&&a(e0.Zs({rowLeft:n.left,rowTop:n.top,styleType:e,inheritStyleKeyField:t}))},[o,e,a]);return r.createElement(nI.D8,{className:"styles--styleTypeSectionRow--wVTIO",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),recordingKey:t,forwardedRef:o},r.createElement(tO.JU,{className:"styles--styleTypeSectionRowLabel--PrKm-"},(0,tc.QT)(e)),n&&r.createElement(nM.K0,{className:"styles--styleTypeSectionRowButton--V4Co2 styles--showOnRowHover--OUqRT",recordingKey:eJ.Pt(t,"addButton"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,tc.XV)(e).toLowerCase()}),svg:n8.A,fallbackSvg:rk.A,onClick:s}))}rF.displayName="StyleTypeSection";var rV=n(318812),rK=n(333370);let rU=nE.ms,rB=nE.c$,rG=nE.wv,rH="styles-by-type-context-menu",rY=.75*(0,eX.hG)(rg.uj0);function rW({styleRowRef:e,onEditStyle:t,onRenameItem:n,onCreateFolder:i,onDeleteItems:a,onCutItems:o,onPasteItems:s,styleType:c}){let p=(0,rV.Um)(),d=(0,l.d4)(e=>e.library.localStyleSelection),u=r.useMemo(()=>d&&d.type===c&&p?.type===rH?(0,rK.QA)(d,p.data.uiList):[],[d,p,c]),m=r.useMemo(()=>(0,rK.Ug)(u).map(e=>e.node_id),[u]),E=m.length;return p&&m.length?r.createElement(r$,{styleRowRef:e,selectedItems:u,numStyles:E,dropdownShown:p,onEditStyle:t,onRenameItem:n,onCreateFolder:i,onDeleteItems:a,onCutItems:o,onPasteItems:s}):r.createElement("div",null)}function r$({styleRowRef:e,selectedItems:t,numStyles:n,dropdownShown:a,onEditStyle:o,onRenameItem:s,onCreateFolder:c,onDeleteItems:p,onCutItems:d,onPasteItems:u}){let m=(0,l.wA)();r.useEffect(()=>(i.glU.computePastableStyleCount(),()=>{i.glU.clearPastableStyleCount()}),[]);let E=(0,l.d4)(e=>e.mirror.appModel.pastableStyleCount),_=!!H.q5()?.canEdit,h=r.useCallback(()=>{if(!t.length||t[0].type!==ru.PW.STYLE)return;let n=t[0];if(e){let t=e.getBoundingClientRect();m(e0.rk({style:n,rowTop:t.top,rowLeft:t.left})),m(tm.XE())}o(n)},[m,t,o,e]),y=r.useCallback(()=>{if(!t.length||t[0].type===ru.PW.STYLE)return;let e=t[0];s(e.name,!1,e.styleTypeSection)},[s,t]);if(-1===E)return r.createElement("div",null);if(!_)return n>1?r.createElement("div",null):r.createElement(rU,{style:a.data.position,className:rS},r.createElement(rB,{recordingKey:"edit-style-option",onClick:h},(0,G.tx)("design_systems.styles.view_style")));let g=1===n&&(t[0].type===ru.PW.STYLE?r.createElement(rB,{recordingKey:"edit-style-option",onClick:h},(0,G.tx)("design_systems.styles.edit_style")):r.createElement(rB,{recordingKey:"rename-folder-option",onClick:y},(0,G.tx)("design_systems.styles.rename_folder")));return r.createElement(rU,{style:a.data.position,className:rS},r.createElement(rB,{recordingKey:"create-folder-option",onClick:c},(0,G.tx)("design_systems.styles.add_new_folder")),g,r.createElement(rB,{recordingKey:"delete-style-option",onClick:p},(0,G.tx)("design_systems.styles.delete_styles",{numStyles:n})),r.createElement(rG,null),r.createElement(rB,{recordingKey:"cut-style-option",onClick:d},(0,G.tx)("design_systems.styles.cut_styles",{numStyles:n})),!!E&&r.createElement(rB,{recordingKey:"paste-style-option",onClick:u},(0,G.tx)("design_systems.styles.paste_styles",{numStyles:E})))}var rz=n(710752),rQ=n(582288),rX=n(884909),rj=n(304173),rJ=n(608974),rZ=n(257812),rq=n(319431),r0=n(914110);let r1="local-style-creation-dropdown";function r5(){let e=(0,l.wA)(),t=(0,r.useContext)(e7.lk),n=!(0,v.p8)("isReadOnly"),i=r.useRef(null),a=r.useRef(null),o=i.current,s=(0,rV.Um)(),c=s?.type===r1,p=s?.data?.targetRect,d="localStyleHeader",u=0===(0,tS.Bs)().length,m=(0,l.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),E=r.useMemo(()=>p||(c&&o?o.getBoundingClientRect():null),[p,o,c]),_=()=>{e(n_.oB())},h=()=>{e(n_.j7({type:r1}))},y=t=>{t.stopPropagation(),e(e0.YG());let n=i.current;c?_():n&&((0,D.sx)("editor-local-styles-dropdown-show"),h())},g=e=>{_();let n=(0,rh.Zk)(e),r=a.current?.getBoundingClientRect();n&&r&&t({styleType:e,inheritStyleKeyField:n,rowLeft:r.left,rowTop:r.top})},S=u&&!c&&!m;return r.createElement(tO.fI,{className:S?"styles--panelHeaderRowFaded--pfgKz styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO draggable_list--panelHeaderRowFaded--kETRR":"styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO",forwardedRef:a},r.createElement(tO.xw,{className:"styles--panelTitleText--v7gXm draggable_list--panelTitleText--SwKez",onMouseDown:e=>S&&y(e),onClick:e=>e.stopPropagation()},(0,G.tx)("design_systems.styles.local_styles")),n&&r.createElement(r.Fragment,null,r.createElement(tO.K0,{ref:i,onMouseDown:y,onClick:e=>e.stopPropagation(),className:c?"styles--stylesHeaderButtonHighlight--WTeWy raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6":"styles--stylesHeaderButton--jhpA5 draggable_list--addButton--D0q--","data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("design_systems.create_style.create_style"),recordingKey:eJ.Pt(d,"addButton")},r.createElement(t2.U,{svg:n8.A,fallbackSvg:rk.A},r.createElement(nd.e,null))),c&&E&&r.createElement(nS.Cf,{targetRect:E,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0},tc.og.map(e=>{let{icon:t,label:n}=function(e){switch(e){case"TEXT":return{icon:r.createElement(t2.U,{svg:r0.A},r.createElement(rz.e,null)),label:(0,G.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:r.createElement(t2.U,{svg:rZ.A},r.createElement(rQ.G,null)),label:(0,G.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:r.createElement(t2.U,{svg:rq.A},r.createElement(rX.E,null)),label:(0,G.t)("design_systems.styles.dropdown.grid")};case"EFFECT":return{icon:r.createElement(t2.U,{svg:rJ.A},r.createElement(rj.n,null)),label:(0,G.t)("design_systems.styles.dropdown.effect")};default:throw(0,rn.assertType)(e),Error(`Invalid style type: ${e}`)}}(e),l=t=>{t.stopPropagation(),g(e)};return r.createElement(nE.c$,{key:e,className:"styles--createStyleDropdownRow--7iCXQ",onClick:l,onPointerUp:l,recordingKey:eJ.Pt(d,`dropdown-option-${e}`)},r.createElement(ng.Nu,null,t),n)}))))}let r4="collapsed-style-folders";function r2({scrollContainer:e,recordingKey:t}){let n=(0,tS.Bs)(),l=(0,v.p8)("isReadOnly");return 0===n.length&&l?null:r.createElement(eZ.k,{name:"local_styles_panel"},r.createElement(tO.Zk,null,r.createElement(r3,{scrollContainer:e,recordingKey:t})))}function r3({scrollContainer:e,recordingKey:t}){let n=(0,l.wA)(),a=(0,l.d4)(e=>e.stylePreviewShown),o=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),s=(0,l.d4)(e=>e.mirror.appModel.currentTool),c=r.useRef(null),p=(0,tS.Bs)(),d=(0,l.d4)(e=>e.library.localStyleSelection),[u,m]=r.useState(null),[E,_]=r.useState(null),h=r.useRef(null),[y,g]=r.useState(!1),S=o===i.m1T.GRADIENT||o===i.m1T.RASTER||s===i.NLJ.DROPPER_COLOR;r.useEffect(()=>{let e=()=>{!S&&(n(ro.Bn(null)),a.isShown&&(n(e0.sw()),i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID)))},t=(0,nk.ft)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[n,a.isShown,S]);let{stylesByType:b,foldersAndStylesByType:f}=r.useMemo(()=>{let e=(0,tc.Kw)(p),t=new Map;return tc.og.map(n=>{let r=e.get(n);if(r){(0,tc.LX)(r);let e=(0,rK.lM)(r,n),l=(0,rK.l0)(e);t.set(n,l)}}),{stylesByType:e,foldersAndStylesByType:t}},[p]),v=r.useCallback(e=>{(0,rn.assertDev)(null!=e.content_hash,"style does not have a hash"),i.glU.selectStyleByGuid(e.node_id),n(ro.ay({isRenaming:!1})),(0,D.sx)("Style Inspected",{styleType:e.style_type,from:"styleListClick"})},[n]),T=r.useCallback((e,t,n)=>{m(t?e:null),_(t?null:{name:e,styleTypeSection:n})},[]),P=r.useCallback(e=>{if(!e){n(ro.Bn(null));return}let t=new Set;e.styleIds.forEach(n=>{let r=p.find(e=>e.type===ru.PW.STYLE&&e.node_id===n);if(!r)return;let l=(0,rc.In)(r.name);e.folderNames.has(l)||t.add(n)});let r={type:e.type,folderNames:e.folderNames,styleIds:t};n(ro.Bn(r))},[n,p]),w=r.useCallback((e,t,n)=>{if(!d)return;let r=e[t],l=(e,t)=>{let r=(0,rc.ke)(e.name),l=null!=t?t:r.length-1;r[l]=n;let a=(0,rK.Pc)(r.join("/"));nu.l7.user("rename-style",()=>i.glU.renameNode(e.node_id,a))};if(r.name!==n){if(r.type===ru.PW.STYLE)l(r);else{(0,rK.mx)(t,e).forEach(t=>{let n=e[t];n.type===ru.PW.STYLE&&l(n,r.level-1)});let i=new Set(d.folderNames);i.delete(r.name);let a=(0,rc.In)(r.name)+"/"+n;i.add(a),P({type:d.type,folderNames:i,styleIds:d.styleIds})}}eh.Y5.triggerAction("commit"),m(null),_(null)},[d,P]),I=r.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),n(n_.j7({type:rH,data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-rY)}}}))},[n]),N=r.useCallback(e=>{h.current=e},[]),k=r.useCallback(()=>{g(!0)},[]),C=r.useCallback(()=>{g(!1)},[]);return r.createElement("div",{className:"styles--localStylesPanel--T4Gqs",ref:c},r.createElement(r5,null),tc.og.map(n=>{let l=b.get(n);if(!l)return;let i=f.get(n);if(i)return r.createElement(r6,{key:n,recordingKey:eJ.Pt(t,`style-section-${n}`),styleType:n,storedStyleList:l,styleList:i,updateSelection:P,isDragging:y,onDragStart:k,onDragEnd:C,onInspectStyle:v,onContextMenu:I,updateContextMenuStyleRef:N,renamingStyleID:u,renamingFolder:E,onRenameItem:T,stopRenamingItem:w,styleRowRef:h.current,onEditStyle:v,scrollContainer:e})}))}function r6({styleType:e,storedStyleList:t,styleList:n,renamingStyleID:a,renamingFolder:o,onRenameItem:s,stopRenamingItem:c,onDragStart:p,onDragEnd:d,onInspectStyle:u,onContextMenu:m,updateContextMenuStyleRef:E,updateSelection:_,styleRowRef:y,scrollContainer:g,recordingKey:S}){let b=(0,H.q5)(),f=!(0,v.p8)("isReadOnly"),T=(0,l.wA)(),P=(0,l.d4)(e=>e.stylePreviewShown),w=(0,h.GS)(),I=(0,l.d4)(t=>(0,rp.i4)(t,e)),N=(0,l.d4)(t=>(0,rp.A7)(t,e,n)),[k,C]=r.useState(()=>{if(ra.x4&&b){let t=JSON.parse(ra.x4.getItem(r4)||"{}");if(b.key in t){let n=t[b.key];if(e in n)return new Set(n[e])}else t[b.key]={},ra.x4.setItem(r4,JSON.stringify(t))}return new Set(n.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[A,O]=r.useState([]),[x,R]=r.useState(null),[L,F]=r.useState(null),D=r.useMemo(()=>(0,M.s)(()=>{T(rs.GT({styleType:e}))},200),[T,e]);r.useEffect(()=>{D()},[D,n]);let V=(0,rr.ZC)(k);r.useEffect(()=>{if(!V||!ra.x4||!b||(0,ri._f)(V,k))return;let t=JSON.parse(ra.x4.getItem(r4)||"{}"),n=t[b.key];n&&(n[e]=[...k],ra.x4.setItem(r4,JSON.stringify(t)))},[k,b,V,e]);let K=r.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),U=r.useCallback((e,t)=>{let r=new Set(e),l=[];n.forEach((e,t)=>{if(r.has(e)&&(l.push(t),"STYLE_FOLDER"===e.type)){let e=(0,rK.mx)(t,n);l.push(...e)}});let i=new Set(l),a=t?n.indexOf(t):n.length,o=[...(0,eU.range)(a).filter(e=>!i.has(e)),...l,...(0,eU.range)(a,n.length).filter(e=>!i.has(e))],s=new Map;return o.forEach((e,t)=>{e!==t&&s.set(e,t)}),s},[n]),B=r.useCallback(()=>{P.isShown&&(T(e0.sw()),T(tm.XE()),i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID))},[T,P.isShown]),Y=r.useMemo(()=>{if(!x)return null;if("in"===x.type){let e=n[x.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==x.index||null==L||!I)return null;let e=(0,rK.QA)(I,n),t=e[0],r=null,l=null;if(0===x.index?l=n[x.index]:x.index===n.length?r=n[x.index-1]:(r=n[x.index-1],l=n[x.index]),r?.type==="STYLE_FOLDER"&&k.has(r.name)&&-1===A.indexOf(r.name))return{folderNameToNestUnder:r.name,dividerStyles:{display:"none"}};if(r?.type===ru.PW.STYLE){let e=(0,rc.In)(r.name).split("/");for(let n=0;n<e.length;n++){let r=e.slice(0,n+1).join("/");if(k.has(r)&&-1===A.indexOf(r)){if("STYLE_FOLDER"!==t.type)return{folderNameToNestUnder:r,dividerStyles:{display:"none"}};return{folderNameToNestUnder:(0,rc.In)(r),dividerStyles:{marginLeft:24*Math.min((0,rc.ke)(r).length,8)-8}}}}}let i=0,a=null,o=r?(0,rK.rM)(r):0,s=l?(0,rK.rM)(l):0;if(o<=s)i=s,a=r?r.type===ru.PW.STYLE?(0,rc.In)(r.name):r.name:"";else if((0,rn.assertDev)(null!=r,"Dragging after an item that doesn't exist"),t.type===ru.PW.STYLE||L>=.5)i=o,a=(0,rc.In)(r.name);else{let e=Math.floor(L/.5*(0,rK.rM)(r));e=Math.max(s-1,e),a=(0,rc.ke)((0,rc.In)(r.name)).slice(0,e).join("/"),i=e+1}let c={marginLeft:24*Math.min(i,8)-8};return r&&e.includes(r)||!(0,rK.Md)(r,t,l)?{folderNameToNestUnder:null,dividerStyles:c}:{folderNameToNestUnder:a,dividerStyles:c}},[k,L,I,x,n,A]),W=r.useCallback((r,l,i,a)=>{if(!t||!l&&!i||!Y)return;let o=Y.folderNameToNestUnder;if(null===o)return;let s=[],c=[];r.forEach(e=>{(0,rK.Md)(l,e,i,o)&&("STYLE_FOLDER"===e.type?c.push(e):s.push(e))});let p=s.concat(c);if(!p.length)return;let d=nu.l7.user("reorder-styles",()=>(0,rK.VB)(p,l,i,o,n,t,a||!1)),u=new Set,m=new Set;p.forEach(e=>{let t=(0,rK.t_)(e),n=d?.get(t);n&&("STYLE_FOLDER"===e.type?u.add(n):m.add(t))}),_({type:e,folderNames:u,styleIds:m});let E=new Set;return k.forEach(e=>{if(o.startsWith(e))return;let t=d?.get(e);t?E.add(t):E.add(e)}),C(E),B(),a||eh.Y5.triggerAction("commit"),U(p,i)},[_,k,Y,U,B,t,n,e]),$=r.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let r=n.indexOf(t),l=(0,rK.dm)(t).filter(e=>(0,rc.In)(e.name)===t.name);if(!l.length)return W(e,t,n[r+1]);{let t=l[l.length-1],r=n.indexOf(t);return W(e,t,n[r+1])}},[W,n]),z=(0,rl.xx)((e,t)=>{let r=new Map,l=t.map(e=>e.type===ru.PW.STYLE?e.node_id:e.name);return e.forEach(e=>{let i=l.indexOf(e);-1!==i&&(0,rK.mx)(i,n).forEach(e=>{let n=t[e],l="STYLE_FOLDER"===n.type?n.name:n.node_id,i=r.get(l);i||(i=0),r.set(l,i+1)})}),r}),Q=r.useCallback(()=>{if(!I)return;let t=(0,rK.QA)(I,n);if(0===t.length)return;let r=t[0],l=n.indexOf(r),a=l,o=l+1;if(r.type===ru.PW.STYLE&&n[o]&&n[o].type===ru.PW.STYLE){let e=(0,rK.rM)(r);for(let t=l+1;t<n.length;t++){let r=n[t];if("STYLE_FOLDER"===r.type&&r.level===e||(0,rK.rM)(r)<e){a=t-1,o=t;break}t===n.length-1&&(a=t,o=t+1)}}W(t,n[a],n[o],!0);let c=(0,rc.In)(r.name),p=w?(0,G.t)("design_systems.create_style.new_folder"):(0,G.t)("design_systems.create_style.untitled_folder");c&&(p=`${c}/${p}`);let d=(e,t)=>{if(e.type===ru.PW.STYLE){let n=p+"/"+t+(0,rc.kH)(e.name);nu.l7.user("rename-style",()=>{i.glU.renameNode(e.node_id,n)})}else{let n=t+(0,rc.kH)(e.name)+"/";e.styles.forEach(e=>{d(e,n)}),e.subfolders.forEach(e=>{d(e,n)})}};t.forEach(e=>{d(e,"")}),_({type:e,folderNames:new Set([p]),styleIds:new Set}),s(p,!1,e)},[_,W,w,I,s,n,e]),X=r.useCallback((e,t)=>{let r=n[e];"STYLE_FOLDER"===r.type&&C(e=>{let n=new Set(e);return t?n.add(r.name):n.delete(r.name),n})},[n]),j=r.useCallback((e,t)=>{C(r=>{let l=new Set(r),i=n[e];if("STYLE_FOLDER"===i.type){let e=(0,rc.In)(i.name),n=""===e?t:e+"/"+t;k.has(i.name)&&(k.delete(i.name),k.add(n)),(0,rK.KU)(i).forEach(e=>{if(k.has(e.name)){let t=e.name.replace(i.name,"");k.add(n+t),k.delete(e.name)}})}return l}),c(n,e,t)},[c,k,n]),J=r.useCallback(e=>{m(n,e)},[m,n]),Z=r.useCallback((e,t,n)=>{let r=t>.5?1:Math.round(1e3*t)/1e3;R({index:e,type:n?"in":"before"}),F(r)},[]),q=r.useCallback(()=>{C(e=>nu.l7.user("delete-styles",()=>{let t=new Set(e);return(I?(0,rK.QA)(I,n):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,rK.a2)(e,b?.key||null),k.delete(e.name),(0,rK.KU)(e).forEach(e=>k.delete(e.name))):(0,rK.Nr)(e,b?.key||null)}),t})),eh.Y5.triggerAction("commit"),P.isShown&&(T(e0.sw()),T(tm.XE()),i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID)),_(null)},[P.isShown,_,I,n,b?.key,k,T]),ee=r.useMemo(()=>{let e=I?(0,rK.QA)(I,n):[];return(0,rK.Ug)(e).map(e=>e.node_id)},[I,n]),et=r.useCallback(()=>{nu.l7.user("cut-styles",()=>i.glU.cutStyles(ee))},[ee]),en=r.useCallback((e,t)=>{t===rd.zy.PASTE?nu.l7.user("paste-styles",()=>i.glU.pasteStyles()):e.shouldPropagate=!0},[]);r.useEffect(()=>{if(!I)return;let e=e=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||et()};return document.addEventListener("cut",e),()=>{document.removeEventListener("cut",e)}},[et,I]);let er=r.useCallback(()=>{i.glU.pasteStyles()},[]),el=r.useCallback(e=>{O(t=>[...t,e])},[]),ei=r.useCallback(()=>{p()},[p]),ea=eJ.rf(S,"ondragend",r.useCallback(()=>{R(null),F(null),O([]),d()},[d])),eo=(0,rr.ZC)(I);r.useEffect(()=>{eo!==I&&I&&C(e=>{let n=new Set(e);for(let e of I.styleIds.values()){let r=t.find(t=>t.node_id===e);if(!r)continue;let l=(0,rc.ke)(r.name);for(let e=0;e<l.length;e++){let t=l.slice(0,e).join("/");n.delete(t)}}return n})},[I,eo,t]);let es=r.useRef(null),ec=r.useCallback(e=>{es.current=e},[es]),ep=r.useMemo(()=>I?(0,rK.h$)(I,n):[],[I,n]),ed=r.useMemo(()=>N?(0,rK.h$)(N,n):[],[N,n]),eu=r.useMemo(()=>[...ep,...ed].sort((e,t)=>e-t),[ep,ed]),em=r.useCallback((e,t,l,i,c,p)=>{let d="STYLE_FOLDER"===e.type?e.name:e.node_id,m=!1,h=!1;for(let t of A)if("STYLE_FOLDER"===e.type){if(e.name===t){h=!0;break}e.name.startsWith(t)&&(m=!0)}else if((0,rc.In)(e.name)===t){m=!0;break}if(!h&&!m&&z(k,n).has(d))return null;let y=eu&&eu[eu.length-1]===t,g=eu&&eu[0]===t;if(e.type===ru.PW.STYLE){let n=(0,rK.rM)(e),o=null!=a&&a===e.node_id;return r.createElement(rL,{hideStylePreview:B,recordingKey:`style-row-${t}`,index:t,key:e.node_id,isDragging:i,dsStyle:e,selected:l,selectedSecondary:N?.styleIds.has(e.node_id)||!1,level:n,stylePreviewShown:P,onContextMenu:J,updateContextMenuStyleRef:E,updateFocusRowRef:l?ec:null,onMouseDown:c,onMouseMove:p,onInspectStyle:u,updateSelection:_,isEditable:f,deleteSelectedItems:q,isRenaming:o,onRenameItem:s,stopRenamingItem:j,onCreateFolder:Q,isLastChildOfSelection:y})}{let n=null!=o&&o.name===e.name&&o.styleTypeSection===e.styleTypeSection,a=Y?.folderNameToNestUnder||null;return r.createElement(rC,{recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,key:t,index:t,isDragging:i,folder:e,selected:l,selectedSecondary:N?.folderNames.has(e.name)||!1,isCollapsed:k.has(e.name),temporarilyExpandFolder:el,isTemporarilyExpanded:h,isRenaming:n,folderNameToNestUnder:a,onRenameItem:s,stopRenamingItem:j,level:e.level,toggleFolder:e=>X(t,e),onContextMenu:J,onCreateFolder:Q,onMouseDown:c,onMouseMove:p,isEditable:f,deleteSelectedItems:q,hideStylePreview:B,isFirstChildOfSelection:g})}},[_,eu,k,q,Y?.folderNameToNestUnder,z,B,J,Q,u,s,o,a,N?.folderNames,N?.styleIds,j,n,P,el,A,X,E,f,ec]),eE=r.useCallback(t=>{let r=new Set,l=new Set;t.forEach(e=>{let t=n[e];"STYLE_FOLDER"===t.type?r.add(t.name):l.add(t.node_id)}),_({type:e,folderNames:r,styleIds:l})},[_,n,e]),e_=r.useRef(),ey=r.useRef();return r.useEffect(()=>{e_.current&&ep.length?(e_.current(),es.current&&!es.current.contains(document.activeElement)&&es.current.focus()):ey.current&&!ep.length&&(ey.current(),es.current=null)},[e_,ep,es]),r.createElement(e3.vL,{name:"StyleDraggableList",handleClipboard:en,focusFunctionRef:e_,blurFunctionRef:ey},r.createElement(rF,{styleType:e},r.createElement(r7,{recordingKey:"style-draggable-list",listItems:n,onInsertItemsIn:$,canInsertItemsIn:K,onInsertItemsBetweenValues:W,onDrag:Z,onDragStart:ei,onDragEnd:ea,insertDividerStyle:Y?.dividerStyles,selectedIndices:ep,updateSelection:eE,renderListItem:em,scrollContainer:g,isDragDisabled:!f}),r.createElement(rW,{styleRowRef:y,onDeleteItems:q,onCutItems:et,onPasteItems:er,onRenameItem:s,onEditStyle:u,onCreateFolder:Q,styleType:e})))}class r7 extends rm.q{}var r8=n(520285),r9=n(70575),le=n(140686),lt=n(256296),ln=n(528815),lr=n(270668),ll=n(962264),li=n(781867),la=n(37819),lo=n(57392),ls=n(715762),lc=n(507662),lp=n(564092),ld=n(261579),lu=n(258376);function lm({recordingKey:e}){let t=(0,a.md)(lo.I7);return(0,lp.Tt)()&&!(0,K.kc)().ds_variables_relax_modes&&t?r.createElement(l_,{recordingKey:e}):null}let lE="VARIABLES_INCOMPATIBLE_MODES_UPDATE_DROPDOWN";function l_({recordingKey:e}){let t=(0,l.wA)(),n=(0,rV.Um)(),i=r.useRef(null),a=n&&n.type===lE,o=r.useCallback(()=>{i.current&&t(n_.j7({type:lE,data:{targetRect:i.current.getBoundingClientRect()}}))},[t]),s=r.useCallback(()=>{t(e_.to({type:lc.T,data:{initialTab:ru.Wv.UPDATES,entrypoint:ls.r6.VARIABLE_MODES_ACCEPT_UPDATES_DROPDOWN_OPTION}}))},[t]);return r.createElement(r.Fragment,null,r.createElement("div",{ref:i},r.createElement(nM.YW,{recordingKey:eJ.Pt(e,"updateIcon"),selected:!!a,svg:lu.A,className:ld.l_,dataTestId:"updatesModesButton","data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("variables.layer_panel.header.update_button_direct.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:o})),a&&(i.current?r.createElement(nS.Cf,{targetRect:i.current.getBoundingClientRect(),maxWidth:226,disableDropdownScrollContainer:!0,propagateCloseClick:!0},r.createElement(r.Fragment,null,r.createElement(nE.c$,{className:ld.Ig,recordingKey:eJ.Pt(e,"description"),key:"description",disabled:!0},(0,G.t)("variables.layer_panel.header.update_button.dropdown.description")),r.createElement(nE.wv,null),r.createElement(nE.c$,{onClick:s,recordingKey:eJ.Pt(e,"review-update"),key:"review_update"},(0,G.t)("variables.layer_panel.header.update_button_direct.dropdown.option")))):null))}function lh(e){let t=(0,r.useRef)(null),n=(0,tp.DP)(),l=e=>eh.Y5.updateSelectionProperties({backgroundEnabled:e}),i=e=>{eh.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},a=(0,rl.xx)(e=>{let t=(0,ts.E7)(e.backgroundColor),n=(0,ts.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||ts.oV}),o=r.createElement(ly,{backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey}),s=()=>r.createElement("span",{className:"background_panel--visible--2-4Ns"},r.createElement(li.B,{visible:e.backgroundEnabled,onChange:l,recordingKey:eJ.Pt(e,"visibleToggle")}));return r.createElement(eZ.k,{name:"background_panel"},r.createElement(tO.Zk,null,r.createElement("div",null,r.createElement(tO.fI,{className:"background_panel--panelTitleRow--uNINf"},r.createElement(tO.xw,null,(0,G.tx)("fullscreen.properties_panel.page")),r.createElement(lm,{recordingKey:"pageLevel"}),r.createElement(la.M,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===n.version?r.createElement(r.Fragment,null,r.createElement(tO.fI,{forwardedRef:t},o,s())):r.createElement(nt.DE,{ref:t,label:null,input:o,icon:s()})),e.hasExports?"ui3"===n.version&&ey.nt.ui3ClipContentControl.getValue()?r.createElement(nt.Ad,{label:r.createElement(r.Fragment,null),input:r.createElement(le.S,{muted:!0,mixed:e.exportBackgroundDisabled===ts.oV,checked:!1===e.exportBackgroundDisabled,onChange:i,recordingKey:eJ.Pt(e,"exportDisableCheckbox"),label:r.createElement(lt.J,{htmlAttributes:{"data-tooltip":(0,G.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":t6.Ib.TEXT}},(0,G.tx)("fullscreen.properties_panel.show_in_exports")),htmlAttributes:{"data-tooltip":(0,G.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":t6.Ib.TEXT}})}):r.createElement(tO.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},r.createElement(ln.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:e.exportBackgroundDisabled===ts.oV?ts.oV:!e.exportBackgroundDisabled,onChange:i,recordingKey:eJ.Pt(e,"exportDisableCheckbox")}),r.createElement(tO.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},(0,G.tx)("fullscreen.properties_panel.show_in_exports"))):void 0,e.pickerShown?.id===eG.k8&&r.createElement(lr.h3,{disabledVariableIds:new Set,initialPosition:new eT.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,ts.hS)(a(e))?(0,ts.E7)(a(e)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let n=e.a;e.a=1,eh.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:eJ.Pt(e,"colorPicker")}),r.createElement(ll.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}function ly(e){let t=(0,l.wA)(),n=(0,rl.xx)(e=>{let t=(0,ts.E7)(e.backgroundColor),n=(0,ts.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||ts.oV}),i=r.useMemo(()=>(0,ts.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),a=(0,ts.E7)(e.backgroundColor),o=(0,ts.E7)(e.backgroundEnabled),s={color:a??void 0,opacity:(0,ts.E7)(i)??void 0,type:"SOLID",blendMode:"NORMAL",visible:o??void 0};return r.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},r.createElement(tr.y7,{recordingKey:e.recordingKey,togglePicker:()=>{if(e.pickerShown&&e.pickerShown.id===eG.k8)t(tm.XE());else{(0,K.kc)().ce_properties_panel_tracking&&(0,D.sx)("editor-background-panel-color-picker-show");let n=e.chitRowRef.current?(0,t7.cn)(e.chitRowRef.current):{x:0,y:0};t(tm.u1({id:eG.k8,initialX:n.x,initialY:n.y})),t(e0.sw())}},chitOverride:{color:n(e),opacity:i},paint:s,onChange:(t,n)=>{let r=!(0,l.bN)(t.color,e.backgroundColor),i=t.opacity!==e.backgroundOpacity;eh.Y5.updateSelectionProperties({backgroundColor:r?t.color:void 0,backgroundOpacity:i?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:n})}}))}var lg=n(33136),lS=n(166635);function lb(e){let t=(0,lg.t)();return e.readOnly?r.createElement(lS.lc,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:r.createElement(tO.Zk,null,r.createElement(tO.fI,null,r.createElement(tO.xw,{extended:!0},(0,G.tx)("fullscreen.properties_panel.constraints_panel.constraints"))),r.createElement(lS.lc,{...e}))}function lf(e){return r.createElement(eZ.k,{name:"constraints_panel"},r.createElement(lb,{...e}))}var lv=n(233711),lT=n(78479),lP=n(905060),lw=n(707458),lI=n(693601),lN=n(239349);let lk=[{label:"All",fieldGroups:[]},{label:"Layout Only",fieldGroups:["layout"]},{label:"Rendering Only",fieldGroups:["rendering"]},{label:"Text Only",fieldGroups:["text"]},{label:"Layout + Rendering",fieldGroups:["layout","rendering"]},{label:"Layout + Text",fieldGroups:["layout","text"]}];function lC(){let[e,t]=(0,r.useState)(""),[n,l]=(0,r.useState)({}),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(lk[0]),c=(0,lN.uQ)(),p=(0,r.useCallback)(async e=>{let n=await (0,lI.o)(e,{includeIDs:!1,filterFunction:e=>e.visible,fieldGroups:o?.fieldGroups.length>0?o.fieldGroups:void 0});t(n.jsxStr),l(n.componentInfoById)},[t,o]),d=(0,r.useCallback)(async()=>{if(!c)return;let e=lw.q.instance.get(c);e&&(await p(e),eh.Y5.triggerAction("commit"))},[c,p]);async function u(e){let t=await (0,lI.L)(e,{includeIDs:!1});if(!t)throw Error("Couldn't parse jsx");nu.l7.user("jsx-debugging",()=>{let e=lw.q.instance.getDirectlySelectedNodes()[0],n=e.parentNode;e.removeSelfAndChildren(),n?.appendChild(t),lw.q.instance.getCurrentPage()?.setSelectionToSingleNode(t.guid)})}return(0,r.useEffect)(()=>{if(i)return lw.q.instance.onChange(()=>{d()})},[i,d]),(0,r.useEffect)(()=>{d()},[d]),r.createElement("div",{style:{padding:16}},r.createElement(lt.J,null,"Selection JSX"),r.createElement("div",{style:{marginBottom:16}},r.createElement(lt.J,null,"Field Groups:"),r.createElement("select",{value:o.label,onChange:e=>{s(lk.find(t=>t.label===e.target.value)||lk[0])},style:{marginLeft:8}},lk.map(e=>r.createElement("option",{key:e.label,value:e.label},e.label)))),r.createElement("div",null,r.createElement("textarea",{rows:15,value:e,style:{padding:10,width:"100%"},onChange:e=>t(e.target.value)})),r.createElement("div",{style:{display:"flex",flexDirection:"row",gap:8,marginBottom:16}},r.createElement(J.$n,{onClick:()=>u(e)},"Write"),r.createElement(le.S,{checked:i,onChange:e=>a(e),label:r.createElement(lt.J,null,"Live Update")})),Object.keys(n).length>0&&r.createElement("div",{style:{paddingBottom:16}},"Components:",r.createElement("div",null,r.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(n,null,2)}))))}var lA=n(861726),lM=n(416580),lO=n(201706),lx=n(175290),lR=n(83909),lL=n(113058),lF=n(869156),lD=n(301462),lV=n(234945),lK=n(279702),lU=n(567488),lB=n(494057),lG=n(224690),lH=n(219101),lY=n(218973),lW=n(760066),l$=n(986175),lz=n(723081),lQ=n(824374),lX=n(538697),lj=n(161115);let lJ=new lz.SU;class lZ extends lX.c${}class lq extends lX.l6{}class l0 extends r.PureComponent{render(){let e=this.props.includePassThrough?lj.j4:lj.r5;return r.createElement(lq,{id:l1(this.props.id),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:lJ,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",icon:this.props.isUI3?r.createElement(l$.N,null):r.createElement(lQ.M,{value:(0,ts.E7)(this.props.property),defaultBlendMode:this.props.includePassThrough?"PASS_THROUGH":"NORMAL"}),enablePreview:!0},e.map((e,t)=>"SELECT_DIVIDER"===e?r.createElement(lX.sK,{key:t}):r.createElement(lZ,{key:t,value:e,recordingKey:eJ.Pt(this.props,e)})))}}function l1(e){return`blend-mode-select-${e}`}l0.displayName="BlendMode";var l5=n(925782),l4=n(83695),l2=n(533573),l3=n(10921),l6=n(797613),l7=n(77763),l8=n(737834),l9=n(555074),ie=n(878319),it=n(731262),ir=n(282263);function il(){let{consumedVariable:e}=(0,lp.u3)(["VISIBLE"]),t=ia(),n=(0,lF.u)(t);return!!e&&!!n}function ii(e){return(0,ir.JV)(["VISIBLE"],i.rXF.BOOLEAN,void 0,{requestedTypes:[i.rXF.BOOLEAN,i.rXF.FLOAT,i.rXF.STRING],variableFilters:{[ie.t.MUST_INCLUDE_ONE_OF]:{[i.rXF.STRING]:it.O4},[ie.t.HIDE_IN_DEFAULT_VIEW]:{[i.rXF.FLOAT]:!0}},mapVariableIdToTypedValue:ir.eT,metadata:e},void 0,function(){let e=(0,t5.R)(e=>(0,lV.qd)(e)),t=(0,lU.Yc)(lO.R.VISIBLE,e),n=(0,K.kc)().ds_variable_props_unified_ui&&!t,l=r.useCallback(e=>{nu.l7.user("add-prop-ref",()=>i.glU.addComponentPropRef(lO.R.VISIBLE,e.value.explicitDefId))},[]);return r.useMemo(()=>n?l:void 0,[n,l])}())}function ia(){let e;let{consumedVariable:t}=(0,lp.u3)(["VISIBLE"]);if(t){if((0,ts.hS)(t)&&t.type===i.Z_n.ALIAS)e=t.value;else if((0,ts.hS)(t)&&t.type===i.Z_n.EXPRESSION){for(let n of(0,l2.Pr)(t))if(n.type===i.Z_n.ALIAS){e=n.value;break}}}return e}var io=n(918061);let is=(0,lG.Tn)();function ic(e){let t=r.useCallback(e=>{eh.Y5.updateSelectionProperties({visible:e})},[]),n=r.useMemo(lG.On,[]),{isDefReferencedBySelection:l,visibilityIsBoundToComponentProp:i}=(0,t5.R)(e=>({isDefReferencedBySelection:!!n(e,lO.R.VISIBLE),visibilityIsBoundToComponentProp:is(e,(0,lV.qd)(e),lO.R.VISIBLE)})),a=(0,lF.SG)(["VISIBLE"]).data??[],[o]=(0,l9.lJ)("visible"),{consumedVariable:s}=(0,lp.u3)(["VISIBLE"]),c=r.useRef(null),[p,d]=ii("visibility-icon"),u=ia(),m=(0,lF.u)(u),E=!!s&&!!m,_=E||i||l,h=!E&&!i&&a.length>0,y=o?(0,G.t)("fullscreen.properties_panel.tooltip_hide"):(0,G.t)("fullscreen.properties_panel.tooltip_show"),g=r.createElement("span",{className:io.RK},r.createElement(li.B,{disabled:_,visible:o,onChange:t,recordingKey:eJ.Pt(e,"visibleToggle")})),S=(0,nO.R)();return r.createElement("div",{className:io.RK},r.createElement(lW.JQ,{ref:c,currentFieldValue:!!(0,ts.gl)(o)||o,isActive:p,disabled:!h,onPickerOpen:()=>d(c.current),recordingKey:eJ.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control",openOnRightClick:!0},S?(0,K.kc)().ce_tv_fpl_toggle_button?r.createElement(l6.f,{onIcon:r.createElement(l7.j,null),offIcon:r.createElement(l8._,null),checked:!_&&!o,mixed:!_&&(0,ts.gl)(o),disabled:_,onChange:()=>t(o===ts.oV||!o),recordingKey:eJ.Pt(e,"visibleToggle"),"aria-label":y,variant:"highlighted",htmlAttributes:{"data-test-id":"visibility-variable-control","data-tooltip":y,"data-tooltip-type":t6.Ib.TEXT}}):r.createElement(nM.YW,{selected:!_&&!o,disabled:_,onClick:()=>t(o===ts.oV||!o),recordingKey:eJ.Pt(e,"visibleToggle"),dataTestId:"visibility-variable-control","data-tooltip":y,"data-tooltip-type":t6.Ib.TEXT},o?r.createElement(l8._,null):r.createElement(l7.j,null)):g))}var ip=n(587997),id=n(691603),iu=n(424148),im=n(144919);function iE(e){let{blendMode:t,opacity:n,visible:a}=e,o="ui3"===(0,tp.DP)().version,s=r.useRef(null),c=r.useMemo(lG.On,[]),p=r.useMemo(lG.Tn,[]),{dropdownShown:d,isDefReferencedBySelection:u,selectedGUIDs:m,visibilityIsBoundToComponentProp:E}=(0,t5.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!c(e,lO.R.VISIBLE),selectedGUIDs:(0,lV.qd)(e),visibilityIsBoundToComponentProp:p(e,(0,lV.qd)(e),lO.R.VISIBLE)})),_=(0,ts.gl)(a),h=(0,l.wA)(),y=r.useCallback((e,t=lK.zk.YES)=>{lR.wt.shouldReportForShouldCommit(t)&&lD.F.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),eh.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),g=r.useCallback((e,t)=>{eh.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!u&&eh.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[u]),S=r.useRef(null),[,b]=ii("layer-panel"),{clearVariableConsumption:f}=(0,lp.u3)(["VISIBLE"]),{variableConsumptionMap:v}=(0,lp.R1)(),T=ia(),P=(0,lF.u)(T),w=P?.name,I=il();return r.createElement(eZ.k,{name:"layer_panel"},r.createElement(tO.Zk,null,r.createElement(tO.fI,{className:ip.LO},r.createElement(l5.Tu,{isPanelBodyCollapsedAtom:null},r.createElement(tO.xw,{isPanelBodyCollapsedAtom:null},(0,G.tx)("fullscreen.layer_panel.layer")),r.createElement(lm,{recordingKey:"frameLevel"}),!I&&r.createElement(lU.yQ,{nodeField:lO.R.VISIBLE,defaultValue:a,guids:m}),r.createElement(la.M,{showLibrarySets:!1,recordingKey:"frameLevel"}))),r.createElement(l5.JH,{isPanelBodyCollapsedAtom:null},r.createElement(tO.fI,null,r.createElement(l0,{id:"layer-blend-mode",className:io.jK,inputClassName:io.Df,chevronClassName:io.ai,property:t,dispatch:h,dropdownShown:d,onChange:y,willShowDropdown:()=>((0,D.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:eJ.Pt(e,"blendMode"),isUI3:o}),r.createElement(lH.e,{condition:!0,wrapper:t=>r.createElement(lW.sA,{recordingKey:eJ.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:i.rXF.FLOAT,currentFieldValue:(0,ts.hS)(n)?n:void 0,inputClassName:F()({[io.ke]:!0,[io.TQ]:!0}),hideIcon:!0,inputRef:s,hasBindingContextMenu:!0},t)},r.createElement(lY.Pd,{isTokenizable:!0,value:n,onValueChange:g,mixedMathHandler:ih,dispatch:h,recordingKey:eJ.Pt(e,"opacity"),forwardedRef:s,noBorderOnHover:!0})),r.createElement(ic,{recordingKey:e.recordingKey})),_&&!u&&r.createElement(tO.fI,{dataTestId:"mixed-visibility-label"},r.createElement(tO.UZ,{className:id.Pf},(0,G.tx)("fullscreen.layer_panel.replace_mixed_visibility",{svg:r.createElement("div",{className:io.dY},r.createElement(t2.U,{svg:im.A},r.createElement(lA.l,null)))}))),r.createElement("div",{className:io.I0},r.createElement(lB.L,{nodeField:lO.R.VISIBLE,currentValue:e.visible})),(0,K.kc)().prototype_expressions_nodefields?v.VISIBLE&&r.createElement(lx.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},r.createElement(l4.y3,{targetVariableData:v.VISIBLE.isMixed?void 0:v.VISIBLE,onClick:()=>{b(S.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:v.VISIBLE.isMixed}),r.createElement(z.K,{onClick:()=>f(),"aria-label":(0,G.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,G.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":t6.Ib.TEXT}},r.createElement(t2.U,{svg:iu.A},r.createElement(lM.U,null)))):I&&!E&&r.createElement(lx.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},r.createElement(l3.P,{value:w||(0,G.t)("fullscreen.mixed"),variableId:T,isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!P&&(0,l2.eF)(P)}),r.createElement(z.K,{onClick:()=>f(),"aria-label":(0,G.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,G.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":t6.Ib.TEXT}},r.createElement(t2.U,{svg:iu.A},r.createElement(lM.U,null)))),r.createElement(ll.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}class i_ extends lL.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){nu.l7.user("set-opacity",()=>{lR.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let ih=new i_;var iy=n(196720);let ig="mask_panel--maskTypeDropdown--3Etsx";class iS extends lX.l6{}class ib extends lX.c${}class iv extends r.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=lK.zk.YES)=>{eh.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,G.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,G.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,G.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,G.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,G.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,G.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=r.createElement(tO.fI,null,r.createElement(iS,{id:"mask-type-dropdown",className:ig,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:ig,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:eJ.Pt(this.props,"maskType"),enablePreview:!0},r.createElement(ib,{value:"ALPHA",recordingKey:eJ.Pt(this.props,"maskType","alpha")}),r.createElement(ib,{value:"OUTLINE",recordingKey:eJ.Pt(this.props,"maskType","outline")}),r.createElement(ib,{value:"LUMINANCE",recordingKey:eJ.Pt(this.props,"maskType","luminance")})));return r.createElement(eZ.k,{name:"mask_panel"},r.createElement(tO.Zk,null,r.createElement(tO.fI,null,r.createElement(tO.xw,null,(0,G.tx)("fullscreen.mask_panel.mask"))),e))}}iv.displayName="MaskPanel";var iT=n(536825),iP=n(343559),iw=n(819785),iI=n(695038);function iN({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:l,plusDisabled:i,recordingKey:a,removeProperty:o,showButton:s,title:c,dataTestId:p,shouldHideButton:d}){let{version:u}=(0,tp.DP)(),m=(0,r.useCallback)(()=>{!1!==n||i||e()},[e,n,i]),E=n===ts.oV,_=!E&&!n;null==s&&(s=!0===n?"-":"+");let h="+"===s?r.createElement(z.K,{recordingKey:eJ.Pt(a,"addButton"),onClick:e,disabled:i,"aria-label":(0,G.t)("fullscreen.properties_panel.add"),htmlAttributes:{onMouseDown:nk.dG,"data-testid":p??""}},r.createElement(t2.U,{svg:n8.A,fallbackSvg:rk.A},r.createElement(nd.e,null))):r.createElement(z.K,{recordingKey:eJ.Pt(a,"removeButton"),onClick:o,disabled:l,"aria-label":(0,G.t)("fullscreen.properties_panel.remove"),htmlAttributes:{onMouseDown:nk.dG,"data-testid":p??""}},r.createElement(t2.U,{svg:iw.A,fallbackSvg:iI.A},r.createElement(iT.O,null)));return"ui3"===u?r.createElement(r.Fragment,null,c&&r.createElement(iP.r,{onMouseDown:m,faded:_,isEmpty:_,titleTx:r.createElement("span",null,c),icon:d?void 0:h}),E&&r.createElement(tO.fI,null,r.createElement(tO.UZ,{className:id.Pf},(0,G.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!E&&!_&&t):r.createElement(r.Fragment,null,c&&r.createElement(tO.fI,{onMouseDown:m,className:_?id.et:void 0,recordingKey:eJ.Pt(a,"panelTitle")},r.createElement(tO.xw,{faded:_,extended:!0},r.createElement("div",{className:id.yr},c)),r.createElement(tO.$4,null,d?null:h)),E&&r.createElement(tO.fI,null,r.createElement(tO.UZ,{className:id.Pf},(0,G.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!E&&!_&&t)}class ik extends eJ.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return r.createElement(eZ.k,{name:"remove_group_fill_and_stroke_panel"},r.createElement(tO.Zk,null,r.createElement(iN,{title:"Background",addProperty:this.noop,removeProperty:i.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},r.createElement(tO.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},r.createElement(tO.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},(0,G.tx)("fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"))))))}}var iC=n(459674);function iA(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 9.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm9 0a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm-8-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m.5 8.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z",clipRule:"evenodd"}))}var iM=n(939683),iO=n(520581),ix=n(297336),iR=n(227944),iL=n(875533),iF=n(276660),iD=n(933466),iV=n(700829),iK=n(784940),iU=n(467213),iB=n(253978),iG=n(416082),iH=n(423324),iY=n(460528),iW=n(737947),i$=n(422237);let iz=(0,i$.ex)("autolayout_v3_migration_info",function(e){let{tooltipText:t}=e,n=(0,ej.Gc)(e=>{e.stopPropagation(),iW.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout","_blank")});return r.createElement("div",{className:"autolayout_v3_migration_info_tooltip--autolayoutMigration--OQ8zC"},t,r.createElement("a",{onMouseDown:n,rel:"noopener"},(0,G.tx)("fullscreen.properties_panel.migration_tooltip_learn_more")))},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var iQ=n(283942),iX=n(221537);let ij="alignment_view_v4--indicator--VmKfE",iJ="alignment_view_v4--indicatorBaseline--4kxfb",iZ="alignment_view_v4--counterCenter--MlF9q";function iq({onClick:e,onDoubleClick:t,onHover:n,...l}){let i=(0,iX.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,o="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",s="WRAP"===l.stackWrap,c="HORIZONTAL"===o?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",p=i?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",d=(0,ts.hS)(l.stackPrimaryAlignItems)&&(0,ts.hS)(l.stackCounterAlignItems),u=l.primaryHover&&l.counterHover,m=(0,r.useCallback)(e=>{let[n,r]=i7(e.target);if(i){let t=e.target.getBoundingClientRect();"HORIZONTAL"===o?n=Math.floor((e.clientX-t.x)/t.width*3):r=Math.floor((e.clientY-t.y)/t.height*3)}t(n,r)},[t,i,o]),E=(0,r.useCallback)(e=>n(...i7(e.target)),[n]),_=(0,r.useCallback)(e=>n(null,null),[n]);return r.createElement("div",{className:F()(l.className,"alignment_view_v4--mainContainer--zUBsm",c,p,{"alignment_view_v4--baselineAlign--xLTR2":a}),tabIndex:0,onKeyDown:l.onKeyDown},r.createElement(i6,{baseline:a}),r.createElement(i2,{stackMode:o,spaceBetween:i,baselineAlign:a,onMouseMove:E,onMouseOut:_,onClick:e,onDoubleClick:m}),u&&r.createElement(i0,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:s}),d&&r.createElement(i0,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:s}),a&&r.createElement(i4,{onClick:l.onRemoveBaseline}))}function i0({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){return r.createElement("div",{className:F()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?i5[t]:void 0,n?i1[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},r.createElement("div",{className:F()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":l})},"BASELINE"===n?(0,iX.rO)(t)?r.createElement(r.Fragment,null,r.createElement("div",{className:ij}),r.createElement("span",{className:iJ},"A"),r.createElement("div",{className:ij})):r.createElement("span",{className:iJ},"A"):l?r.createElement(r.Fragment,null,r.createElement("div",{className:ij}),r.createElement("div",{className:ij}),r.createElement("div",{className:ij}),r.createElement("div",{className:ij}),r.createElement("div",{className:ij})):r.createElement(r.Fragment,null,r.createElement("div",{className:ij}),r.createElement("div",{className:ij}),r.createElement("div",{className:ij}))))}let i1={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:iZ,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:iZ},i5={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function i4({onClick:e}){let t=i9(),n=ae(),l=2*t/3+2,i=t-9,a=t-5.5;return r.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},r.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},r.createElement("rect",{x:"4.5",y:`${l}`,width:`${i}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),r.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),r.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function i2({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:i,onClick:a,onDoubleClick:o}){let s=i8({stackMode:t,baselineAlign:n,spaceBetween:e});return r.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:l,onMouseOut:i,onClick:a,onDoubleClick:o},s.map((n,l)=>{let i=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=i,i=0),r.createElement(i3,{key:l,x:i,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function i3({x:e,y:t,tooltip:n,below:l}){return r.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-above":!l||void 0})}function i6({baseline:e}){let t=ae(),n=i9(),l=n/3,i=`${l}`,a=`${l/2}`,o=e?l:0,s=e?l:n,c=(0,r.useId)();return r.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},r.createElement("defs",null,r.createElement("pattern",{id:c,width:i,height:i,patternUnits:"userSpaceOnUse"},r.createElement("circle",{cx:a,cy:a,r:"1"}))),r.createElement("rect",{width:"79",height:s,y:o,fill:`url(#${c})`}))}function i7(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function i8({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:r}){return e&&t?r?[{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,G.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:r},{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:r},{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:r}]:t?"HORIZONTAL"===n?r?[(0,G.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,G.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:r?[(0,G.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,G.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,G.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,G.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let i9=()=>(0,eX.jz)("60px"),ae=()=>{let e=i9();return`0 0 ${e} ${e}`},at="alignment_view_v4_ui3--indicatorBaseline--NUe6M",an="alignment_view_v4_ui3--counterCenter--QC-B7";function ar({onClick:e,onDoubleClick:t,onHover:n,...l}){let i=(0,iX.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,o="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",s="WRAP"===l.stackWrap,c="HORIZONTAL"===o?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",p=i?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",d=(0,ts.hS)(l.stackPrimaryAlignItems)&&(0,ts.hS)(l.stackCounterAlignItems),u=l.primaryHover&&l.counterHover,m=(0,r.useCallback)(e=>{let[n,r]=am(e.target);if(i){let t=e.target.getBoundingClientRect();"HORIZONTAL"===o?n=Math.floor((e.clientX-t.x)/t.width*3):r=Math.floor((e.clientY-t.y)/t.height*3)}t(n,r)},[t,i,o]),E=(0,r.useCallback)(e=>n(...am(e.target)),[n]),_=(0,r.useCallback)(e=>n(null,null),[n]);return r.createElement("div",{className:F()(l.className,"alignment_view_v4_ui3--mainContainer---0NcS",c,p,{"alignment_view_v4_ui3--baselineAlign--OxyzT":a}),tabIndex:0,onKeyDown:l.onKeyDown},r.createElement(au,null),r.createElement(ac,{stackMode:o,spaceBetween:i,baselineAlign:a,onMouseMove:E,onMouseOut:_,onClick:e,onDoubleClick:m}),u&&r.createElement(al,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:s}),d&&r.createElement(al,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:s}),a&&r.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},r.createElement(as,{onClick:l.onRemoveBaseline})))}function al({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){function i(){let e=(0,iX.rO)(t);if("BASELINE"===n)return e?r.createElement(r.Fragment,null,r.createElement("span",{className:at},"A"),r.createElement("span",{className:at},"A"),r.createElement("span",{className:at},"A")):r.createElement("span",{className:at},"A");let i=l&&!e?5:3;return r.createElement(ai,{n:i})}return r.createElement("div",{className:F()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?ao[t]:void 0,n?aa[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?i():r.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},r.createElement("div",{className:F()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":l})},i())))}function ai({n:e}){return r.createElement(r.Fragment,null,Array.from({length:e},(e,t)=>r.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let aa={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:an,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:an},ao={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function as({onClick:e}){return r.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},r.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function ac({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:i,onClick:a,onDoubleClick:o}){let s=i8({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,nO.R)()});return r.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:l,onMouseOut:i,onClick:void 0,onMouseUp:a,onDoubleClick:o},"HORIZONTAL"===t&&n&&e?r.createElement(ap,{tooltips:s}):s.map((n,l)=>{let i=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=i,i=0),r.createElement(ad,{key:l,x:i,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function ap({tooltips:e}){let t=(0,r.useId)(),n=e[0];return null==n?null:r.createElement(r.Fragment,null,r.createElement("div",{"data-tooltip-proxy-element-id":t}),r.createElement(ad,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),r.createElement("div",{"data-tooltip-proxy-element-id":t}))}function ad({id:e,x:t,y:n,tooltip:l,below:i}){return r.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-above":!i||void 0})}function au(){return r.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>r.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},r.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function am(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var aE=n(692142),a_=n(876618);let ah=["MIN","CENTER","MAX"];function ay({className:e,recordingKey:t}){let n=(0,l9.kl)("stackMode"),a=(0,l9.kl)("stackWrap"),[o,s]=(0,l9.lJ)("stackPrimaryAlignItems"),[c,p]=(0,l9.lJ)("stackCounterAlignItems"),[d,u]=(0,r.useState)(void 0),[m,E]=(0,r.useState)(void 0),_=(0,a_.sR)(),h=(0,a_.uV)(),y=(0,iM.am)(),g=(0,nO.R)(),S=(0,l.d4)(lV.qd),b=(0,iX.rO)(o),f="BASELINE"===c,v=(0,r.useCallback)((e,t)=>{if(null==e||null==t){u(void 0),E(void 0);return}let r=ag(e,t,n,b),l=aS(e,t,n,f);u(r),E(l)},[n,f,b,u,E]),T=eJ.rf(t,"click",(0,r.useCallback)(e=>{let t=d,n=m;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(b||s(t,lK.zk.NO),p(n),y("Autolayout alignment grid used",{nodeIds:S}))},[d,m,b,p,y,s,S]),{recordMetadata:()=>({primaryAlignItems:d,counterAlignItems:m}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:P}=(0,aE.O)("STACK_SPACING",i.rXF.FLOAT),w=(0,r.useCallback)((e,t)=>{h(void 0===t||t,e,lK.zk.NO),P()},[h,P]),I=(0,r.useCallback)((e,t)=>{if(b){h(!1,"alignment double click",lK.zk.NO);let r=ag(e,t,n,!1),l=aS(e,t,n,f);u(r),E(l),s(r,lK.zk.NO),p(l),y("Autolayout spacing mode changed",{mode:r,doubleClick:!0})}else w("alignment double click"),p(aS(e,t,n,f))},[w,f,b,p,s,h,n,y]),N=(0,r.useCallback)(()=>{p("CENTER"),y("Disable baseline alignment",{source:"alignment grid"})},[p,y]),k=eJ.v_(t,"keydown",(0,r.useCallback)(e=>{function t(e){"HORIZONTAL"===n?s(e):p(e)}function r(e){"VERTICAL"===n?s(e):p(e)}function l(e,t){if((0,ts.gl)(e))return"CENTER";let n=ah.indexOf(e);if(-1===n)return null;let r=(0,eU.clamp)(n+t,0,ah.length-1);return ah[r]}let i="HORIZONTAL"===n?o:c,a="VERTICAL"===n?o:c;switch(e.keyCode){case ej.Uz.ESCAPE:case ej.Uz.ENTER:e.currentTarget.blur();break;case ej.Uz.UP_ARROW:{let e=l(a,-1);e&&r(e);break}case ej.Uz.DOWN_ARROW:{let e=l(a,1);e&&r(e);break}case ej.Uz.LEFT_ARROW:{let e=l(i,-1);e&&t(e);break}case ej.Uz.RIGHT_ARROW:{let e=l(i,1);e&&t(e);break}case ej.Uz.B:"HORIZONTAL"===n&&_("BASELINE"!==c,"alignment keyboard");break;case ej.Uz.X:w("alignment keyboard",!(0,iX.rO)(o));break;case ej.Uz.W:r("MIN");break;case ej.Uz.A:t("MIN");break;case ej.Uz.S:r("MAX");break;case ej.Uz.D:t("MAX");break;case ej.Uz.V:r("CENTER");break;case ej.Uz.H:t("CENTER");break;default:(0,iQ.jr)(e,iQ.W0.YES,iQ.VA.YES);return}e.preventDefault()},[w,c,o,_,p,s,n])),C=g?r.createElement(ar,{className:e,stackMode:n,stackWrap:a,stackPrimaryAlignItems:o,stackCounterAlignItems:c,onHover:v,onClick:T,onDoubleClick:I,onKeyDown:k,onRemoveBaseline:N,counterHover:m,primaryHover:d}):r.createElement(iq,{className:e,stackMode:n,stackWrap:a,stackPrimaryAlignItems:o,stackCounterAlignItems:c,onHover:v,onClick:T,onDoubleClick:I,onKeyDown:k,onRemoveBaseline:N,counterHover:m,primaryHover:d});return r.createElement(iO.E,{name:"alignment_view"},C)}function ag(e,t,n,r){return r?(0,K.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY":ah["VERTICAL"===n?t:e]}function aS(e,t,n,r){return r?"BASELINE":ah["VERTICAL"===n?e:t]}var ab=n(630978),af=n(860601),av=n(178466),aT=n(791489),aP=n(931828),aw=n(877953),aI=n(309798),aN=n(149432),ak=n(280106),aC=n(2063),aA=n(801161),aM=n(499777);function aO({id:e,onClose:t,...n}){let i=(0,l.wA)(),a=(0,aM.kG)(e),o=(0,rr.ZC)(a.showing),s=(0,eH.p1)(),c=(0,r.useRef)(t);c.current=t,(0,r.useEffect)(()=>{o&&!a.showing&&c.current?.()},[a.showing,o]),(0,r.useEffect)(()=>()=>c.current?.(),[]);let p=()=>{a.showing&&(a.hide(),eh.Y5.deselectProperty())};return r.createElement(r.Fragment,null,r.createElement(ax,{name:n.buttonInteractableName},r.createElement(t0.d,{actionOnPointerDown:!0,onClick:t=>{if(t.stopPropagation(),a.showing){p();return}let n=s();if(!n)return;let{top:r}=t.currentTarget.getBoundingClientRect(),l=n.getBoundingClientRect().left-t7.qo;i(tm.u1({id:e,initialX:l,initialY:r}))},toggled:a.showing,"aria-label":n.tooltip,recordingKey:eJ.Pt(n,"trigger"),htmlAttributes:{onPointerMove:()=>{a.showing&&i(aA.jD())}}},n.icon)),a.showing?r.createElement(aR,{name:n.windowTrackableName},r.createElement(aC.bL,{width:n.width,onClose:p,defaultPosition:a.initialPosition,recordingKey:eJ.Pt(n,"window")},n.children)):null)}function ax({children:e,name:t}){return t?r.createElement(iO.E,{name:t},e):r.createElement(r.Fragment,null,e)}function aR({children:e,name:t}){return t?r.createElement(eZ.k,{name:t},e):r.createElement(r.Fragment,null,e)}function aL({onOpen:e,onClose:t,modalKey:n,...i}){let a=(0,l.wA)(),o=(0,aM.kG)(n),s=(0,r.useRef)(null),c=(0,nO.R)(),p=(0,rr.ZC)(o.showing),d=(0,r.useRef)(t);d.current=t,(0,r.useEffect)(()=>{p&&!o.showing&&d.current?.()},[o.showing,p]),(0,r.useEffect)(()=>()=>d.current?.(),[]);let u=()=>{o.showing&&(o.hide(),eh.Y5.deselectProperty())},m=()=>{if(o.showing)return;let{top:e}=tq.findDOMNode(s.current).getBoundingClientRect();a(tm.u1({id:n,initialX:t7.qo,initialY:e}))},E=r.createElement(nM.YW,{ref:s,svg:i.svg,fallbackSvg:i.fallbackSvg,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":i.tooltip,onMouseMove:()=>{o.showing&&a(aA.jD())},onMouseDown:e=>{e.stopPropagation(),o.showing?u():m()},recordingKey:eJ.Pt(i,"trigger"),selected:o.showing,className:i.buttonClassName},c?i.ui3Icon:void 0),_=i.buttonInteractableName?r.createElement(iO.E,{name:i.buttonInteractableName},E):E,h=o.showing?r.createElement(eP.vx,{title:i.title,initialPosition:o.initialPosition,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:u,recordingKey:eJ.Pt(i,"modal")},i.children):null,y=h&&i.modalTrackableName?r.createElement(eZ.k,{name:i.modalTrackableName},h):h;return r.createElement(r.Fragment,null,_,y)}var aF=n(63666),aD=n(70964);let aV="stack_layout_details_preview--stroke--tWkNh",aK="stack_layout_details_preview--strokeLight--RsPk7",aU="stack_layout_details_preview--fill--V74cf",aB="stack_layout_details_preview--fillWhite--uTjlG",aG="stack_layout_details_preview--fillTertiary--xuwqQ",aH={reverseStackingOrder:function({enabled:e}){let t=[r.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},r.createElement("rect",{className:aB,x:"67",y:"40",width:"40",height:"40",rx:"20"}),r.createElement("path",{className:aU,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),r.createElement("rect",{className:aV,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),r.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},r.createElement("rect",{className:aB,x:"99",y:"40",width:"40",height:"40",rx:"20"}),r.createElement("path",{className:aU,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),r.createElement("rect",{className:aV,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),r.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},r.createElement("rect",{className:aB,x:"131",y:"40",width:"40",height:"40",rx:"20"}),r.createElement("path",{className:aU,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),r.createElement("rect",{className:aV,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),r.createElement("svg",{width:"240",height:"120",fill:"none"},t,r.createElement("rect",{className:aK,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),r.createElement("defs",null,r.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:"2"}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return r.createElement("svg",{width:240,height:120,fill:"none"},r.createElement("path",{className:F()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),r.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},r.createElement("path",{className:aU,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),r.createElement("rect",{className:aV,x:46.5,y:38.5,width:43,height:43,rx:1.5})),r.createElement("rect",{className:F()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",aV),x:98.5,y:38.5,width:43,height:43,rx:1.5}),r.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},r.createElement("path",{className:aU,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),r.createElement("rect",{className:aV,x:150.5,y:38.5,width:43,height:43,rx:1.5})),r.createElement("rect",{className:F()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",aK),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return r.createElement("svg",{width:240,height:120,fill:"none"},r.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},r.createElement("rect",{className:aG,x:"43",y:"37",width:"48",height:"48",rx:"2"}),r.createElement("rect",{className:aB,x:"49",y:"43",width:"36",height:"36",rx:"2"})),r.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},r.createElement("rect",{className:aG,x:"98",y:"37",width:"99",height:"48",rx:"2"}),r.createElement("rect",{className:aB,x:"104",y:"43",width:"87",height:"36",rx:"2"})),r.createElement("rect",{className:F()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",aK),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function aY({setting:e,enabled:t}){let n=e?aH[e]:null;return r.createElement("div",{className:F()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?r.createElement(n,{enabled:t}):r.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},(0,G.tx)("fullscreen.properties_panel.stack_panel.preview")))}let aW="stack_layout_details_modal--dropdownControl--PRPD5",a$="stack_layout_details_modal--onboardingBody--SQp9T",az="stack_layout_details_modal--input--h2Yc7",aQ="stack_layout_details_modal--chevron--tW9wo";var aX=n(329652);let aj="seen_stack_spacing_auto_onboarding";function aJ(e){let t=(0,aw.C)("fpl_window"),[n,l]=(0,r.useState)(!1),[i,a]=(0,r.useState)({enabled:!1}),o=(0,nO.R)()?(0,G.t)("fullscreen.properties_panel.section_autoLayout.settings"):(0,G.t)("fullscreen.properties_panel.stack_panel.advanced_layout");return t?r.createElement(aO,{id:"LAYOUT_DETAILS_PICKER",tooltip:o,buttonInteractableName:"open_stack_layout_details_modal_button",windowTrackableName:"stack_layout_details_modal",icon:r.createElement(t2.U,{svg:nl.A},r.createElement(rA.A,null)),recordingKey:e.recordingKey},r.createElement(eA.vo,null,r.createElement(eA.Y9,null,r.createElement(eA.hE,null,o)),r.createElement(eA.nB,{noPadding:!0},r.createElement(aZ,{hoveredSetting:i,setHoveredSetting:a,recordingKey:e.recordingKey})))):r.createElement(r.Fragment,null,r.createElement(aL,{title:o,tooltip:o,modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:nl.A,ui3Icon:r.createElement(rA.A,null),buttonClassName:aX.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{l(!0)},250)}},r.createElement(aZ,{hoveredSetting:i,setHoveredSetting:a,recordingKey:e.recordingKey})),n&&r.createElement(a2,{onDismiss:()=>l(!1)}))}function aZ({hoveredSetting:e,setHoveredSetting:t,recordingKey:n}){return r.createElement(r.Fragment,null,r.createElement(aY,{setting:e.setting,enabled:e.enabled}),r.createElement("div",{className:"stack_layout_details_modal--controls--SFjhS"},r.createElement(a1,{updatePreview:t,recordingKey:n}),r.createElement(aq,{updatePreview:t,recordingKey:n}),r.createElement(a0,{updatePreview:t,recordingKey:n})))}function aq({updatePreview:e,recordingKey:t}){let n=(0,l.wA)(),i=(0,rV.Um)(),[a,o]=(0,l9.lJ)("stackReverseZIndex"),s=(0,iM.am)(),c=(0,l.d4)(lV.qd),p=(0,h.GS)(),d=av.Gq()?.getPrimaryLocale(!0)===aT.Xn?120:180,u=!0===a;return r.createElement(iO.E,{name:"stacking_order_control"},r.createElement(aN.L,{label:(0,G.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:u}),onMouseLeave:()=>e({enabled:!1})},r.createElement(lX.l6,{id:"reverse-stacking-order-select",dispatch:n,className:aW,inputClassName:az,chevronClassName:aQ,textAlign:p?void 0:"right",property:a,formatter:a5,onChange:e=>{o(e),s(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:c})},recordingKey:eJ.Pt(t,"reverseStackingOrder"),dropdownShown:i,dropdownAlignment:"right",dropdownWidth:d,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},r.createElement(lX.c$,{value:!0}),r.createElement(lX.c$,{value:!1}))))}function a0({updatePreview:e,recordingKey:t}){let n=(0,l9.kl)("stackMode"),l="BASELINE"===(0,l9.kl)("stackCounterAlignItems"),i="HORIZONTAL"!==n,a=(0,a_.sR)();return r.createElement(iO.E,{name:"baseline_alignment_control"},r.createElement(ak.k,{label:(0,G.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:eJ.Pt(t,"alignToBaseline"),property:l,disabled:i,onChange:t=>{a(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:l})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":i?(0,G.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":t6.Ib.TEXT}))}function a1({updatePreview:e,recordingKey:t}){let n=(0,l.wA)(),i=(0,rV.Um)(),[a,o]=(0,l9.lJ)("bordersTakeSpace"),s=(0,iM.am)(),c=(0,l.d4)(lV.qd),p=(0,h.GS)(),d=!0===a;return r.createElement(iO.E,{name:"borders_take_space_control"},r.createElement(aN.L,{label:(0,G.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:d}),onMouseLeave:()=>e({enabled:!1})},r.createElement(lX.l6,{id:"borders-take-space-select",dispatch:n,className:aW,inputClassName:az,chevronClassName:aQ,dropdownWidth:168,textAlign:p?void 0:"right",property:d,formatter:a4,onChange:e=>{o(e),s("change_borders_take_space",{enabled:e,source:"modal",nodeIds:c})},recordingKey:eJ.Pt(t,"bordersTakeSpace"),dropdownShown:i,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},r.createElement(lX.c$,{value:!0}),r.createElement(lX.c$,{value:!1}))))}let a5={format:e=>e?(0,G.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,G.t)("fullscreen.properties_panel.stack_panel.last_on_top")},a4={format:e=>e?(0,G.t)("fullscreen.properties_panel.stack_panel.included"):(0,G.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,G.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,G.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function a2({onDismiss:e}){let t=(0,l.wA)();return(0,aI.f)(aj)?null:r.createElement(aF.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(aP.b({[aj]:!0})),e()},background:"light",width:268,title:(0,G.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_title"),secondaryCtaText:r.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},(0,G.tx)("general.learn_more")),onClickSecondaryCta:af.lQ,ctaText:(0,G.tx)("general.got_it"),onClickPrimaryCta:e,arrowPosition:eP.F_.RIGHT_TITLE},r.createElement(aD.Gv,{containerClassName:"stack_layout_details_modal--onboardingImg--4Uak-",src:"https://static.figma.com/uploads/94241d15e9d47a0c73734ae71850674f78cd4ab0"}),r.createElement("p",{className:a$},(0,G.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body1",{gapBetweenItems:r.createElement("strong",null,(0,G.tx)("fullscreen.properties_panel.stack_panel.gap_items"))})),r.createElement("p",{className:a$},(0,G.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body2",{auto:r.createElement("strong",null,(0,G.tx)("fullscreen.properties_panel.stack_panel.auto"))})))}var a3=n(695342),a6=n(729943),a7=n(253781);function a8(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5M6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5m-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5zM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034z",clipRule:"evenodd"}))}function a9(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034z",clipRule:"evenodd"}))}function oe(){return(0,t5.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:r,stackMode:l,stackWrap:i,textAutoResize:a,missingFont:o}}}=e;return{showMigrationUi:r,actionEnabledStackSelection:(0,e4.Yh)(t,"stack-selection"),actionEnabledMultiStackSelection:(0,e4.Yh)(t,"run-multi-stack-auto-layout"),actionEnabledUnstackSelection:(0,e4.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===l||(0,ts.gl)(l))&&("WRAP"===i||(0,ts.gl)(i)),textAutoResize:a,missingFont:o}})}function ot(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=oe(),n=t?(0,G.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,G.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:l,actionEnabledUnstackSelection:i}=oe(),a=t?i:l,o=t?"unstack-selection":"stack-selection",s=(0,r.useCallback)(()=>{eh.Y5.triggerActionInUserEditScope(o,{source:"panel"})},[o]);return(0,K.kc)().ce_tv_fpl_toggle_button?r.createElement(l6.f,{checked:t,variant:"highlighted","aria-label":n,onIcon:r.createElement(on,null),offIcon:r.createElement(on,null),onChange:s,disabled:!a,recordingKey:eJ.Pt(e.recordingKey,t?"removeButton":"addButton"),htmlAttributes:{"data-tooltip":n,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip-shortcut-key":o}}):r.createElement(nM.YW,{"aria-label":n,"data-tooltip":n,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip-shortcut-key":o,selected:t,showTooltipWhenSelectedIsTrue:!0,disabled:!a,onClick:s,recordingKey:eJ.Pt(e.recordingKey,t?"removeButton":"addButton")},r.createElement(on,null))}function on(){let e=(0,l9.kl)("stackMode"),t=(0,l9.kl)("stackWrap"),{propertiesPanelShouldShowRemoveAutoLayout:n}=oe();if(!n)return r.createElement(a6.Q,null);if((0,ts.gl)(e)||null==e||(0,ts.gl)(t))return r.createElement(a7.v,null);if("WRAP"===t)return r.createElement(a8,null);switch(e){case"NONE":case"HORIZONTAL":return r.createElement(a7.v,null);case"VERTICAL":return r.createElement(a9,null)}}var or=n(12519),ol=n(258890),oi=n(996620),oa=n(689606),oo=n(957069),os=n(733982);function oc(e){return r.createElement(eZ.k,{name:"stack_panel"},r.createElement("div",{className:"displayContents","data-test-id":"stack_panel"},r.createElement(op,{...e})))}let op=r.memo(e=>{let{version:t}=(0,tp.DP)();return"ui3"===t?r.createElement(ou,{...e}):r.createElement(od,{...e})});function od(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:l,propertiesPanelShouldShowRemoveAutoLayout:i,wrappingEnabled:a}=oe();return r.createElement(tO.Zk,null,r.createElement(iN,{title:(0,G.tx)("fullscreen.properties_panel.stack_panel.auto_layout"),addProperty:()=>{eh.Y5.triggerActionInUserEditScope("stack-selection",{source:"panel"})},removeProperty:()=>{eh.Y5.triggerActionInUserEditScope("unstack-selection",{source:"panel"})},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:i?"-":"+",minusDisabled:!l,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?r.createElement(o_,null):r.createElement(r.Fragment,null,r.createElement(tO.fI,{className:a?aX.TE:aX.mm},r.createElement(oh,{recordingKey:e.recordingKey}),r.createElement("div",{className:aX.T$},r.createElement(ay,{recordingKey:eJ.Pt(e,"alignment")})),r.createElement(aJ,{recordingKey:eJ.Pt(e,"stackLayoutDetails")}),r.createElement(oy,{recordingKey:e.recordingKey}),a&&r.createElement(og,{recordingKey:e.recordingKey})),r.createElement(oS,{recordingKey:e.recordingKey}))))}function ou(e){let t=e.onlyStacksSelected?(0,G.tx)("fullscreen.properties_panel.stack_panel.auto_layout"):(0,G.tx)("fullscreen.properties_panel.stack_panel.layout"),n=(0,w.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels),a=(0,l.d4)(e=>e.mirror.selectionProperties),o=(0,tl.aW)(n,void 0,a,void 0),s=(0,l.d4)(e=>!((0,e6.P)(e.selectedView)&&!(0,e4.Yh)(e.mirror.appModel,"resize-to-fit")));return r.createElement(tO.Zk,{"data-onboarding-key":iY.W},r.createElement(iP.Wv,{titleTx:t},s&&r.createElement(tZ.hw,{recordingKey:eJ.Pt(e,"frameFitButton")}),o?r.createElement(ot,{recordingKey:e.recordingKey}):void 0),r.createElement(om,{...e}))}function om({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:n}){let{showMigrationUi:l,wrappingEnabled:a,textAutoResize:o,missingFont:s}=oe(),c=(0,iK.Df)(),p=(0,ey.o3)(ey.nt.ui3ClipContentControl),d=(0,r.useRef)(null),u=(0,l9.kl)("nodesAreAllInsideStacks"),m=(0,w.J2)(i.Ez5.propertiesPanelState().enabledTypePanelControls),E=!!eh.Y5?.isFontListLoaded(),_=(0,l9.kl)("numSelectedByType"),h=(0,ix.vx)(_,"TEXT"),y="transformPanel",g=r.createElement(r.Fragment,null,r.createElement(iB.E,{recordingKey:y,forwardedRef:d}),r.createElement(iU.J,{visible:!!(e||u),widthHeightRowRef:d})),S=c.fixedFrameOptions&&r.createElement(iD.u,{recordingKey:n}),b=h&&r.createElement("div",{className:aX.Z2},r.createElement(iG.f,{disabled:!E||!!s,enabledTypePanelControls:m,textAutoResize:o,recordingKey:n})),f=r.createElement(iV.e,{recordingKey:y});return!e||t?r.createElement(r.Fragment,null,g,b,!p&&S,f,p&&S):l?r.createElement(o_,null):r.createElement(r.Fragment,null,g,r.createElement(nt.sY,{topLeftInput:r.createElement(oh,{recordingKey:n}),rightInput:r.createElement(ay,{recordingKey:eJ.Pt(n,"alignment")}),leftLabel:a?(0,G.tx)("fullscreen.properties_panel.section_autoLayout.label_direction"):(0,G.tx)("fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"),rightLabel:(0,G.tx)("fullscreen.properties_panel.section_autoLayout.label_alignment"),bottomLeftInput:a?null:r.createElement(oy,{recordingKey:n}),topIcon:r.createElement(aJ,{recordingKey:eJ.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),a?r.createElement(nt.fn,{leftInput:r.createElement(oy,{recordingKey:n}),rightInput:r.createElement(og,{recordingKey:n}),icon:null,leftLabel:(0,G.tx)("fullscreen.properties_panel.section_autoLayout.label_gap"),rightLabel:null}):null,r.createElement(oS,{recordingKey:n}),!p&&r.createElement(iD.u,{recordingKey:n}),f,p&&r.createElement(iD.u,{recordingKey:n}))}let oE=!1;function o_(){let e;let t=(0,iM.am)(),[n,l]=(0,r.useState)(!1),{isOrInInstance:a,containsComponents:o}=(0,t5.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:r}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!r&&!!r.SYMBOL}});(0,r.useEffect)(()=>{oE||(t("stack_v2_migration_info_shown"),oE=!0)},[t]),(0,v.f4)(()=>{l(!1)});let s=(0,r.useCallback)(()=>{let e=i.AlE.getActiveCanvas();nu.l7.user("update-stack-to-alv3",()=>{i.Qa7.updateStackToAutoLayoutV3(e,i.Ez5.bigNudgeAmount())}),eh.Y5.triggerAction("commit"),l(!0),t("stack_v2_migration_updated")},[t]),c=(0,r.useCallback)(e=>{eh.Y5.triggerActionInUserEditScope("undo"),l(!1)},[]);if(n)return r.createElement(tO.fI,{className:aX.A5},r.createElement("span",{className:aX.Yv},(0,G.tx)("fullscreen.properties_panel.stack_panel.auto_layout_updated")),r.createElement("a",{className:aX._V,onClick:c},(0,G.tx)("fullscreen.properties_panel.stack_panel.undo")));let p=i.AlE.getActiveCanvas(),d=i.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(p);return e=a?d?(0,G.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,G.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):o?(0,G.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,G.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),r.createElement(tO.fI,{className:aX.A5},r.createElement("div",{className:aX.Yv},(0,G.tx)("fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"),r.createElement(et.B,{className:aX.zp,svg:os.A,"data-tooltip-type":t6.Ib.SPECIAL,"data-tooltip":iz,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),r.createElement(tu.nR,{onClick:s,className:aX.RM,type:"button",disabled:a&&!d},(0,G.tx)("fullscreen.properties_panel.stack_panel.update")))}function oh(e){let t=(0,iR.Zr)("unstack-selection"),n=(0,l9.kl)("stackMode"),a=(0,l9.kl)("stackWrap"),{version:o}=(0,tp.DP)(),s=(0,iM.am)(),c=(0,l.d4)(lV.qd),p="ui2"===o?aX.N:aX.O_;return r.createElement(iO.E,{name:"stack_mode_control"},r.createElement("div",{className:p,"data-onboarding-key":"stack-mode-control"},r.createElement(iF.I,{property:"HORIZONTAL"===n&&"WRAP"===a?"WRAP":n,onChange:e=>{s("Stack Mode Changed",{stackMode:e,nodeIds:c}),nu.l7.user("set-stack-mode",()=>i.Qa7.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:eJ.Pt(e,"stackMode"),disabled:!t},r.createElement(iF.Y,{svg:oi.A,value:"VERTICAL",tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.vertical_direction")}),r.createElement(iF.Y,{svg:ol.A,value:"HORIZONTAL",tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.horizontal_direction")}),r.createElement(iF.Y,{svg:oo.A,value:"WRAP",tooltip:(0,G.t)("fullscreen.properties_panel.stack_panel.wrap")}))))}function oy(e){let t=(0,iX.Wx)(),n=(0,iX.Y9)(),{version:l}=(0,tp.DP)(),a="ui2"===l?aX.Kz:void 0;return r.createElement(iO.E,{name:"stack_spacing_control"},r.createElement(or.KI,{outerClassName:a,onFocus:()=>t(i.RN9.SPACING,!0),onBlur:()=>t(i.RN9.SPACING,!1),onScrubBegin:()=>t(i.RN9.SPACING,!0),onScrubEnd:()=>t(i.RN9.SPACING,!1),onMouseEnter:()=>n(i.RN9.SPACING,!0),onMouseLeave:()=>n(i.RN9.SPACING,!1),onNudge:()=>i.glU.temporarilyHideOverlay(i.hJs.SELECTION),recordingKey:eJ.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function og(e){let t=(0,iX.Wx)(),n=(0,iX.Y9)(),{version:l}=(0,tp.DP)(),a="ui3"===l?void 0:aX.UN;return r.createElement(iO.E,{name:"stack_counter_spacing_input"},r.createElement(ab.q,{outerClassName:a,onFocus:()=>t(i.RN9.COUNTER_SPACING,!0),onBlur:()=>t(i.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(i.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(i.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>n(i.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(i.RN9.COUNTER_SPACING,!1),onNudge:()=>i.glU.temporarilyHideOverlay(i.hJs.SELECTION),recordingKey:eJ.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}function oS({recordingKey:e}){let[t,n]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1),s=(0,a3.U)(),{version:c}=(0,tp.DP)();(0,v.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:r,stackVerticalPadding:l,stackPaddingBottom:i}=e.mirror.selectionProperties,a=(0,ts.q)(t,r),o=(0,ts.q)(l,i);n((0,ts.gl)(a)||(0,ts.gl)(o)||s)});let p=(0,iM.am)(),d=(0,l.d4)(lV.qd),u=(0,nO.R)(),m=()=>{n(!t),i.Qa7.setFocusStackPanelInput(i.RN9.PADDING_ALL,!1),p(t?"Disable autolayout independent padding":"Enable autolayout independent padding",{nodeIds:d})},E=u?r.createElement(t0.d,{onClick:m,toggled:t,actionOnPointerDown:!0,"aria-label":(0,G.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:eJ.Pt(e,"showAllPaddingControls"),htmlAttributes:{"data-tooltip":(0,G.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip-type":t6.Ib.TEXT,"data-test-id":"stack-padding-toggle"}},r.createElement(iA,null)):r.createElement(iL.m,{"data-tooltip-type":t6.Ib.TEXT,"aria-label":(0,G.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip":(0,G.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:eJ.Pt(e,"showAllPaddingControls"),"data-test-id":"stack-padding-toggle",onMouseDown:m,svg:oa.A,toggled:t,className:aX.NC});return r.createElement(iO.E,{name:"stack_padding_controls"},r.createElement("ui3"===c?of:ob,{showAllPaddingControls:t,showSinglePaddingControl:a,setShowSinglePaddingControl:o,recordingKey:e,handleClick:function(e){(0,ej.Fo)(e)&&o(!0)},showAllPaddingControlsToggle:E}))}function ob({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:i,showAllPaddingControlsToggle:a}){return r.createElement(tO.fI,{heightMultiplier:e&&!t?2:void 0},t?r.createElement(ov,{className:aX.mR,paddingSelection:iX.mx.ALL,setShowSinglePaddingControl:n,focusOnMount:!0,recordingKey:l}):e?r.createElement(r.Fragment,null,r.createElement(ov,{className:F()(aX.oH,aX.aO),paddingSelection:iX.mx.LEFT,onClick:i,recordingKey:l,inputTestId:"padding-left"}),r.createElement(ov,{className:F()(aX.oH,aX.uH),paddingSelection:iX.mx.RIGHT,onClick:i,recordingKey:l,inputTestId:"padding-right"}),r.createElement(ov,{className:F()(aX.T1,aX.aO),paddingSelection:iX.mx.TOP,onClick:i,recordingKey:l,inputTestId:"padding-top"}),r.createElement(ov,{className:F()(aX.T1,aX.uH),paddingSelection:iX.mx.BOTTOM,onClick:i,recordingKey:l,inputTestId:"padding-bottom"})):r.createElement(r.Fragment,null,r.createElement(ov,{className:aX.oH,paddingSelection:iX.mx.HORIZONTAL,onClick:i,recordingKey:l,inputTestId:"padding-horizontal"}),r.createElement(ov,{className:aX.T1,paddingSelection:iX.mx.VERTICAL,onClick:i,recordingKey:l,inputTestId:"padding-vertical"})),a)}function of({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:i,showAllPaddingControlsToggle:a}){return r.createElement(iH.W,{showAllPaddingControls:e,showSinglePaddingControl:t,singleInput:r.createElement(ov,{paddingSelection:iX.mx.ALL,focusOnMount:!0,recordingKey:l,setShowSinglePaddingControl:n}),collapsedLeftInput:r.createElement(ov,{paddingSelection:iX.mx.HORIZONTAL,onClick:i,recordingKey:l,inputTestId:"padding-horizontal"}),collapsedRightInput:r.createElement(ov,{paddingSelection:iX.mx.VERTICAL,onClick:i,recordingKey:l,inputTestId:"padding-vertical"}),expandedTopLeftInput:r.createElement(ov,{paddingSelection:iX.mx.LEFT,onClick:i,recordingKey:l}),expandedBottomLeftInput:r.createElement(ov,{paddingSelection:iX.mx.RIGHT,onClick:i,recordingKey:l}),expandedTopRightInput:r.createElement(ov,{paddingSelection:iX.mx.TOP,onClick:i,recordingKey:l}),expandedBottomRightInput:r.createElement(ov,{paddingSelection:iX.mx.BOTTOM,onClick:i,recordingKey:l}),topIcon:a,leftLabel:(0,G.tx)("fullscreen.properties_panel.section_autoLayout.label_padding"),rightLabel:null,bottomIcon:null})}function ov({className:e,paddingSelection:t,recordingKey:n,inputTestId:l,onClick:a,onBlur:o,focusOnMount:s,setShowSinglePaddingControl:c}){let p=(0,iX.Wx)(),d=(0,iX.Y9)();return r.createElement(a3.s,{outerClassName:e,paddingSelection:t,focusOnMount:s,onFocus:()=>i.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{i.Qa7.setFocusStackPanelInput(t,!1),o?.(e)},onMouseEnter:()=>d(t,!0),onMouseLeave:()=>d(t,!1),onClick:a,onScrubBegin:()=>p(t,!0),onScrubEnd:()=>p(t,!1),onNudge:()=>i.glU.temporarilyHideOverlay(i.hJs.SELECTION),setShowSinglePaddingControl:c,recordingKey:eJ.Pt(n,"stackPadding",iX.mx[t]),inputTestId:l,source:"panel"})}var oT=n(7723);let oP="template-controls-picker";var ow=n(657483);function oI(){let{sceneNodesToEdit:e,description:t}=(0,t5.R)(e=>({sceneNodesToEdit:(0,lV.F4)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",l=r.useCallback((t,n)=>{nu.l7.user("set-description",()=>{for(let r of e)r.setDescriptionRich(t,n)})},[e]),i=r.useCallback(()=>{eh.Y5.commit()},[]);return r.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},r.createElement(ow.A,{description:n,isViewOnly:!1,placeholder:(0,G.t)("design_systems.template_panel.template_placeholder"),onBlur:i,onSubmit:l}))}function oN(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.pickerShown),n=new eT.Mi(t?.initialX,t?.initialY);return t?.id!==oP?null:r.createElement(eP.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(tm.XE())},scrollOverflow:!1,title:(0,G.t)("design_systems.template_panel.template_controls")},r.createElement(oI,null))}var ok=n(979769),oC=n(616713),oA=n(691151),oM=n(999918);let oO=r.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,t5.R)(e=>({containingTemplate:(0,nq._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),i=(0,l.d4)(ny.Dr),a=(0,l.d4)(ny.cB),o=r.useRef(null),s=(0,l.wA)(),c=r.useCallback((e,t,n=t7.qo)=>{if(!o)return;let r=tq.findDOMNode(o.current),l=(0,t7.cn)(r,n);s(tm.u1({id:t,initialX:l.x,initialY:l.y})),s(e0.sw()),s(tm.Uv())},[s]),p=r.useCallback(e=>{t?.id===oP?s(tm.XE()):c(e,oP,320)},[t,s,c]);return e&&e.isAlive()?r.createElement(tO.Zk,{ref:o},r.createElement(tO.fI,{className:ip.LO},r.createElement(oT.R,{guid:e.guid,value:e.name,canEdit:!0,icon:r.createElement(et.B,{svg:oA.A,className:oC.Kk}),editAction:"rename-template"}),r.createElement("span",{className:ok.MC},r.createElement(nM.YW,{className:ok.UW,selected:t?.id===oP,onClick:p,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("design_systems.template_panel.template_controls"),svg:oM.A,recordingKey:"templateControls"}))),r.createElement(nf.n,{description:n}),i&&a&&r.createElement(nv.x,null),r.createElement(oN,null)):null});var ox=n(635736);function oR(e){return e.modalShown?.type===ox.ye.type||e.modalShown?.prevModal?.type===ox.ye.type}function oL(){let e=(0,ox.mB)(),t=(0,r.useCallback)(()=>{e()},[e]),n=(0,l.d4)(oR),i=0===(0,lF.Rb)().length&&!n;return r.createElement(eZ.k,{name:"local_variables_panel"},r.createElement(tO.Zk,null,r.createElement(tO.fI,{className:i?"local_variables_panel--localVariablesPanelRowFaded--atToe local_variables_panel--localVariablesPanelRow--zR8nJ draggable_list--panelHeaderRowFaded--kETRR":"local_variables_panel--localVariablesPanelRow--zR8nJ"},r.createElement(tO.xw,{className:"local_variables_panel--titleText--7rdD7 draggable_list--panelTitleText--SwKez",onClick:t,"data-onboarding-key":"local-variables-panel-title"},(0,G.tx)("variables.local_variables_panel.local_variables_title")),r.createElement(iO.E,{name:"variables_modal_button"},(0,K.kc)().fpl_variables_button_migration?r.createElement(t0.d,{onClick:t,recordingKey:(0,eJ.Pt)("localVariablesPanel","variablesModalButton"),toggled:n,"aria-label":(0,G.t)("variables.local_variables_panel.open_variables_button_tooltip"),htmlAttributes:{"data-tooltip":(0,G.t)("variables.local_variables_panel.open_variables_button_tooltip"),"data-tooltip-type":t6.Ib.TEXT}},r.createElement(t2.U,{svg:rR.A},r.createElement(rA.A,null))):r.createElement(nM.YW,{className:"local_variables_panel--openAuthoringModalButton--FiNXt draggable_list--addButton--D0q--",selected:n,recordingKey:(0,eJ.Pt)("localVariablesPanel","variablesModalButton"),"data-tooltip":(0,G.t)("variables.local_variables_panel.open_variables_button_tooltip"),"data-tooltip-type":t6.Ib.TEXT,onClick:t},r.createElement(t2.U,{svg:rR.A},r.createElement(rA.A,null)))))))}var oF=n(19038);function oD({recordingKey:e}){let t=(0,l.wA)(),{version:n}=(0,tp.DP)(),i=(0,l.d4)(nq._k),a=!(0,l.d4)(nZ.Jp),o=(0,l.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===nX.C4),s=(0,l.d4)(e=>!!e.modalShown&&e.modalShown.type===nJ.n.type),c=(0,l.d4)(e=>e.pickerShown),p=o||s||c?.id===nX.Dd,d=!!(0,l.d4)(nA.Z3).length,u=(0,l.d4)(nA.K4),m=!!u?.length,E=r.useRef(null),_=r.useRef(null),h=r.useCallback(()=>{c&&t(tm.XE()),o?t(n_.oB()):t(n_.j7({type:nX.C4}))},[t,c,o]),y=r.useCallback(()=>{let e=tq.findDOMNode(_.current),n=e?(0,t7.cn)(e,nX.wh):{};t(tm.u1({id:nX.Dd,initialX:n?.x,initialY:n?.y}))},[t]);return i&&m?r.createElement(tO.Zk,{ref:_},r.createElement("ui3"===n?rt:re,{isPanelEmpty:a,isAddPropButtonSelected:p,hasBubbledInstances:d,selectAddPropOptionRef:E,toggleAddPropDropdown:h,stateGroupSelectionMode:void 0}),o&&E.current&&r.createElement(nS.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},r.createElement(nE.c$,{disabled:!0,className:n2},(0,G.tx)("design_systems.component_properties.expose_nested_instances")),r.createElement(nE.c$,{className:n4,onClick:y,recordingKey:"openBubbledPropPicker"},r.createElement(ng.Nu,null,r.createElement(t2.U,{svg:n6.A},r.createElement(oF.r,null))),(0,G.t)("design_systems.component_properties.choose_instances"))),c?.id===nX.Dd&&r.createElement(nj,null),d&&r.createElement(r.Fragment,null,r.createElement("p",{className:n3},(0,G.t)("design_systems.component_properties.bubbled_instances")),r.createElement(nY,{recordingKey:e}))):null}var oV=n(966981),oK=n(392592),oU=n(983724),oB=n(179243),oG=n(549426);function oH({recordingKey:e}){let t=(0,l.wA)(),n=(0,ty.$)(),{Sprig:a}=(0,oV.A)(),o=(0,H.tS)(),s=(0,oU.l5)(),c=r.useCallback((e,r)=>nu.l7.user("swap-slide-theme",()=>{let l=(0,oB.Dh)(e);if(!l)return;let c=new Set(l.variableIDs);r&&(r=r.filter(e=>c.has(e)));let p=i.Ez5.slideThemeLibBindings().swapSelectedSlidesToNewTheme(e,r||[]);p===i.qYO.NO_THEME_COLORS?t(oK.F.enqueue({message:(0,G.t)("slides.properties_panel.theme.shuffle_no_change_visual_bell")})):p===i.qYO.NONE_AVAILABLE&&t(oK.F.enqueue({message:(0,G.t)("slides.properties_panel.theme.no_swap_available")})),o&&D.az.trackDefinedEvent("slides.editor.theme_swap",{fromThemeId:n,toThemeId:e,fileKey:o,slideIds:s.join(",")}),eh.Y5.triggerAction("commit"),a("track","swap_slide_theme")}),[t,a,n,o,s]),p=r.useCallback(()=>{let e=i.Ez5.slideThemeLibBindings().insertDefaultLocalTheme(i.zMY.LIGHT,"Template style");i.Ez5.slideThemeLibBindings().setThemeIdOnSelection(e)},[]);return r.createElement(eZ.k,{name:"slides_theme_panel"},r.createElement(tO.Zk,null,r.createElement(iP.r,{titleTx:(0,G.tx)("slides.properties_panel.theme.panel_title")}),r.createElement("div",{className:R.cx.grid.px16.$},r.createElement(oG.n,{selectedThemeId:n,onChange:c,onCreateNewTheme:p,allowShuffle:!0,allowEditTheme:!0,recordingKey:eJ.Pt(e,"themeDropdown")}))))}function oY({allSavedPlugins:e,appModel:t,colorFormat:n,dropdownShown:o,getContextualSelectionProperties:s,library:c,liveObjectSelected:p,localPlugins:d,modalShown:u,openFile:m,orgEntity:E,pickerInStyleCreationShown:_,pickerShown:h,publishedPlugins:y,saveAsState:g,sceneGraphSelection:S,scrollContainer:b,selectedStyleProperties:f,selectionPaints:v,selectionProperties:T,shownPanels:P,strokePanelMode:w,strokePanelTerminalPointCount:I,stylePickerListLayout:N,stylePickerShown:C}){let A=(0,l.wA)(),M=(0,a.md)(tX.b),O=(0,th.sO)(),x=!!((0,K.kc)().piper_design_styles&&P[i.ibQ.SLIDES_THEME]);return r.createElement(e8.i,null,0===Object.keys(S).length&&r.createElement(r9.Mw,{panelName:r9.ON.DESIGN}),(0,tl.d6)(P)&&r.createElement(r8.AV,{recordingKey:"alignPanel"}),r.createElement(tt.VF,{isVisible:x},()=>r.createElement(oH,{recordingKey:"slidesThemePanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.TRANSFORM_ITEM]},()=>r.createElement(iB.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:M,pickerShown:h,openFileKey:m?.key||null,canEditConstraints:(0,tl.GG)(P),onlyShowXYInputsRow:M===tS.GR.DEFAULT_SIMPLIFIED||(s().areOnlyResponsiveSetsSelected??!1)})),r.createElement(tS.F$,{isVisible:P[i.ibQ.SCALE_ITEM]}),r.createElement(lv.Q,{selection:S,shownPanels:P,scaleShouldHideOtherPanels:(0,tl.NR)(P)}),r.createElement(tt.VF,{isVisible:P[i.ibQ.TEMPLATE_ITEM]},()=>r.createElement(oO,{key:"template"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.TEMPLATE_ITEM]},()=>r.createElement(oD,{key:"templateProperties",recordingKey:"templatePropsPanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.COMPONENT_ITEM]},()=>r.createElement(nb.cu,{key:"component",recordingKey:"componentPanel"})),r.createElement(tt.VF,{isVisible:(0,tl.tV)(P,T.stateGroupSelectionInfo)},()=>r.createElement(n9,{key:"componentProperties",recordingKey:"propsPanel"})),r.createElement(tt.VF,{isVisible:tU(T.pasteSources)},()=>r.createElement(iy.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:T.pasteSources})),r.createElement(tt.VF,{isVisible:(0,tl.M0)(P,p)},()=>r.createElement(lP._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.VECTOR_ITEM]},()=>r.createElement(iB.Ss,{key:"vector-transform",recordingKey:"vectorTransformPanel",isUI3:!1,x:s().x,y:s().y,cornerRadius:s().cornerRadius,handleMirroring:s().handleMirroring,dispatch:A,dropdownShown:o})),r.createElement(tt.VF,{isVisible:(0,tl.zp)(P,T,f,!1)},()=>r.createElement(oc,{key:"stack",onlyShowResizingRow:!1,onlyStacksSelected:!!P[i.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),r.createElement(tt.VF,{isVisible:(0,tl.GG)(P)},()=>r.createElement(lf,{key:"constraints",openFileKey:m?.key||null,dropdownShown:o,recordingKey:"constraintsPanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.MASK_ITEM]},()=>r.createElement(iv,{key:"mask",maskType:T.maskType,dispatch:A,dropdownShown:o,recordingKey:"maskPanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.GRIDS_ITEM]},()=>r.createElement(tS.tC,{key:"grids",selectionProperties:T})),r.createElement(tt.VF,{isVisible:P[i.ibQ.LAYER_ITEM]},()=>r.createElement(iE,{key:"layer",blendMode:T.blendMode,opacity:T.opacity,visible:T.visible,variableConsumptionInfo:T.variableConsumptionInfo,recordingKey:"layerPanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.TYPE_ITEM]},()=>r.createElement(tS.gc,{key:"type",selectionProperties:T})),r.createElement(tt.VF,{isVisible:P[i.ibQ.CANVAS_ITEM]},()=>r.createElement(lh,{key:"canvas-background",backgroundColor:T.backgroundColor,backgroundEnabled:T.backgroundEnabled,backgroundOpacity:T.backgroundOpacity,exportBackgroundDisabled:T.exportBackgroundDisabled,dispatch:A,dropdownShown:o,modalShown:u,editModeType:t.activeCanvasEditModeType,pickerShown:h,currentTool:t.currentTool,colorFormat:n,library:c,openFile:m,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,defaultColor:te.rC,sceneGraphSelection:S,selectedStyleProperties:f,hasExports:!!T.exportSettings&&(0,ts._W)(T.exportSettings,[]).length>0})),r.createElement(tt.VF,{isVisible:P[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(ik,{key:"remove-group-fill-stroke"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.FILL_ITEM]},()=>r.createElement(tS.B8,{key:"fill",selectionProperties:T,variableScopes:tB(T)})),r.createElement(tt.VF,{isVisible:P[i.ibQ.STROKE_ITEM]},()=>r.createElement(tr.$p,{key:"stroke",recordingKey:"strokePanel",stylePickerShown:C,strokePanelMode:w,strokePanelTerminalPointCount:I,strokePaints:T.strokePaints,borderSharedWeight:T.borderSharedWeight,strokeWeight:T.strokeWeight,strokeAlign:T.strokeAlign,strokeCap:T.strokeCap,strokeJoin:T.strokeJoin,miterLimitAngle:T.miterLimitAngle,connectorLineStyle:T.connectorLineStyle,leftEndCap:T.leftEndCap,rightEndCap:T.rightEndCap,maxStrokeWeight:T.maxStrokeWeight,dashPattern:T.dashPattern,dashCap:T.dashCap,terminalCap:T.terminalCap,arcRadius:T.arcRadius,arcSweep:T.arcSweep,numSelectedByType:T.numSelectedByType,dispatch:A,dropdownShown:o,modalShown:u,pickerShown:h,pickerInStyleCreationShown:_,stylePickerListLayout:N,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.Em,inheritStyleKey:T.inheritFillStyleKeyForStroke||null,inheritStyleID:T.styleIdForStrokeFill||null,library:c,sceneGraphSelection:S,selectedStyleProperties:f,openFile:m,isPanelBodyCollapsedAtom:null})),r.createElement(tt.VF,{isVisible:(0,tl.fI)(P,(0,tl.NR)(P),v)},()=>r.createElement(tr.UA,{key:"selection-paints",recordingKey:"selectionPaintsPanel",selectionPaints:v,dispatch:A,dropdownShown:o,sceneGraphSelection:S,currentSelectedGradientStop:t.currentSelectedGradientStop,pickerShown:h,stylePickerListLayout:N,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.rC,library:c,openFile:m,isUI3:!1})),r.createElement(tt.VF,{isVisible:P[i.ibQ.EFFECTS_ITEM]},()=>r.createElement(tS.w5,{key:"effects",selectionProperties:T})),r.createElement(tt.VF,{isVisible:(0,tl.ji)(P,t,S,O)},()=>r.createElement(oL,{key:"local-variables"})),r.createElement(tt.VF,{isVisible:(0,tl.ww)(P,S,O)},()=>r.createElement(r2,{key:"local-styles",recordingKey:"local-styles",scrollContainer:b})),r.createElement(tt.VF,{isVisible:(0,tl.P1)(P,m)},()=>r.createElement(lT.LI,{key:"export",recordingKey:"exportsPanel",openFile:m,singleNodeName:lT.LI.singleNodeNameFrom(T),numSelected:T.numSelected,exportSettings:T.exportSettings,sceneGraphSelection:S,isSelectionRenamable:lT.LI.isSelectionRenamable(Object.keys(S)),currentPage:(0,e4.Nf)(t),dispatch:A,dropdownShown:o,currentSelectedProperty:t.currentSelectedProperty,pickerShown:h,saveAsState:g,panelWidth:tl.iP})),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(P)},()=>r.createElement(iC.Q,{key:"plugin",recordingKey:"pluginPanel",pluginRelaunchData:s().pluginRelaunchData,localPlugins:d,publishedPlugins:y,allSavedPlugins:e.plugins,orgEntity:E,dispatch:A,openFileKey:m?.key||null,editorType:m?.editorType?(0,k.wN)(m.editorType):null,numSelected:s().numSelected??0})),(0,K.kc)().jsx_debugging&&r.createElement(lC,null))}var oW=n(613023),o$=n(668e3),oz=n(290022),oQ=n(493424),oX=n(812835),oj=n(692490),oJ=n(839648);let oZ=(0,lG.Tn)();function oq(e){let t=r.useMemo(lG.On,[]),{isDefReferencedBySelection:n,visibilityIsBoundToComponentProp:l}=(0,t5.R)(e=>({isDefReferencedBySelection:!!t(e,lO.R.VISIBLE),visibilityIsBoundToComponentProp:oZ(e,(0,lV.qd)(e),lO.R.VISIBLE)})),[i]=(0,l9.lJ)("visible"),{consumedVariable:a}=(0,lp.u3)(["VISIBLE"]),o=r.useRef(null),[s,c]=ii("binding-icon"),p=ia(),d=(0,lF.u)(p),u=!!a&&!!d||l||n;return r.createElement("div",{className:io.RK},r.createElement(lW.JQ,{ref:o,currentFieldValue:!!(0,ts.gl)(i)||i,isActive:s,disabled:u,onPickerOpen:()=>c(o.current),recordingKey:eJ.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control",openOnRightClick:!1,inputClassName:F()({"appearance_panel_visibility_binding_icon--iconButtonSelected--At-wP":s,"appearance_panel_visibility_binding_icon--iconButton--EALe5":!s&&!u,"appearance_panel_visibility_binding_icon--iconButtonDisabled--VnIWe":u})},r.createElement(oJ.u,null)))}function o0({blendModeSelectId:e,id:t,recordingKey:n}){let i=(0,l.wA)(),[a,o]=(0,lj.sL)(),s=(0,t5.R)(e=>e.dropdownShown);return(s?.type===e||(0,lj.qg)(a,"PASS_THROUGH"))&&s?.type!==l1(t)?null:r.createElement(nt.DE,{label:(0,G.t)("fullscreen.properties_panel.appearance_panel.blend_mode"),input:r.createElement(l0,{id:t,className:io.jK,inputClassName:io.Df,chevronClassName:io.ai,property:a,dispatch:i,dropdownShown:s,onChange:o,willShowDropdown:()=>((0,D.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:eJ.Pt(n,"blendMode"),isUI3:!0}),icon:r.createElement(z.K,{htmlAttributes:{"data-tooltip":(0,G.t)("general.remove"),"data-tooltip-type":t6.Ib.TEXT},"aria-label":(0,G.t)("general.remove"),onClick:()=>o("PASS_THROUGH"),actionOnPointerDown:!0},r.createElement(nw.f,null))})}function o1(){let{consumedVariable:e,clearVariableConsumption:t}=(0,lp.u3)(["VISIBLE"]),n=ia(),l=(0,lF.u)(n),i=l?.name,a=!!e&&!!l,o=r.useMemo(lG.Tn,[]),s=(0,lF.BQ)(n),c=(0,t5.R)(e=>o(e,(0,lV.qd)(e),lO.R.VISIBLE));return!a||c?null:r.createElement(nt.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:r.createElement(l3.P,{value:i||(0,G.t)("fullscreen.mixed"),variableId:n,isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!l&&(0,l2.eF)(l),fullWidth:!0,varaiablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==s?s:void 0}),icon:r.createElement("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN"},r.createElement(z.K,{onClick:()=>t(),"aria-label":(0,G.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("variables.binding_ui.detach_variable_tooltip")}},r.createElement(lM.U,null))),label:null})}var o5=n(234587);let o4=new lz.SU;class o2 extends lX.c${}class o3 extends lX.l6{renderInput(){return r.createElement(z.K,{recordingKey:(0,eJ.Pt)(this.props.recordingKey,"blendMode"),"aria-label":(0,G.t)("properties.dropdown.apply_blend_mode"),onClick:this.onMouseDown,actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,G.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":t6.Ib.TEXT}},r.createElement(lQ.M,{value:this.props.property,defaultBlendMode:"PASS_THROUGH"}))}}function o6({blendModeRowId:e,id:t,recordingKey:n}){let[i,a]=(0,lj.sL)(),o=(0,l.wA)(),s=(0,rV.Um)(),c=(0,o5.cJ)(),p=!(0,lj.qg)(i,"PASS_THROUGH"),d=lj.j4.map((e,t)=>{let l="LINEAR_BURN"===e&&c;return"SELECT_DIVIDER"===e?r.createElement(lX.sK,{key:t}):r.createElement(o2,{key:t,value:e,disabled:l,recordingKey:eJ.Pt(n,"blendMode",e)})});return p&&s?.type!==t||s?.type===l1(e)?r.createElement(t0.d,{"aria-label":(0,G.t)("properties.dropdown.remove_blend_mode"),toggled:!0,actionOnPointerDown:!0,onClick:()=>a("PASS_THROUGH"),htmlAttributes:{"data-tooltip":(0,G.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":t6.Ib.TEXT}},r.createElement(lQ.M,{value:i,defaultBlendMode:"PASS_THROUGH"})):r.createElement(o3,{id:t,className:"selection_blend_mode_icon_button--container--Wv9Hd",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",property:i,onChange:a,formatter:o4,dispatch:o,dropdownShown:s,onMouseDown:nk.dG,minTop:6,recordingKey:eJ.Pt(n,"blendMode"),enablePreview:!0,dropdownAlignment:"right",willShowDropdown:()=>((0,D.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())},d)}var o7=n(391299);let o8="layer-blend-mode",o9="layer-blend-mode-select";function se(e){let t=(0,iK.Df)(),n=(0,aw.C)("fpl_dialog_trigger"),a=(0,iK.Jo)(),o=(0,aM.kG)("corner-smoothing"),[s]=(0,l9.lJ)("rectangleCornerRadiiIndependent"),c=(0,l9.kl)("visible"),p=!a.rectangleCornerRadii,d=t.cornerRadius,[u,m]=r.useState(null),[E]=(0,l9.lJ)("opacity"),_=t.rectangleCornerRadii,h=t.rectangleCornerRadii&&!!u,y=!a.cornerRadius,g=y||p,S=(0,r.useRef)(null),b=r.useRef(null),f=il(),v=(0,ey.o3)(ey.nt.ui3NewVectorIA),T=(0,l9.kl)("handleMirroring"),P=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===i.m1T.VECTOR),w=v&&T&&P,I=r.useMemo(lG.On,[]),{isDefReferencedBySelection:N,selectedGUIDs:k}=(0,t5.R)(e=>({isDefReferencedBySelection:!!I(e,lO.R.VISIBLE),selectedGUIDs:(0,lV.qd)(e)})),C=(0,lU.Yc)(lO.R.VISIBLE,k),A=(0,K.kc)().ds_variable_props_unified_ui&&(!C||N),M=r.useCallback((e,t)=>{eh.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!N&&eh.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[N]),O=(0,r.useCallback)(()=>{o.hide(),eh.Y5.deselectProperty()},[o]),x=(0,l.wA)(),R=r.useCallback(()=>{(0,K.kc)().ce_properties_panel_tracking&&(0,D.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,ts._W)(s,!1)}),!h&&S.current?m((0,t7.cn)(S.current,parseInt(o7.Je,10))):m(null)},[s,h]),L=n?r.createElement(t0.d,{actionOnPointerDown:!0,toggled:h,onClick:R,"aria-label":(0,G.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:g,recordingKey:eJ.Pt(e,"rectangleCornerToolIndependentToggle")},r.createElement(oW.Q,null)):r.createElement(tO.YW,{selected:h,onClick:R,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:eJ.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:g},r.createElement(oW.Q,null)),F=(0,K.kc)().ce_tv_fpl_dialog_trigger_button?r.createElement(t0.d,{recordingKey:eJ.Pt(e,"cornerSmoothingToggle"),"aria-label":(0,G.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),toggled:o.showing,disabled:y,htmlAttributes:{onMouseDown:e=>{(0,oz._t)(o,S,e)},"data-tooltip":(0,G.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"data-tooltip-type":t6.Ib.TEXT}},r.createElement(t1.J,null)):r.createElement(tO.YW,{onMouseDown:e=>{(0,oz._t)(o,S,e)},recordingKey:eJ.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:o.showing,disabled:y},r.createElement(t1.J,null)),V=w&&r.createElement(iB.Cs,{handleMirroring:T,recordingKey:eJ.Pt(e,"mirroring")});return r.useEffect(()=>{m(null)},[k]),r.createElement(tO.Zk,null,r.createElement(iP.Wv,{titleTx:(0,G.tx)("fullscreen.appearance_panel.appearance")},!f&&!A&&r.createElement(lU.yQ,{nodeField:lO.R.VISIBLE,defaultValue:c,guids:k}),r.createElement(lm,{recordingKey:"frameLevel"}),r.createElement(la.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),r.createElement(ic,{recordingKey:e.recordingKey}),A&&r.createElement(oq,{recordingKey:e.recordingKey}),r.createElement(o6,{id:o9,blendModeRowId:o8,recordingKey:e.recordingKey})),r.createElement(nt.fn,{ref:S,leftInput:r.createElement(lW.sA,{recordingKey:eJ.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:i.rXF.FLOAT,currentFieldValue:(0,ts.hS)(E)?E:void 0,inputRef:b,hasBindingContextMenu:!0},r.createElement(lY.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,noBorderOnHover:!0,isTokenizable:!0,value:E,onValueChange:M,mixedMathHandler:st,dispatch:x,recordingKey:eJ.Pt(e,"opacity"),forwardedRef:b},r.createElement("div",{className:"appearance_panel--opacityIconContainer---kdX-"},r.createElement(o$.N,null)))),rightInput:r.createElement(oQ.C,{recordingKey:e.recordingKey,disabled:!d||h||y}),icon:d?_?r.createElement(iO.E,{name:"independent_corner_radius_toggle"},L):F:null,leftLabel:(0,G.tx)("fullscreen.properties_panel.section_appearance.label_opacity"),rightLabel:(0,G.tx)("fullscreen.properties_panel.transform_panel.corner_radius")}),V&&r.createElement(nt.DE,{label:(0,G.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:V,icon:null}),(t.count||t.starInnerScale)&&r.createElement(iB.cU,{countShown:t.count,countDisabled:!a.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!a.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&r.createElement(iB.Je,{arcDataDisabled:!a.arcData,recordingKey:e.recordingKey}),r.createElement(o0,{id:o8,blendModeSelectId:o9,recordingKey:e.recordingKey}),r.createElement(lB.L,{nodeField:lO.R.VISIBLE,currentValue:c}),r.createElement(ll.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),r.createElement(o1,null),h&&u&&r.createElement(oj.$,{initialPosition:u,onClose:R,recordingKey:eJ.Pt(e,"advanced")}),o.showing&&r.createElement(oX.T,{initialPosition:o.initialPosition,onClose:O,recordingKey:eJ.Pt(e,"advanced")}))}let st=new i_;var sn=n(756015);function sr({allSavedPlugins:e,appModel:t,colorFormat:n,dropdownShown:o,getContextualSelectionProperties:s,library:c,liveObjectSelected:p,localPlugins:d,modalShown:u,openFile:m,orgEntity:E,pickerInStyleCreationShown:_,pickerShown:h,publishedPlugins:y,saveAsState:g,sceneGraphSelection:S,scrollContainer:b,selectedStyleProperties:f,selectionPaints:v,selectionProperties:T,shownPanels:P,strokePanelMode:w,strokePanelTerminalPointCount:I,stylePickerListLayout:N,stylePickerShown:C}){let A=(0,l.wA)(),M=(0,a.md)(tX.b),O=(0,th.sO)(),x=!!((0,K.kc)().piper_design_styles&&P[i.ibQ.SLIDES_THEME]);return r.createElement(e8.i,null,0===Object.keys(S).length&&r.createElement(r9.Mw,{panelName:r9.ON.DESIGN}),r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:(0,tl.tV)(P,T.stateGroupSelectionInfo),shouldShowInstancePanel:(0,tl.M0)(P,p)}),r.createElement(tt.VF,{isVisible:(0,tl.tV)(P,T.stateGroupSelectionInfo)},()=>r.createElement(n9,{key:"componentProperties",recordingKey:"propsPanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.COMPONENT_ITEM]},()=>r.createElement(nb.cu,{key:"component",recordingKey:"componentPanel"})),r.createElement(tt.VF,{isVisible:(0,tl.M0)(P,p)},()=>r.createElement(lP._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(tt.VF,{isVisible:x},()=>r.createElement(oH,{recordingKey:"slidesThemePanel"})),r.createElement(tt.VF,{isVisible:(0,tl.d6)(P)||P[i.ibQ.TRANSFORM_ITEM]},()=>r.createElement(iB.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:M,pickerShown:h,openFileKey:m?.key||null,canEditConstraints:(0,tl.GG)(P),onlyShowXYInputsRow:M===tS.GR.DEFAULT_SIMPLIFIED||(s().areOnlyResponsiveSetsSelected??!1)})),r.createElement(tt.VF,{isVisible:(0,tl.zp)(P,T,f,!0)},()=>r.createElement(oc,{key:"stack",recordingKey:"stackPanel",onlyShowResizingRow:M===tS.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:!!P[i.ibQ.STACK_ITEM]})),r.createElement(tS.F$,{isVisible:P[i.ibQ.SCALE_ITEM]}),r.createElement(lv.Q,{selection:S,shownPanels:P,scaleShouldHideOtherPanels:(0,tl.NR)(P)}),r.createElement(tt.VF,{isVisible:P[i.ibQ.TEMPLATE_ITEM]},()=>r.createElement(oO,{key:"template"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.TEMPLATE_ITEM]},()=>r.createElement(oD,{key:"templateProperties",recordingKey:"templatePropsPanel"})),r.createElement(tt.VF,{isVisible:p},()=>r.createElement(iy.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:T.pasteSources})),r.createElement(tt.VF,{isVisible:P[i.ibQ.VECTOR_ITEM]},()=>r.createElement(iB.Ss,{isUI3:!0,key:"vector-transform",recordingKey:"vectorTransformPanel",x:T.x,y:T.y,cornerRadius:T.cornerRadius,handleMirroring:T.handleMirroring,dispatch:A,dropdownShown:o})),r.createElement(tt.VF,{isVisible:P[i.ibQ.MASK_ITEM]},()=>r.createElement(iv,{key:"mask",recordingKey:"maskPanel",maskType:s().maskType,dispatch:A,dropdownShown:o})),r.createElement(tt.VF,{isVisible:P[i.ibQ.LAYER_ITEM]},()=>r.createElement(se,{recordingKey:"appearancePanel"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.TYPE_ITEM]},()=>r.createElement(tS.gc,{key:"type",selectionProperties:T})),r.createElement(tt.VF,{isVisible:P[i.ibQ.CANVAS_ITEM]},()=>r.createElement(lh,{key:"canvas-background",recordingKey:"canvasBackgroundPanel",backgroundColor:T.backgroundColor,backgroundEnabled:T.backgroundEnabled,backgroundOpacity:T.backgroundOpacity,exportBackgroundDisabled:T.exportBackgroundDisabled,dispatch:A,dropdownShown:o,modalShown:u,editModeType:t.activeCanvasEditModeType,pickerShown:h,currentTool:t.currentTool,colorFormat:n,library:c,openFile:m,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,defaultColor:te.rC,sceneGraphSelection:S,selectedStyleProperties:f,hasExports:!!T.exportSettings&&(0,ts._W)(T.exportSettings,[]).length>0})),r.createElement(tt.VF,{isVisible:P[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(ik,{key:"remove-group-fill-stroke"})),r.createElement(tt.VF,{isVisible:P[i.ibQ.FILL_ITEM]},()=>r.createElement(tS.B8,{key:"fill",selectionProperties:T,variableScopes:tB(T)})),r.createElement(tt.VF,{isVisible:P[i.ibQ.STROKE_ITEM]},()=>r.createElement(tr.$p,{key:"stroke",recordingKey:"strokePanel",stylePickerShown:C,strokePanelMode:w,strokePanelTerminalPointCount:I,strokePaints:T.strokePaints,borderSharedWeight:T.borderSharedWeight,strokeWeight:T.strokeWeight,strokeAlign:T.strokeAlign,strokeCap:T.strokeCap,strokeJoin:T.strokeJoin,miterLimitAngle:T.miterLimitAngle,connectorLineStyle:T.connectorLineStyle,leftEndCap:T.leftEndCap,rightEndCap:T.rightEndCap,maxStrokeWeight:T.maxStrokeWeight,dashPattern:T.dashPattern,dashCap:T.dashCap,terminalCap:T.terminalCap,arcRadius:T.arcRadius,arcSweep:T.arcSweep,numSelectedByType:T.numSelectedByType,dispatch:A,dropdownShown:o,modalShown:u,pickerShown:h,pickerInStyleCreationShown:_,stylePickerListLayout:N,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.Em,inheritStyleKey:T.inheritFillStyleKeyForStroke||null,inheritStyleID:T.styleIdForStrokeFill||null,library:c,sceneGraphSelection:S,selectedStyleProperties:f,openFile:m,isPanelBodyCollapsedAtom:null})),r.createElement(tt.VF,{isVisible:P[i.ibQ.EFFECTS_ITEM]},()=>r.createElement(tS.w5,{key:"effects",selectionProperties:T})),r.createElement(tt.VF,{isVisible:(0,tl.fI)(P,(0,tl.NR)(P),v)},()=>r.createElement(tr.UA,{isUI3:!0,key:"selection-paints",recordingKey:"selectionPaintsPanel",selectionPaints:v,dispatch:A,dropdownShown:o,sceneGraphSelection:S,currentSelectedGradientStop:t.currentSelectedGradientStop,pickerShown:h,stylePickerListLayout:N,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.rC,library:c,openFile:m})),r.createElement(tt.VF,{isVisible:(0,tl.ji)(P,t,S,O)},()=>r.createElement(oL,{key:"local-variables"})),r.createElement(tt.VF,{isVisible:(0,tl.ww)(P,S,O)},()=>r.createElement(r2,{key:"local-styles",recordingKey:"local-styles",scrollContainer:b})),r.createElement(tt.VF,{isVisible:P[i.ibQ.GRIDS_ITEM]},()=>r.createElement(tS.tC,{key:"grids",selectionProperties:T})),r.createElement(tt.VF,{isVisible:(0,tl.P1)(P,m)},()=>r.createElement(lT.LI,{key:"export",recordingKey:"exportsPanel",openFile:m,singleNodeName:lT.LI.singleNodeNameFrom(T),numSelected:T.numSelected,exportSettings:T.exportSettings,isSelectionRenamable:lT.LI.isSelectionRenamable(Object.keys(S)),sceneGraphSelection:S,currentPage:(0,e4.Nf)(t),dispatch:A,dropdownShown:o,currentSelectedProperty:t.currentSelectedProperty,pickerShown:h,saveAsState:g,panelWidth:tl.iP})),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(P)},()=>r.createElement(iC.Q,{key:"plugin",recordingKey:"pluginPanel",pluginRelaunchData:s().pluginRelaunchData,localPlugins:d,publishedPlugins:y,allSavedPlugins:e.plugins,orgEntity:E,dispatch:A,openFileKey:m?.key||null,editorType:m?.editorType?(0,k.wN)(m.editorType):null,numSelected:s().numSelected??0})),(0,K.kc)().jsx_debugging&&r.createElement(lC,null))}function sl(e){let t=(0,l.wA)(),n=(0,h.GS)(),a=(0,T.iZ)(),s=(0,w.J2)((0,y.UK)().expandedFramePresetType);return(((0,tj.Im)(e.shownPanels)||Object.keys(e.shownPanels).every(t=>!e.shownPanels[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,o.Lg)()&&!(0,o.nl)()&&(0,tJ.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,tj.Im)(e.shownPanels),shouldRenderInspectTab:(0,tl.S4)(e.appModel,a)}),e.shownPanels[i.ibQ.FRAME_PRESETS])?r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(tZ.nl,{key:"frame-presets",recordingKey:"framePresetPanel",dispatch:t,expandedFramePresetType:s}))):e.shownPanels[i.ibQ.PENCIL_TOOL]?r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(ns,{key:"pencilToolPanel",recordingKey:"pencilToolPanel",id:"pencilToolPanel",openFile:e.openFile}))):n?r.createElement(sr,{...e}):r.createElement(oY,{...e})}var si=n(675678),sa=n(581138),so=n(447141);function ss({onExpand:e}){return r.createElement(tO.Zk,{"data-testid":"toggle-simplified-panels",className:so.aW},r.createElement(sa.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},(0,G.tx)("design_systems.component_properties.show_more_properties")))}function sc({allSavedPlugins:e,appModel:t,colorFormat:n,dropdownShown:o,getContextualSelectionProperties:s,library:c,liveObjectSelected:p,localPlugins:d,modalShown:u,openFile:m,orgEntity:E,pickerInStyleCreationShown:_,pickerShown:h,publishedPlugins:y,saveAsState:g,sceneGraphSelection:S,selectedStyleProperties:b,selectionPaints:f,selectionProperties:v,shownPanels:T,strokePanelMode:P,strokePanelTerminalPointCount:w,stylePickerListLayout:I,stylePickerShown:N}){let C=(0,l.wA)(),[A,M]=(0,a.fp)(tX.b),O=!!((0,K.kc)().piper_design_styles&&T[i.ibQ.SLIDES_THEME]);return r.createElement(e8.i,null,(0,tl.d6)(T)&&r.createElement(r8.AV,{recordingKey:"alignPanel"}),r.createElement(tt.VF,{isVisible:O},()=>r.createElement(oH,{recordingKey:"slidesThemePanel"})),r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(iB.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:A,pickerShown:h,openFileKey:m?.key||null,canEditConstraints:!1,onlyShowXYInputsRow:!1})),r.createElement(tS.F$,{isVisible:T[i.ibQ.SCALE_ITEM]}),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(T)&&!p},()=>r.createElement(lP._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(tt.VF,{isVisible:(0,tl.GG)(T)},()=>r.createElement(lf,{key:"constraints",recordingKey:"constraintsPanel",openFileKey:m?.key||null,dropdownShown:o})),r.createElement(tt.VF,{isVisible:T[i.ibQ.LAYER_ITEM]},()=>r.createElement(iE,{key:"layer",recordingKey:"layerPanel",blendMode:v.blendMode,opacity:v.opacity,visible:v.visible,variableConsumptionInfo:v.variableConsumptionInfo})),A===tS.GR.DEFAULT_SIMPLIFIED&&r.createElement(ss,{onExpand:()=>M(tS.GR.OVERRIDDEN_EXPANDED)}),A===tS.GR.OVERRIDDEN_EXPANDED&&r.createElement(r.Fragment,null,r.createElement(lv.Q,{selection:S,shownPanels:T,scaleShouldHideOtherPanels:(0,tl.NR)(T)}),r.createElement(tt.VF,{isVisible:T[i.ibQ.TEMPLATE_ITEM]},()=>r.createElement(oO,{key:"template"})),r.createElement(tt.VF,{isVisible:T[i.ibQ.COMPONENT_ITEM]},()=>r.createElement(nb.cu,{key:"component",recordingKey:"componentPanel"})),r.createElement(tt.VF,{isVisible:T[i.ibQ.VECTOR_ITEM]},()=>r.createElement(iB.Ss,{key:"vector-transform",recordingKey:"vectorTransformPanel",x:v.x,y:v.y,cornerRadius:v.cornerRadius,handleMirroring:v.handleMirroring,dispatch:C,dropdownShown:o,isUI3:!1})),r.createElement(tt.VF,{isVisible:(0,tl.zp)(T,v,b,!1)},()=>r.createElement(oc,{key:"stack",recordingKey:"stackPanel",onlyShowResizingRow:!1,onlyStacksSelected:!!T[i.ibQ.STACK_ITEM]})),r.createElement(tt.VF,{isVisible:T[i.ibQ.MASK_ITEM]},()=>r.createElement(iv,{key:"mask",recordingKey:"maskPanel",maskType:s().maskType,dispatch:C,dropdownShown:o})),r.createElement(tt.VF,{isVisible:T[i.ibQ.GRIDS_ITEM]},()=>r.createElement(tS.tC,{key:"grids",selectionProperties:v})),r.createElement(tt.VF,{isVisible:T[i.ibQ.TYPE_ITEM]},()=>r.createElement(tS.gc,{key:"type",selectionProperties:v})),r.createElement(tt.VF,{isVisible:T[i.ibQ.CANVAS_ITEM]},()=>r.createElement(lh,{key:"canvas-background",recordingKey:"canvasBackgroundPanel",backgroundColor:v.backgroundColor,backgroundEnabled:v.backgroundEnabled,backgroundOpacity:v.backgroundOpacity,exportBackgroundDisabled:v.exportBackgroundDisabled,dispatch:C,dropdownShown:o,modalShown:u,editModeType:t.activeCanvasEditModeType,pickerShown:h,currentTool:t.currentTool,colorFormat:n,library:c,openFile:m,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,defaultColor:te.rC,sceneGraphSelection:S,selectedStyleProperties:b,hasExports:!!v.exportSettings&&(0,ts._W)(v.exportSettings,[]).length>0})),r.createElement(tt.VF,{isVisible:T[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(ik,{key:"remove-group-fill-stroke"})),r.createElement(tt.VF,{isVisible:T[i.ibQ.FILL_ITEM]},()=>r.createElement(tS.B8,{key:"fill",selectionProperties:v,variableScopes:tB(v)})),r.createElement(tt.VF,{isVisible:T[i.ibQ.STROKE_ITEM]},()=>r.createElement(tr.$p,{key:"stroke",recordingKey:"strokePanel",stylePickerShown:N,strokePanelMode:P,strokePanelTerminalPointCount:w,strokePaints:v.strokePaints,borderSharedWeight:v.borderSharedWeight,strokeWeight:v.strokeWeight,strokeAlign:v.strokeAlign,strokeCap:v.strokeCap,strokeJoin:v.strokeJoin,miterLimitAngle:v.miterLimitAngle,connectorLineStyle:v.connectorLineStyle,leftEndCap:v.leftEndCap,rightEndCap:v.rightEndCap,maxStrokeWeight:v.maxStrokeWeight,dashPattern:v.dashPattern,dashCap:v.dashCap,terminalCap:v.terminalCap,arcRadius:v.arcRadius,arcSweep:v.arcSweep,numSelectedByType:v.numSelectedByType,dispatch:C,dropdownShown:o,modalShown:u,pickerShown:h,pickerInStyleCreationShown:_,stylePickerListLayout:I,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.Em,inheritStyleKey:v.inheritFillStyleKeyForStroke||null,inheritStyleID:v.styleIdForStrokeFill||null,library:c,sceneGraphSelection:S,selectedStyleProperties:b,openFile:m,isPanelBodyCollapsedAtom:null})),r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(tr.UA,{key:"selection-paints",recordingKey:"selectionPaintsPanel",selectionPaints:f,dispatch:C,dropdownShown:o,sceneGraphSelection:S,currentSelectedGradientStop:t.currentSelectedGradientStop,pickerShown:h,stylePickerListLayout:I,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.rC,library:c,openFile:m,isUI3:!1})),r.createElement(tt.VF,{isVisible:T[i.ibQ.EFFECTS_ITEM]},()=>r.createElement(tS.w5,{key:"effects",selectionProperties:v})),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(T)},()=>r.createElement(iC.Q,{key:"plugin",recordingKey:"pluginPanel",pluginRelaunchData:s().pluginRelaunchData,localPlugins:d,publishedPlugins:y,allSavedPlugins:e.plugins,orgEntity:E,dispatch:C,openFileKey:m?.key||null,editorType:m?.editorType?(0,k.wN)(m.editorType):null,numSelected:s().numSelected??0}))),r.createElement(tt.VF,{isVisible:(0,tl.P1)(T,m)},()=>r.createElement(lT.LI,{key:"export",recordingKey:"exportsPanel",openFile:m,singleNodeName:lT.LI.singleNodeNameFrom(v),numSelected:v.numSelected,exportSettings:v.exportSettings,sceneGraphSelection:S,currentPage:(0,e4.Nf)(t),isSelectionRenamable:lT.LI.isSelectionRenamable(Object.keys(S)),dispatch:C,dropdownShown:o,currentSelectedProperty:t.currentSelectedProperty,pickerShown:h,saveAsState:g,panelWidth:tl.iP})),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(T)},()=>r.createElement(iC.Q,{key:"plugin",recordingKey:"pluginPanel",pluginRelaunchData:s().pluginRelaunchData,localPlugins:d,publishedPlugins:y,allSavedPlugins:e.plugins,orgEntity:E,dispatch:C,openFileKey:m?.key||null,editorType:m?.editorType?(0,k.wN)(m.editorType):null,numSelected:s().numSelected??0})))}function sp({allSavedPlugins:e,appModel:t,colorFormat:n,dropdownShown:o,getContextualSelectionProperties:s,library:c,liveObjectSelected:p,localPlugins:d,modalShown:u,openFile:m,orgEntity:E,pickerInStyleCreationShown:_,pickerShown:h,publishedPlugins:y,saveAsState:g,sceneGraphSelection:S,selectedStyleProperties:b,selectionPaints:f,selectionProperties:v,shownPanels:T,strokePanelMode:P,strokePanelTerminalPointCount:w,stylePickerListLayout:I,stylePickerShown:N}){let C=(0,l.wA)(),[A,M]=(0,a.fp)(tX.b),O=!!((0,K.kc)().piper_design_styles&&T[i.ibQ.SLIDES_THEME]);return r.createElement(e8.i,null,0===Object.keys(S).length&&r.createElement(r9.Mw,{panelName:r9.ON.DESIGN}),r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:(0,tl.tV)(T,v.stateGroupSelectionInfo),shouldShowInstancePanel:(0,tl.M0)(T,p)}),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(T)&&!p},()=>r.createElement(lP._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(tt.VF,{isVisible:O},()=>r.createElement(oH,{recordingKey:"slidesThemePanel"})),r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(iB.zq,{key:"transform",recordingKey:"transformPanel",propertiesPanelState:A,pickerShown:h,openFileKey:m?.key||null,canEditConstraints:(0,tl.GG)(T),onlyShowXYInputsRow:A===tS.GR.DEFAULT_SIMPLIFIED||(s().areOnlyResponsiveSetsSelected??!1)})),r.createElement(tt.VF,{isVisible:(0,tl.zp)(T,v,b,!0)},()=>r.createElement(oc,{key:"stack",recordingKey:"stackPanel",onlyShowResizingRow:A===tS.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:!!T[i.ibQ.STACK_ITEM]})),r.createElement(tS.F$,{isVisible:T[i.ibQ.SCALE_ITEM]}),A===tS.GR.DEFAULT_SIMPLIFIED&&r.createElement(ss,{onExpand:()=>M(tS.GR.OVERRIDDEN_EXPANDED)}),A===tS.GR.OVERRIDDEN_EXPANDED&&r.createElement(r.Fragment,null,r.createElement(tt.VF,{isVisible:T[i.ibQ.LAYER_ITEM]},()=>r.createElement(se,{recordingKey:"appearancePanel"})),r.createElement(lv.Q,{selection:S,shownPanels:T,scaleShouldHideOtherPanels:(0,tl.NR)(T)}),r.createElement(tt.VF,{isVisible:T[i.ibQ.TEMPLATE_ITEM]},()=>r.createElement(oO,{key:"template"})),r.createElement(tt.VF,{isVisible:T[i.ibQ.COMPONENT_ITEM]},()=>r.createElement(nb.cu,{key:"component",recordingKey:"componentPanel"})),r.createElement(tt.VF,{isVisible:T[i.ibQ.VECTOR_ITEM]},()=>r.createElement(iB.Ss,{isUI3:!0,key:"vector-transform",recordingKey:"vectorTransformPanel",x:v.x,y:v.y,cornerRadius:v.cornerRadius,handleMirroring:v.handleMirroring,dispatch:C,dropdownShown:o})),r.createElement(tt.VF,{isVisible:T[i.ibQ.MASK_ITEM]},()=>r.createElement(iv,{key:"mask",recordingKey:"maskPanel",maskType:s().maskType,dispatch:C,dropdownShown:o})),r.createElement(tt.VF,{isVisible:T[i.ibQ.TYPE_ITEM]},()=>r.createElement(tS.gc,{key:"type",selectionProperties:v})),r.createElement(tt.VF,{isVisible:T[i.ibQ.CANVAS_ITEM]},()=>r.createElement(lh,{key:"canvas-background",recordingKey:"canvasBackgroundPanel",backgroundColor:v.backgroundColor,backgroundEnabled:v.backgroundEnabled,backgroundOpacity:v.backgroundOpacity,exportBackgroundDisabled:v.exportBackgroundDisabled,dispatch:C,dropdownShown:o,modalShown:u,editModeType:t.activeCanvasEditModeType,pickerShown:h,currentTool:t.currentTool,colorFormat:n,library:c,openFile:m,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,defaultColor:te.rC,sceneGraphSelection:S,selectedStyleProperties:b,hasExports:!!v.exportSettings&&(0,ts._W)(v.exportSettings,[]).length>0})),r.createElement(tt.VF,{isVisible:T[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(ik,{key:"remove-group-fill-stroke"})),r.createElement(tt.VF,{isVisible:T[i.ibQ.FILL_ITEM]},()=>r.createElement(tS.B8,{key:"fill",selectionProperties:v,variableScopes:tB(v)})),r.createElement(tt.VF,{isVisible:T[i.ibQ.STROKE_ITEM]},()=>r.createElement(tr.$p,{key:"stroke",recordingKey:"strokePanel",stylePickerShown:N,strokePanelMode:P,strokePanelTerminalPointCount:w,strokePaints:v.strokePaints,borderSharedWeight:v.borderSharedWeight,strokeWeight:v.strokeWeight,strokeAlign:v.strokeAlign,strokeCap:v.strokeCap,strokeJoin:v.strokeJoin,miterLimitAngle:v.miterLimitAngle,connectorLineStyle:v.connectorLineStyle,leftEndCap:v.leftEndCap,rightEndCap:v.rightEndCap,maxStrokeWeight:v.maxStrokeWeight,dashPattern:v.dashPattern,dashCap:v.dashCap,terminalCap:v.terminalCap,arcRadius:v.arcRadius,arcSweep:v.arcSweep,numSelectedByType:v.numSelectedByType,dispatch:C,dropdownShown:o,modalShown:u,pickerShown:h,pickerInStyleCreationShown:_,stylePickerListLayout:I,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.Em,inheritStyleKey:v.inheritFillStyleKeyForStroke||null,inheritStyleID:v.styleIdForStrokeFill||null,library:c,sceneGraphSelection:S,selectedStyleProperties:b,openFile:m,isPanelBodyCollapsedAtom:null})),r.createElement(tt.VF,{isVisible:T[i.ibQ.EFFECTS_ITEM]},()=>r.createElement(tS.w5,{key:"effects",selectionProperties:v})),r.createElement(tt.VF,{isVisible:(0,tl.fI)(T,(0,tl.NR)(T),f)},()=>r.createElement(tr.UA,{isUI3:!0,key:"selection-paints",recordingKey:"selectionPaintsPanel",selectionPaints:f,dispatch:C,dropdownShown:o,sceneGraphSelection:S,currentSelectedGradientStop:t.currentSelectedGradientStop,pickerShown:h,stylePickerListLayout:I,currentTool:t.currentTool,colorFormat:n,editModeType:t.activeCanvasEditModeType,defaultColor:te.rC,library:c,openFile:m})),r.createElement(tt.VF,{isVisible:T[i.ibQ.GRIDS_ITEM]},()=>r.createElement(tS.tC,{key:"grids",selectionProperties:v})),r.createElement(tt.VF,{isVisible:(0,tl.P1)(T,m)},()=>r.createElement(lT.LI,{key:"export",recordingKey:"exportsPanel",openFile:m,singleNodeName:lT.LI.singleNodeNameFrom(v),isSelectionRenamable:lT.LI.isSelectionRenamable(Object.keys(S)),numSelected:v.numSelected,exportSettings:v.exportSettings,sceneGraphSelection:S,currentPage:(0,e4.Nf)(t),dispatch:C,dropdownShown:o,currentSelectedProperty:t.currentSelectedProperty,pickerShown:h,saveAsState:g,panelWidth:tl.iP})),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(T)},()=>r.createElement(iC.Q,{key:"plugin",recordingKey:"pluginPanel",pluginRelaunchData:s().pluginRelaunchData,localPlugins:d,publishedPlugins:y,allSavedPlugins:e.plugins,orgEntity:E,dispatch:C,openFileKey:m?.key||null,editorType:m?.editorType?(0,k.wN)(m.editorType):null,numSelected:s().numSelected??0}))),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(T)},()=>r.createElement(iC.Q,{key:"plugin",recordingKey:"pluginPanel",pluginRelaunchData:s().pluginRelaunchData,localPlugins:d,publishedPlugins:y,allSavedPlugins:e.plugins,orgEntity:E,dispatch:C,openFileKey:m?.key||null,editorType:m?.editorType?(0,k.wN)(m.editorType):null,numSelected:s().numSelected??0})))}function sd(e){let t=(0,h.GS)();if((0,tj.Im)(e.shownPanels)||Object.keys(e.shownPanels).every(t=>!e.shownPanels[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,tJ.$D)(si.FigmaTeam.EDITOR_USABILITY,e)}return t?r.createElement(sp,{...e}):r.createElement(sc,{...e})}function su({scrollContainer:e,...t}){let n=(0,a.md)(tX.b),l=(0,tQ.Yo)(),i=tU(t.selectionProperties.pasteSources),o=()=>(0,tl.RB)(t.selectedStyleProperties)?t.selectedStyleProperties:t.selectionProperties;return n===tS.GR.DEFAULT_EXPANDED?r.createElement(sl,{...t,getContextualSelectionProperties:o,liveObjectSelected:i,orgEntity:l,scrollContainer:e}):r.createElement(sd,{...t,getContextualSelectionProperties:o,liveObjectSelected:i,orgEntity:l})}var sm=n(507956);function sE({appModel:e,dropdownShown:t,pickerShown:n,saveAsState:i,sceneGraphSelection:a,selectedStyleProperties:o,selectionProperties:s}){let c=(0,l.wA)(),p=(0,H.q5)(),d=(0,e4.Nf)(e),u=(0,sm.ks)(),m=e.isReadOnly&&!u,E=(0,tl.RB)(o)?o:s;return r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(lT.LI,{key:"export",title:m?(0,G.t)("fullscreen.properties_panel.export"):(0,G.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:p,singleNodeName:lT.LI.singleNodeNameFrom(E),isSelectionRenamable:lT.LI.isSelectionRenamable(Object.keys(a)),numSelected:E.numSelected,exportSettings:E.exportSettings,sceneGraphSelection:a,currentPage:d,dispatch:c,dropdownShown:t,currentSelectedProperty:e.currentSelectedProperty,pickerShown:n,recordingKey:"exportsPanel",saveAsState:i,panelWidth:tl.iP}))}var s_=n(143678),sh=n(889449),sy=n(853497);function sg({selectionProperties:e,scrollContainer:t}){let n=(0,H.q5)(),l=(0,v.KH)(),i=!e.prototypeStartingPointsInfo||e.prototypeStartingPointsInfo?.length>0,a=0===Object.keys(l).length,o=n?.canEdit,s=r.createElement(tt.VF,{isVisible:a&&!o&&i},()=>r.createElement(sy.A,{viewOnly:!0})),c=r.createElement(tt.VF,{isVisible:a},()=>r.createElement(r2,{key:"code-local-styles",recordingKey:"code-local-styles",scrollContainer:t}));return r.createElement(O.fu,{name:s_.e0.CODE_PANEL},r.createElement(e8.i,null,r.createElement(r9.Mw,{panelName:r9.ON.INSPECT}),r.createElement(sh.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel",flowPanel:s,localStylesPanel:c})))}var sS=n(57860),sb=n(974563),sf=n(977750),sv=n(189904),sT=n(523047),sP=n(335601),sw=n(158950),sI=n(528859),sN=n(977467),sk=n(602354),sC=n(940319),sA=n(237870),sM=n(32067),sO=n(547583),sx=n(711490),sR=n(502601);let sL=function(){throw Error("Component Preview not available")};var sF=n(802926),sD=n(20484);let sV="LivingDesignsModal",sK=(0,sA.Ju)(function({initialSize:e}){let t=(0,l.wA)(),[n,i]=(0,r.useState)(0),a=(0,sD.ts)(e,sB),[o,s]=sk.tU.useTabs({preview:!0,code:!0,debug:!0});if(!a)return null;let{width:c,setWidth:p,height:d,setHeight:u,minWidth:m,minHeight:E,position:_,setPosition:h}=a,y=r.createElement(sk.tU.TabStrip,{manager:s},r.createElement(sk.tU.Tab,{...o.preview},(0,G.t)("living_designs.modal.tabs.preview")),r.createElement(sk.tU.Tab,{...o.code},(0,G.t)("living_designs.modal.tabs.code")),r.createElement(sk.tU.Tab,{...o.debug},(0,G.t)("living_designs.modal.tabs.debug"))),g=r.createElement(z.K,{onClick:()=>i(e=>e+1),"aria-label":(0,G.t)("living_designs.modal.refresh")},r.createElement(sC._,null));return r.createElement(sR.Q,null,r.createElement(sG.Provider,{value:{tabPropsMap:o,tabManager:s}},r.createElement(eP.BL,{customButton:g,title:y,position:_,allowResizeHeight:!0,allowResizeWidth:!0,dragHeaderOnly:!0,fullFrame:!0,height:d,width:c,minWidth:m,minHeight:E,setWidth:p,setHeight:u,setPosition:h,onClose:()=>{t((0,e_.ES)({type:sV}))},overflowHidden:!0},r.createElement(sY,{key:n,size:{x:c,y:d}}))))},sV),sU={x:400,y:400},sB={x:260,y:80},sG=r.createContext(void 0),sH=()=>{let e=r.useContext(sG);if(!e)throw Error("usePreviewContext must be used within a PreviewContext.Provider");return e};function sY({size:e}){let{isResizing:t,isDragging:n}=r.useContext(sx.O);return r.createElement(s$,{disablePointerEvents:t||n,size:e})}var sW=(e=>(e.None="none",e.Generating="generating",e.Bundling="bundling",e.Ready="ready",e.Error="error",e))(sW||{});function s$({disablePointerEvents:e,size:t}){let n=(0,sM.VW)(),l=(0,sI.L4)(),i=(0,sI.Jp)(),o=(0,rr.PD)(i),s=n?.guid?i:o,[c,p]=(0,a.fp)((0,sN.R)(l?.guid||"")),[d,u]=(0,r.useState)(null),[m,E]=(0,r.useState)(""),{tabPropsMap:_}=sH(),h=(0,tT.Fk)((e,t)=>{let n={};return t.forEach(t=>{let r=e.get(t);if(r){let e=(0,sI.u6)(r);e?.props?.forEach(e=>{n[e.name]=e.value})}}),n},s?.generation?.nodesWithProps||[]);(0,r.useEffect)(()=>{let e=s?.generation;if(!e||"idle"!==c.status){u(null),E("");return}(0,sF.I)(e.code).then(sF.z).then(t=>{u(t),E(e.styles)})},[s?.generation,c]);let y="idle"===c.status&&s?.generation?.code?d?"ready":"bundling":"loading"===c.status?"generating":"none";return r.createElement("div",{className:R.cx.wFull.hFull.relative.$},r.createElement(sk.tU.TabPanel,{..._.preview},r.createElement("div",{className:R.cx.absolute.top0.right0.bottom0.left0.$},"none"===y&&r.createElement("div",{className:R.cx.flex.hFull.wFull.itemsCenter.justifyCenter.$},(0,G.t)("living_designs.preview.no_design")),"generating"===y&&r.createElement("div",{className:R.cx.flex.hFull.wFull.itemsCenter.justifyCenter.flexColumn.$},r.createElement("div",null,(0,G.t)("living_designs.preview.generating")),r.createElement(sS.k,null)),"bundling"===y&&r.createElement("div",{className:R.cx.flex.hFull.wFull.itemsCenter.justifyCenter.flexColumn.$},r.createElement("div",null,(0,G.t)("living_designs.preview.bundling")),r.createElement(sS.k,null)),"ready"===y&&r.createElement(sL,{disablePointerEvents:e,code:d,props:h,styles:m,size:{x:t.x,y:t.y},withReset:!0,onError:e=>p({status:"idle",errorMessage:e.message}),scaleLinearly:!0}),"idle"===c.status&&c.errorMessage&&r.createElement("div",{className:R.cx.absolute.left0.right0.bottom0.h24.flex.justifyBetween.itemsCenter.bt1.bSolid.colorBorder.p12.colorBgDanger.colorTextOndanger.$},(0,G.t)("living_designs.preview.error",{error:c.errorMessage||"Unknown"})))),r.createElement(sk.tU.TabPanel,{..._.code},r.createElement("textarea",{readOnly:!0,className:R.cx.absolute.top0.right0.bottom0.left0.$,value:s?.generation?.code||"No code available"})),r.createElement(sk.tU.TabPanel,{..._.debug},r.createElement("div",{className:R.cx.absolute.top0.right0.bottom0.left0.overflowYScroll.$},r.createElement(sO.p,{data:s?.generation}))))}var sz=n(568214),sQ=n(973149),sX=n(994481);let sj=new sQ.KD({}),sJ=e=>e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,e=>e.toUpperCase()).trim();function sZ({prop:e,onChange:t}){switch(e.type){case"number":return r.createElement(sq,{prop:e,onChange:t});case"color":return r.createElement(s0,{prop:e,onChange:t});case"string":return r.createElement(s1,{prop:e,onChange:t});case"enum":return r.createElement(s5,{prop:e,onChange:t});case"boolean":return r.createElement(s4,{prop:e,onChange:t});default:return null}}function sq({prop:e,onChange:t}){let n=(0,l.wA)();return r.createElement(sX.cS,{label:sJ(e.name),input:r.createElement(lY.j5,{value:e.value??e.defaultValue??0,onValueChange:e=>t(e),formatter:sj,dispatch:n,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":sJ(e.name)})})}function s0({prop:e,onChange:t}){let n=(0,l.wA)(),i=(0,aM.Xo)(),a=r.useRef(null),o=(0,sz.H0)(e.value??e.defaultValue??"#ffffff")||{r:1,g:1,b:1,a:1},s={type:"SOLID",color:o,opacity:o.a?o.a:1};return r.createElement("div",null,i?.id===`living-design-prop-${e.name}-color-picker`&&r.createElement(lr.h3,{disabledVariableIds:new Set,initialPosition:new eT.Mi(i.initialX,i.initialY),color:o,boundVariable:null,onChange:e=>t((0,sz.YU)(e)),onClose:()=>n(tm.XE())}),r.createElement(sX.cS,{label:sJ(e.name),input:r.createElement("div",{className:"living_designs_props--colorValueContainer--nPsog paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t",ref:a},r.createElement(tr.y7,{paint:s,onChange:e=>{let n=e.color;n&&(void 0!==e.opacity&&(n.a=e.opacity),t((0,sz.YU)(n)))},togglePicker:()=>{if(!a.current)return;let{x:t,y:r}=(0,t7.cn)(a.current);n(tm.u1({id:`living-design-prop-${e.name}-color-picker`,initialX:t,initialY:r}))}}))}))}function s1({prop:e,onChange:t}){return r.createElement(sX.cS,{label:sJ(e.name),input:r.createElement(tO.ks,{value:e.value??e.defaultValue??"",onChange:e=>t(e.currentTarget.value)})})}function s5({prop:e,onChange:t}){let n=(0,l.wA)(),i=(0,rV.Um)();return r.createElement(sX.cS,{label:sJ(e.name),input:r.createElement(lX.l6,{property:e.value??e.defaultValue??"",onChange:e=>t(e),id:`living-design-prop-${e.name}`,dispatch:n,dropdownShown:i,formatter:{format:e=>e}},e.options?.map(e=>r.createElement(lX.c$,{key:e,value:e},e)))})}function s4({prop:e,onChange:t}){return r.createElement(sX.cS,{label:sJ(e.name),input:r.createElement(le.S,{checked:e.value??e.defaultValue??!1,onChange:e=>t(e),label:r.createElement(lt.h,null,sJ(e.name))})})}var s2=n(814059);function s3(){let e=(0,lN.VW)(),t=(0,sI.L4)(),n=(0,sI.Vq)(),[i,o]=r.useState(""),s=(0,l.wA)(),c=(0,a.md)((0,sN.R)(t?.guid||""));if(!e||!n)return null;let p=()=>{i.length&&(o(""),(0,sI.Ww)(e,e=>{let t=Date.now();return{...e,messages:[...e.messages||[],{id:(0,nm.g)(),createdAt:t,content:i}]}}),eh.Y5.triggerAction("commit"),(0,sN.kX)(e,d))},d=()=>{let e={x:Math.max(t?.size.x||sU.x,sB.x),y:Math.max(t?.size.y||sU.y,sB.y)};s((0,e_.ES)({type:sV})),s((0,e_.to)({type:sK,data:{initialSize:e}}))},u=(t,n)=>{(0,sI.Ww)(e,e=>{if(!e.props)return e;let r=e.props.map(e=>{if(e.name!==t)return e;try{return s2.Ts.parse({...e,value:n})}catch(t){return console.error(`Invalid value for prop "${e.name}":`,t.errors),e}});return{...e,props:r}})};return r.createElement(r.Fragment,null,r.createElement(tO.Zk,null,r.createElement(iP.r,{titleTx:r.createElement("span",null,(0,G.t)("living_designs.properties_panel.title")),icon:r.createElement(sf.O,{onClick:d})}),r.createElement("div",{className:R.cx.flex.flexColumn.gap12.$},r.createElement("div",{className:R.cx.flex.flexColumn.gap8.$},!!n.messages?.length&&r.createElement("div",{className:R.cx.flex.flexColumn.$},n.messages.map((e,t)=>r.createElement(s6,{key:e.id,message:e,artwork:0===t?r.createElement(sv.N,null):r.createElement("div",{className:R.cx.w16.h16.flex.justifyCenter.$},r.createElement("span",{className:R.cx.textBodyMedium.colorTextSecondary.$},(0,G.t)("living_designs.properties_panel.interactions.version_number",{number:t}))),variant:0===t?"primary":"secondary"}))),r.createElement(nt.Ad,{label:void 0,input:r.createElement("div",{className:R.cx.flex.gap8.$},r.createElement(s7,{value:i,placeholder:(0,G.t)("living_designs.properties_panel.description_input.placeholder"),handleChange:o,handleSubmit:p}),r.createElement(J.$n,{onClick:p,disabled:!i.length||"loading"===c.status,"aria-label":(0,G.t)("living_designs.properties_panel.interactions.add_button.label")},"loading"===c.status?r.createElement(sS.k,null):r.createElement(sT.W,null))),appendedClassName:"living_designs_panel--textareaRow--V8RnZ"})),n.props&&!!n.props.length&&r.createElement("div",{className:R.cx.flex.flexColumn.gap12.$},r.createElement("span",{className:R.cx.textBodyMediumStrong.px16.$},(0,G.t)("living_designs.properties_panel.properties_header")),n.props.map(e=>r.createElement("div",{key:e.name,className:R.cx.$},r.createElement(sZ,{prop:e,onChange:t=>u(e.name,t)})))))),r.createElement(s8,null),e.guid===t?.guid&&n.generation&&r.createElement(tO.Zk,{className:tb.rq},r.createElement(sa.z,{onClick:()=>(0,sI.T9)(t),disabled:"loading"===c.status},(0,G.t)("living_designs.properties_panel.settings.reset_button"))))}function s6({message:e,artwork:t,variant:n="primary"}){return r.createElement("div",{className:R.cx.flex.px16.py4.gap8.$},t&&r.createElement("div",{style:{"--color-icon":"var(--color-icon-assistive)"}},t),r.createElement("div",null,r.createElement("span",{className:R.cx.textBodyMedium.case([["primary"===n,R.cx.colorText],["secondary"===n,R.cx.colorTextSecondary]]).$},e.content)))}function s7({value:e,placeholder:t,handleChange:n,minHeight:l,handleSubmit:i,disabled:a}){let{inputRef:o,inputProps:{onChange:s,onFocus:c,onMouseUp:p,onMouseLeave:d,onKeyUp:u}}=(0,sP.X)({onChange:function(e){n(e.target.value)}});return r.createElement(sw.v,{ref:e=>{e?.textarea&&(o.current=e.textarea)},value:e,placeholder:t,onChange:s,onFocus:c,onMouseUp:p,onMouseLeave:d,onKeyUp:u,minHeight:l,submit:i,bypassModifiers:!0,preventSubmitOnBlur:!0,disabled:a})}function s8(){let[e,t]=(0,a.fp)(sN.Zl),n=e.serializer;return r.createElement(tO.Zk,null,r.createElement(iP.r,{titleTx:r.createElement("span",null,(0,G.t)("living_designs.properties_panel.settings.header"))}),r.createElement(nt.Ad,{label:void 0,input:r.createElement("div",{className:R.cx.flex.flexColumn.gap4.$},r.createElement(sb.d,{checked:"jsx"===n,onChange:e=>{t({serializer:e?"jsx":"sites"})},label:r.createElement(lt.J,null,(0,G.t)("living_designs.properties_panel.settings.jsx_serializer"))})),alwaysShowLabel:!0}))}function s9(){return r.createElement(e8.i,null,r.createElement(s3,null))}var ce=n(286954),ct=n(103907);function cn({appModel:e,children:t,dropdownShown:n,pickerShown:a,propertiesPanelTab:o,recordingKey:s,refMainScrollContainer:c,selectedStyleProperties:p}){var u;let E=(0,l.wA)(),_=p&&(0,eQ.fn)(p.guid),h=!!(n||a?.modal),y=eJ.rf(s,"mousedown",()=>{eh.Y5.deselectProperty(),E(tm.XE()),E((0,ce.vq)()),E(e0.sw()),E(tm.Uv())}),g=(0,sm.ks)(),S=e.isReadOnly&&!g,b=o===i.FAf.COMMENT,f=(0,th.sO)(),v=!_||!h,P=!b&&v,w=(0,nk.ft)(),I=(0,T.iZ)();u={tab:i.FAf[o],topLevelMode:i.lyf[e.topLevelMode],shouldRenderInspectTab:(0,tl.S4)(e,I)},0===r.Children.toArray(t).length&&(0,tJ.x1)("PropertiesPanel","Rendering empty properties panel",u);let N=(0,m.my)()===k.nT.Design,C=(0,d.Kf)({isDesign:N,isUnauth:!I})(),A=b&&!S&&!f,M=r.createElement("div",{className:F()({[tb.By]:A,[tb.eh]:!A,[tb.w1]:C}),onMouseDown:w?void 0:y,onPointerDown:w?y:void 0,"data-non-interactive":!0},r.createElement(ct.j9.Consumer,null,()=>t));return b?M:r.createElement("div",{className:tb.gq},r.createElement(x.P,{enableOverscroll:!0,key:o,ref:c,className:tb.jG,containerId:tS.rp,hideScrollbar:!P,onContextMenu:tL,scrollingDisabled:b||(_?h:!!n)},M))}cn.displayName="PropertiesPanel";var cr=n(271779),cl=n(147206),ci=n(870232),ca=n(276905);function co({recordingKey:e}){let[t,n]=(0,r8.Xw)();return r.createElement(tO.Zk,{className:"slides_align_panel--panel--4jgTN",...n},r.createElement(ca.wF,{isHoveringOverPanel:t,inSlidesPanel:!0,recordingKey:e}))}var cs=n(427113),cc=n(46878),cp=n(952675),cd=n(545317),cu=n(171447),cm=n(623711),cE=n(708918),c_=n(377835),ch=n(504456),cy=n(195601),cg=n(366501);function cS({panelClassName:e,children:t,hideBorderBottom:n,onMouseEnter:l,onMouseLeave:i}){return r.createElement("div",{className:F()("slides_panel--panel--lPYTn",{"slides_panel--withBorderBottom--CymRv":!n},e),onMouseEnter:l,onMouseLeave:i,"data-non-interactive":!0},t)}function cb({titleTx:e,input:t}){return r.createElement(cS,{panelClassName:"slides_panel--panelTitleInput--Paowl"},r.createElement(iP.s9,{titleTx:e,input:t}))}function cf({titleTx:e,icon:t}){return r.createElement(iP.r,{titleTx:e,icon:t,appendedClassName:"slides_panel--panelTitleIconRow--9L9T1"})}let cv="slides_animation_panel--row--cC8Np",cT="slides_animation_panel--rowInput--klQ98",cP="slides_animation_panel--rowWithPadding--CVhk5 slides_animation_panel--row--cC8Np",cw="slides_animation_panel--rowWithPaddingSpacer3--N0vBM slides_animation_panel--row--cC8Np",cI="slides_animation_panel--previewFrame--cO6cR transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce";var cN=n(579758);let ck=["SMART_ANIMATE","DISSOLVE","PUSH","SLIDE","SLIDE_OUT","MOVE","MOVE_OUT"],cC=["EASE_IN","EASE_OUT","EASE_IN_AND_OUT"],cA=["GENTLE","QUICK","BOUNCY","SLOW"],cM={EASE_IN:i.mgy.IN_CUBIC,EASE_OUT:i.mgy.OUT_CUBIC,EASE_IN_AND_OUT:i.mgy.INOUT_CUBIC,LINEAR:i.mgy.LINEAR,GENTLE:i.mgy.GENTLE_SPRING,QUICK:i.mgy.SPRING_PRESET_ONE,BOUNCY:i.mgy.SPRING_PRESET_TWO,SLOW:i.mgy.SPRING_PRESET_THREE},cO=e=>cA.includes(e),cx=["ON_CLICK","AFTER_TIMEOUT"],cR={[i.v$l.NONE]:{behavior:"INSTANT"},[i.v$l.DISSOLVE]:{behavior:"DISSOLVE"},[i.v$l.SLIDE_FROM_LEFT]:{direction:"LEFT",behavior:"SLIDE"},[i.v$l.SLIDE_FROM_RIGHT]:{direction:"RIGHT",behavior:"SLIDE"},[i.v$l.SLIDE_FROM_TOP]:{direction:"TOP",behavior:"SLIDE"},[i.v$l.SLIDE_FROM_BOTTOM]:{direction:"BOTTOM",behavior:"SLIDE"},[i.v$l.SLIDE_OUT_TO_LEFT]:{direction:"LEFT",behavior:"SLIDE_OUT"},[i.v$l.SLIDE_OUT_TO_RIGHT]:{direction:"RIGHT",behavior:"SLIDE_OUT"},[i.v$l.SLIDE_OUT_TO_TOP]:{direction:"TOP",behavior:"SLIDE_OUT"},[i.v$l.SLIDE_OUT_TO_BOTTOM]:{direction:"BOTTOM",behavior:"SLIDE_OUT"},[i.v$l.PUSH_FROM_LEFT]:{direction:"LEFT",behavior:"PUSH"},[i.v$l.PUSH_FROM_RIGHT]:{direction:"RIGHT",behavior:"PUSH"},[i.v$l.PUSH_FROM_TOP]:{direction:"TOP",behavior:"PUSH"},[i.v$l.PUSH_FROM_BOTTOM]:{direction:"BOTTOM",behavior:"PUSH"},[i.v$l.MOVE_FROM_LEFT]:{direction:"LEFT",behavior:"MOVE"},[i.v$l.MOVE_FROM_RIGHT]:{direction:"RIGHT",behavior:"MOVE"},[i.v$l.MOVE_FROM_TOP]:{direction:"TOP",behavior:"MOVE"},[i.v$l.MOVE_FROM_BOTTOM]:{direction:"BOTTOM",behavior:"MOVE"},[i.v$l.MOVE_OUT_TO_LEFT]:{direction:"LEFT",behavior:"MOVE_OUT"},[i.v$l.MOVE_OUT_TO_RIGHT]:{direction:"RIGHT",behavior:"MOVE_OUT"},[i.v$l.MOVE_OUT_TO_TOP]:{direction:"TOP",behavior:"MOVE_OUT"},[i.v$l.MOVE_OUT_TO_BOTTOM]:{direction:"BOTTOM",behavior:"MOVE_OUT"},[i.v$l.SMART_ANIMATE]:{behavior:"SMART_ANIMATE"}},cL=new lz.el(!0),cF=new lz.VG,cD=new cu.Mk;function cV({behavior:e,duration:t,direction:n,triggerType:r,triggerDelay:l,easingType:a}){return{type:function(e,t){for(let[n,{behavior:r,direction:l}]of Object.entries(cR))if(r===e&&l===t)return n;return i.v$l.NONE}(e,n),duration:cO(a)?(e=>{let t=cK(e);return(0,cE.J5)((0,cE.w_)(t))})(a):t,easingType:function(e){let t=cM[e||"EASE_OUT"];return void 0!==t?t:i.mgy.OUT_CUBIC}(a),trigger:{type:"AFTER_TIMEOUT"===r?i.tbx.AFTER_DELAY:i.tbx.ON_CLICK,delay:"AFTER_TIMEOUT"===r&&l?l:0}}}let cK=e=>{switch(e){case"GENTLE":return[1,100,15,0];case"QUICK":return[1,300,20,0];case"BOUNCY":return[1,600,15,0];default:return[1,80,20,0]}},cU=[.1,.2,.3,.5,1,2];class cB extends lX.c${}let cG=[0,.05,.1,.2,.3,.5,1,2];class cH extends lX.c${}let cY=new sQ.ag(sQ.i5.MILLISECONDS,.01,10),cW=new sQ.ag(sQ.i5.MILLISECONDS,.001,30),c$=e=>{let t={type:i.v$l.NONE,duration:0,easingType:i.mgy.OUT_CUBIC,trigger:{type:i.tbx.ON_CLICK,delay:0}},n=eQ.AD;return e.forEach(e=>{let r=i.Ez5.slideAnimationBindings().getSlideTransition(e);r&&t.type===i.v$l.NONE&&(t=r,n=e)}),{appliedTransition:t,slideGuid:n}},cz=(e,t,n)=>r=>{let l={...t};if("behavior"===e){"INSTANT"===t.behavior&&"INSTANT"!==r&&(l.duration=.3);let e=t.direction;"INSTANT"===r||"DISSOLVE"===r||"SMART_ANIMATE"===r?e=void 0:void 0===e&&(e="LEFT"),l.direction=e,"INSTANT"===r&&(l.triggerType="ON_CLICK")}"triggerType"===e&&"ON_CLICK"===t.triggerType&&"AFTER_TIMEOUT"===r&&(l.triggerDelay=.8),"easingType"===e&&r&&!cO(r)&&cO(t.easingType)&&(l.duration=.3);let a=cV({...l,[e]:r});nu.l7.user("slide-transition",()=>{n.forEach(e=>{i.Ez5.slideAnimationBindings().setSlideTransition(e,a)}),eh.Y5.commit()})};function cQ(){let e=(0,l.wA)(),t=(0,rV.Um)(),n=(0,oU.l5)(),{appliedTransition:a,slideGuid:o}=c$(n),s=(0,tT.Fk)((e,t)=>{if(e){let n=e.get(t);if(n)return n.name}return null},o),c=s?(0,G.t)("fullscreen.properties_panel.layer_header.node_type_slide",{slideNumber:s}):(0,G.t)("slides.properties_panel.slide_transition"),p=function(e){let{behavior:t,direction:n}=cR[e.type],r=function(e){for(let[t,n]of Object.entries(cM))if(n===e)return t;return"EASE_OUT"}(e.easingType),l=Math.round(1e3*e.duration)/1e3;if(cO(r)){let e=cK(r);l=(0,cm.xX)((0,cE.w_)(e))}let a=Math.round(1e3*e.trigger.delay)/1e3;return{behavior:t,direction:n,duration:l,easingType:r,triggerType:e.trigger.type===i.tbx.AFTER_DELAY?"AFTER_TIMEOUT":"ON_CLICK",triggerDelay:a}}(a),d=cz("triggerType",p,n),u=cz("triggerDelay",p,n),m=cz("behavior",p,n),E=cz("direction",p,n),_=cz("duration",p,n),h=cz("easingType",p,n),y=!("INSTANT"===p.behavior||"DISSOLVE"===p.behavior||"SMART_ANIMATE"===p.behavior),g="INSTANT"!==p.behavior,S="AFTER_TIMEOUT"===p.triggerType,b=r.createElement(t2.U,{svg:cN.A},r.createElement(cs.A,null));return r.createElement(eZ.k,{name:"slides_animation_panel"},r.createElement(cS,null,(0,K.kc)().piper_transition_controls?r.createElement("p",{className:"slides_animation_panel--transitionTitle---2ON-"},c):r.createElement(iP.r,{titleTx:(0,G.tx)("slides.properties_panel.slide_transition")}),r.createElement("div",{className:(0,K.kc)().piper_transition_controls?cP:cv},r.createElement("label",null,(0,G.tx)("slides.properties_panel.slide_transition.style")),r.createElement(iO.E,{name:"slide_transition_style"},r.createElement(lX.l6,{formatter:cL,id:"slide-transitions-behavior-select",property:p.behavior,onChange:m,dispatch:e,dropdownShown:t},r.createElement(lX.c$,{value:"INSTANT",key:"INSTANT"}),r.createElement(lX.sK,null),ck.map(e=>r.createElement(lX.c$,{value:e,key:e}))))),y&&r.createElement("div",{className:cv},r.createElement("label",null,(0,G.tx)("slides.properties_panel.slide_transition.direction")),r.createElement(iO.E,{name:"slide_transition_direction"},r.createElement(cu.sP,{onChange:E,property:p.direction??null}))),(0,K.kc)().piper_transition_controls&&g&&r.createElement(r.Fragment,null,r.createElement(iO.E,{name:"slide_transition_easing"},r.createElement("div",{className:cv},r.createElement("label",null,(0,G.tx)("slides.properties_panel.slide_transition.curve")),r.createElement(lX.l6,{formatter:cD,id:"slide-transitions-easing-select",property:p.easingType,onChange:h,dispatch:e,dropdownShown:t},r.createElement(lX.c$,{value:"LINEAR",key:"LINEAR"}),r.createElement(lX.sK,null),cC.map(e=>r.createElement(lX.c$,{value:e,key:e})),r.createElement(lX.sK,null),cA.map(e=>r.createElement(lX.c$,{value:e,key:e}))))),r.createElement(eZ.k,{name:"slides_duration"},r.createElement("div",{className:cv},r.createElement("label",null,(0,G.tx)("slides.properties_panel.slide_transition.duration")),r.createElement("div",{className:cT},r.createElement(iO.E,{name:"slides_duration_dropdown"},r.createElement(cp.ow,{value:{select:or.pW,inputComponent:or.gm}},r.createElement(lX.tV,{value:{chevron:c_.t}},r.createElement(lY.W0,{id:"slide-animation-duration",disabled:cO(p.easingType),onValueChange:_,value:p.duration,dropdownShown:t,min:.01,max:10,icon:b,dispatch:e,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("slides.properties_panel.slide_transition.duration"),tooltipForScreenReadersOnly:!0,enablePreview:!0},cU.map(e=>r.createElement(cB,{key:`duration-${e}`,value:e},cY.format(e)))))))))))),(0,K.kc)().piper_transition_controls&&g&&r.createElement(cS,null,r.createElement("div",{className:cP},r.createElement("label",null,(0,G.tx)("slides.properties_panel.slide_transition.timing")),r.createElement(lX.l6,{formatter:cF,id:"slide-transitions-trigger-select",property:p.triggerType,onChange:d,dispatch:e,icon:(0,cc.e7)(p.triggerType),dropdownShown:t},cx.map(e=>r.createElement(lX.c$,{icon:(0,cc.e7)(e),value:e,key:e})))),S&&r.createElement(eZ.k,{name:"slides_delay"},r.createElement("div",{className:cv},r.createElement("label",null,(0,G.tx)("slides.properties_panel.slide_transition.delay")),r.createElement("div",{className:cT},r.createElement(iO.E,{name:"slides_delay_dropdown"},r.createElement(cp.ow,{value:{select:or.pW,inputComponent:or.gm}},r.createElement(lX.tV,{value:{chevron:c_.t}},r.createElement(lY.W0,{id:"slide-animation-delay",onValueChange:u,value:p.triggerDelay,dropdownShown:t,min:.001,max:30,icon:b,dispatch:e,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("slides.properties_panel.slide_transition.delay"),tooltipForScreenReadersOnly:!0,enablePreview:!0},cG.map(e=>r.createElement(cH,{key:`delay-${e}`,value:e},cW.format(e))))))))))),r.createElement(cS,{hideBorderBottom:!0},g&&r.createElement("div",{className:cw},r.createElement("div",{style:{width:"100%"}},r.createElement(cX,{appliedProperties:p}))),r.createElement("div",{className:cw},r.createElement(J.IK,{variant:"secondary",onClick:()=>{var e;return e=cV(p),void nu.l7.user("slide-transition-all-slides",()=>{i.Ez5.slideAnimationBindings().setSlideTransitionForAll(e),eh.Y5.commit()})}},(0,G.tx)("slides.properties_panel.slide_transition.apply_to_all")))))}function cX({appliedProperties:e}){let t=(0,cg.Jj)(),n=(0,w.J2)(i.Ez5.slideDeck().slideGrid),l=(0,cg.Rn)(n,t),a=(0,cd.P)(),o="MOVE_OUT"===e.behavior||"SLIDE_OUT"===e.behavior,s=o?t:l??eQ.AD,c=o?l??eQ.AD:t,p=(0,cy.p)(s),d=(0,cy.p)(c),u=cO(e.easingType),m={behavior:e.behavior,direction:e.direction??null,shouldSmartAnimate:"SMART_ANIMATE"===e.behavior,duration:e.duration,easing:e.easingType,isSpringTransition:u,easingFunction:u?cK(e.easingType):[],preserveScroll:!1,resetVideoPosition:!0,openUrlInNewTab:!1,resetInteractiveComponents:!1,resetScrollPosition:!1};return u?r.createElement(ch.SA,{transition:m,isUI3:!0}):r.createElement(cj,{panelWidth:a,transition:m,belowThumbnailUrl:d,aboveThumbnailUrl:p})}class cj extends ch.ub{rectangleStateToCSSStyle(e,t,n,r){let l=this.cssEasingFunction(e),i=this.cssDuration(e),a=this.getSlideLeft();return{transition:n===ch.H_.RETURN_TO_START?"all ease-out 200ms":n===ch.H_.STATIC?"unset":`all ${i}s ${l}`,top:25.5+45*t.top,left:a+80*t.left,opacity:t.opacity,border:0}}renderSimpleScreenToScreenAnimationPreview(e,t,n,l,i,a,o){let s=this.getSlideLeft();return r.createElement("div",{className:"slides_animation_panel--previewPanel--0XANz transition_preview--previewPanel--Gp-aI",onMouseEnter:this.onMouseEnterNew,onMouseLeave:this.onMouseLeaveNew},r.createElement("div",{className:F()(e,cI),style:t},r.createElement("img",{src:this.props.belowThumbnailUrl,alt:"",className:R.cx.relative.wFull.hFull.$})),r.createElement("div",{className:F()(n,cI),style:l},r.createElement("img",{src:this.props.aboveThumbnailUrl,alt:"",className:R.cx.relative.wFull.hFull.$})),r.createElement("div",{className:"slides_animation_panel--screenContainer--6eR6r transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce slides_animation_panel--previewFrame--cO6cR transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",style:{left:s}}),r.createElement("div",{className:"slides_animation_panel--screenBorder--G7ZdP transition_preview--screenBorder--Fz-dz transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce slides_animation_panel--screenContainer--6eR6r transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce slides_animation_panel--previewFrame--cO6cR transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",style:{left:s}}))}getSlideLeft(){return(this.props.panelWidth-32)/2-40}}var cJ=n(730371),cZ=n(720245),cq=n(978783),c0=n(623402),c1=n(56315),c5=n(187134);function c4(e){return r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M2.486 5.143a1 1 0 0 0 0 1.715L4.39 8 2.486 9.143a1 1 0 0 0 0 1.715l4.485 2.69a2 2 0 0 0 2.058 0l4.486-2.69a1 1 0 0 0 0-1.715L11.61 8l1.905-1.142a1 1 0 0 0 0-1.715L9.029 2.45a2 2 0 0 0-2.058 0zM9.666 8l.973-.583 1.39-.834L13 6l-.972-.583-3.514-2.108a1 1 0 0 0-1.028 0L3.972 5.417 3 6l.972.583 1.39.834.971.583 1.152.691a1 1 0 0 0 1.03 0zm-4.304.583 1.609.966a2 2 0 0 0 2.058 0l1.61-.966 1.39.834L13 10l-.972.583-3.514 2.108a1 1 0 0 1-1.028 0l-3.514-2.108L3 10l.972-.583z",clipRule:"evenodd"}))}var c2=n(597616),c3=n(736242),c6=n(775664),c7=n(750029),c8=n(75395);let c9=r.forwardRef(function({isOpen:e,onClick:t,children:n,recordingKey:l},i){return r.createElement(c8.E,{actionOnPointerDown:!0,ref:i,className:F()("slides_flyout_input--input--cM6kp ellipsis--ellipsis--Tjyfa",{"slides_flyout_input--selected--CgFEs":e}),onClick:t,recordingKey:l},n,r.createElement(r_.O,null))});var pe=n(742934),pt=n(173915),pn=n(222849);function pr({paint:e,onColorChange:t,openColorPicker:n,closeColorPicker:l,isPickerOpen:i,icon:a,recordingKey:o}){let[s,c]=r.useState(!1),p=r.useRef(null),d=()=>{i?(l(),p.current?.blur()):(n(),p.current?.focus(),p.current?.select())};return r.createElement("div",{className:F()(pn.oE,{[pn.in]:s})},r.createElement(pl,{onClick:d,recordingKey:eJ.Pt(o,"chit")},a),r.createElement(tr.So,{focusableRef:p,paint:e,onFocus:()=>{c(!0),n()},onBlur:()=>c(!1),onMouseDown:e=>{e.stopPropagation(),s&&l()},onColorChange:e=>{t(e),l()},onTypeMouseDown:af.lQ,isUI3:!0,visible:!0,noBorderOnFocus:!0,recordingKey:o}),r.createElement(pl,{onClick:d,recordingKey:eJ.Pt(o,"chevron")},r.createElement(r_.O,null)))}function pl({onClick:e,recordingKey:t,children:n}){return r.createElement(c8.E,{className:R.cx.hFull.px4.bgTransparent.$,onClick:t=>{t.stopPropagation(),t.preventDefault(),e()},actionOnPointerDown:!0,recordingKey:t},n)}let pi={type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1,blendMode:"NORMAL"};function pa({paint:e,onChange:t,inheritStyleKey:n,inheritStyleName:a,inheritStyleId:o,pickerId:s,inheritStyleKeyField:c,hideCustomColorPickerFillTypeToggle:p,recordingKey:d}){let u=(0,l.d4)(e=>e.pickerShown&&e.pickerShown.id===s?e.pickerShown:null),m=(0,r.useRef)(null),E=!!e&&(0,ts.hS)(e)&&(0,te.bn)(e.type),{openColorPicker:_,closeColorPicker:h}=function(e,t,n,a,o){let s=(0,l.wA)(),c=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),p=(0,pe.jj)(e);return{openColorPicker:r.useCallback(()=>{if(!n){if(a.current){let{x:e,y:n}=(0,t7.cn)(a.current,o?pt.jP:tn.pg);s(tm.u1({id:t,initialX:e-16,initialY:n})),p()}else console.error("rowRef.current is null")}},[t,n,s,a,o,p]),closeColorPicker:r.useCallback(()=>{c===i.m1T.GRADIENT&&eh.Y5.triggerAction("leave-edit-mode"),s(tm.XE())},[s,c])}}(e,s,u,m,E);return r.createElement(r.Fragment,null,r.createElement("span",{ref:m},r.createElement(po,{paint:e,onChange:t,inheritStyleKey:n,inheritStyleName:a,inheritStyleId:o,isPickerOpen:!!u,openColorPicker:_,closeColorPicker:h,recordingKey:d})),u&&e&&(E?r.createElement(pt.Ph,{paint:e,onChange:t,onClose:h,initialPosition:new eT.Mi(u.initialX,u.initialY),enableGradients:!0,hideCustomColorPickerFillTypeToggle:p,inheritStyleKeyField:c}):r.createElement(tn.GY,{paint:e,onChange:t,onClose:h,pickerShown:u,hideCustomColorPickerFillTypeToggle:p,inheritStyleKeyField:c})))}function po({paint:e,onChange:t,inheritStyleKey:n,inheritStyleName:l,inheritStyleId:i,isPickerOpen:a,openColorPicker:o,closeColorPicker:s,recordingKey:c}){let[p]=(0,l9.lJ)("slidesDividedSwatchColors"),d=(0,pe.Gc)(),u=!!e&&(0,ts.hS)(e)&&(0,te.bn)(e.type),m=!!e&&(0,ts.hS)(e)&&(0,te.sb)(e.type),E=(0,pe.Mg)("FILL",n,i),_=(0,r.useMemo)(()=>(0,ts.hS)(e)&&e&&e.color?[e.color]:Array.isArray(p)&&p.length>1?p:[{r:1,g:1,b:1,a:1}],[p,e]),h=(()=>{if((0,ts.gl)(e))return null;let t=e?.colorVar?.value?.alias;return t?c2.dI(t):null})(),y=()=>(0,ts.gl)(e)||(0,ts.gl)(l)?(0,G.t)("fullscreen.mixed"):l||(d?(0,G.t)("slides.properties_panel.color_picker.multiple"):u?(0,G.t)("slides.properties_panel.fill.fill_type_gradient"):c6.TI.format(_[0])),g=r.useMemo(()=>d?r.createElement(c4,null):E?r.createElement(rO.zi,{dsStyle:E,disableTooltip:!0}):r.createElement(pc,{colors:_,paint:e}),[d,E,_,e]),S=r.useCallback(()=>{a?s():o()},[a,s,o]),b=!d&&m&&!e.colorVar&&!E;return r.createElement(iO.E,{name:"slides_color_input"},b?r.createElement(pr,{paint:e,onColorChange:e=>t((0,pe.NQ)(e)),openColorPicker:o,closeColorPicker:s,isPickerOpen:a,icon:g,recordingKey:c}):r.createElement(c5.o,{eventListeners:["onMouseDown"]},r.createElement(c9,{isOpen:a,onClick:S,recordingKey:c},r.createElement("span",{className:R.cx.pl4.inlineFlex.gap6.overflowHidden.$},g,!l&&h?r.createElement(ps,{variableId:h,fallbackText:y()}):r.createElement(c3.o,{text:y()})))))}function ps({variableId:e,fallbackText:t}){let n=(0,lF.u)(e);return r.createElement(c3.o,{lastClassName:R.cx.overflowHidden.noWrap.ellipsis.$,text:n?.name??t})}function pc({colors:e,paint:t}){if(!(e.length>1))return r.createElement(c7.J,{className:R.cx.w14.h14.bRadius2.$,paint:t??pi,allowMouseDownPropagation:!0});{let t={type:"SOLID",color:e[0],opacity:1,blendMode:"NORMAL"},n={type:"SOLID",color:e[1],opacity:1,blendMode:"NORMAL"};return r.createElement("div",{className:R.cx.relative.w14.h14.$},r.createElement("span",{className:R.cx.absolute.w14.h14.left0.top0.$,style:{clipPath:"polygon(0% 0%, 100% 0%, 0% 100%)"}},r.createElement(c7.J,{className:R.cx.w14.h14.bRadius2.$,paint:t,allowMouseDownPropagation:!0})),r.createElement("span",{className:R.cx.absolute.w14.h14.left0.top0.$,style:{clipPath:"polygon(0% 100%, 100% 100%, 100% 0%)"}},r.createElement(c7.J,{className:R.cx.w14.h14.bRadius2.$,paint:n,allowMouseDownPropagation:!0})))}}var pp=n(902237);function pd({legend:e,value:t,onChange:n,recordingKey:l,children:i}){return r.createElement("div",{className:R.cx.py4.pr8.pl16.$},r.createElement(cZ.b,{legend:r.createElement(pp.q,null,e),value:t,onChange:n,recordingKey:l},i))}var pu=n(26659),pm=n(344764);class pE extends lX.c${}let p_=[0,2,4,8,16,24],ph=["NONE","SOLID","DASHED_BIG","DASHED_SMALL"],py=ph.filter(e=>"NONE"!==e);function pg({recordingKey:e}){let t=(0,l.wA)(),n=(0,rV.Um)(),{smallNudgeAmount:i,bigNudgeAmount:a}=(0,y.sT)(),[o,s]=(0,l9.lJ)("strokeWeight"),[c,p]=(0,l9.lJ)("dashPattern"),[d,u]=(0,l9.lJ)("strokePaints"),[m]=(0,l9.lJ)("inheritFillStyleKeyForStroke"),[E]=(0,l9.lJ)("inheritFillStyleNameForStroke"),[_]=(0,l9.lJ)("styleIdForStrokeFill"),h=d?(0,ts.hS)(d)?d[0]:ts.oV:void 0,g=(0,l9.kl)("numSelectedByType"),S=g&&(0,ts.hS)(g)&&(0,ix.Kl)(g,["LINE","TABLE","CONNECTOR"]),b=g&&(0,ts.hS)(g)&&(0,ix.vx)(g,"TABLE"),f=r.useMemo(()=>({NONE:{value:void 0,displayText:(0,G.t)("slides.properties_panel.border_panel.style_none"),icon:r.createElement(cq.t,null)},SOLID:{value:[],displayText:(0,G.t)("slides.properties_panel.border_panel.style_solid"),icon:r.createElement(c0.y,null)},DASHED_BIG:{value:[20,24],displayText:(0,G.t)("slides.properties_panel.border_panel.style_dashed_big"),icon:r.createElement(et.B,{svg:pu.A,className:R.cx.colorIconSecondary.$})},DASHED_SMALL:{value:[8,10],displayText:(0,G.t)("slides.properties_panel.border_panel.style_dashed_small"),icon:r.createElement(et.B,{svg:pm.A,className:R.cx.colorIconSecondary.$})}}),[]),[T,P]=r.useState(()=>w(c));function w(e){if(!(0,ts.gl)(e))return e&&h?(0,cJ.deepEquals)(e,f.SOLID.value)?"SOLID":(0,cJ.deepEquals)(e,f.DASHED_BIG.value)?"DASHED_BIG":(0,cJ.deepEquals)(e,f.DASHED_SMALL.value)?"DASHED_SMALL":"NONE":"NONE"}return(0,v.f4)(()=>{P(w(c))}),r.createElement(eZ.k,{name:"slides_border_panel"},r.createElement(cS,null,r.createElement(iP.r,{titleTx:(0,G.tx)("slides.properties_panel.border_panel.title")}),r.createElement(pd,{legend:(0,G.tx)("slides.properties_panel.border_panel.style_title"),value:T,onChange:e=>{let t=f[e].value;("NONE"===T||(0,ts.gl)(c))&&t&&eh.Y5.triggerActionInUserEditScope("add-stroke-to-selection"),t?p(t):u([]),P(e)},recordingKey:eJ.Pt(e,"borderStyle")},(S?py:ph).map(e=>r.createElement(cZ.c,{key:e,value:e,icon:f[e].icon,"aria-label":f[e].displayText,htmlAttributes:{"data-onboarding-key":f[e].displayText}}))),"NONE"!==T&&h&&r.createElement(c1.g,{leftLabel:(0,G.tx)("slides.properties_panel.border_panel.color"),leftInput:r.createElement(pa,{paint:h,onChange:e=>{u([e])},inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:m,inheritStyleName:E,inheritStyleId:_,pickerId:`${eG.Yr}-border`,recordingKey:eJ.Pt(e,"color"),hideCustomColorPickerFillTypeToggle:!1}),rightLabel:(0,G.tx)("slides.properties_panel.border_panel.width_slider_tooltip"),rightInput:r.createElement(iO.E,{name:"slides_corner_radius_dropdown"},r.createElement(cp.ow,{value:{select:or.pW,inputComponent:or.gm}},r.createElement(lX.tV,{value:{chevron:c_.t}},r.createElement(lY.YZ,{id:"border-width-select",onValueChange:e=>{s(e)},value:void 0===o||(0,ts.gl)(o)?ts.oV:o,dropdownShown:n,willShowDropdown:()=>(eh.Y5.commit(),Promise.resolve()),min:1,max:50,dispatch:t,recordingKey:eJ.Pt(e,"borderWidth"),smallNudgeAmount:i,bigNudgeAmount:a,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("slides.properties_panel.border_panel.width_slider_tooltip"),tooltipForScreenReadersOnly:!0,enablePreview:!0},p_.map(t=>r.createElement(pE,{key:`border-width-${t}`,value:t,disabled:b,recordingKey:eJ.Pt(e,"borderWidth","select",t)},t))))))})))}var pS=n(106075),pb=n(595869);class pf extends lX.c${}let pv=[0,8,16,24,32,64,96];class pT extends sQ.X9{format(e){return 1e6===e?"Circular":`${e}`}}function pP({recordingKey:e}){let t=(0,l.wA)(),n=(0,rV.Um)(),{smallNudgeAmount:a,bigNudgeAmount:o}=(0,y.sT)(),s=(0,r.useMemo)(()=>new pT({min:0,smallNudgeAmount:a,bigNudgeAmount:o}),[a,o]),[c,p]=(0,l9.lJ)("cornerRadius");if(!(0,iK.Qr)(i.Sqb.CORNER_RADIUS))return null;let d=void 0===c||(0,ts.gl)(c)?ts.oV:c,u=r.createElement(t2.U,{svg:pb.A},r.createElement(pS.a,null));return r.createElement(eZ.k,{name:"slides_corner_panel"},r.createElement(cb,{titleTx:(0,G.tx)("slides.properties_panel.corner"),input:r.createElement(iO.E,{name:"slides_corner_radius_dropdown"},r.createElement(cp.ow,{value:{select:or.pW,inputComponent:or.gm}},r.createElement(lX.tV,{value:{chevron:c_.t}},r.createElement(lY.YZ,{id:"corner-radius-select",onValueChange:e=>{p(e)},value:d,icon:u,dropdownShown:n,willShowDropdown:()=>(eh.Y5.commit(),Promise.resolve()),formatter:s,scrubbingDisabled:1e6===c,dispatch:t,recordingKey:eJ.Pt(e,"cornerRadius"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("slides.properties_panel.corner_radius"),tooltipForScreenReadersOnly:!1,enablePreview:!0},pv.map(t=>r.createElement(pf,{key:`corner-radius-${t}`,value:t,recordingKey:eJ.Pt(e,"cornerRadius","select",t)},t)),r.createElement(lX.sK,{key:"divider"}),r.createElement(pf,{key:"corner-radius-circular",value:1e6,recordingKey:eJ.Pt(e,"cornerRadius","select","circular")},(0,G.tx)("slides.properties_panel.corners_panel.circular"))))))}))}var pw=n(523099),pI=n(934576),pN=n(276625);let pk="slides_flapp_prop_panel--panelSelectorRow--8JJYh";function pC({selection:e}){let t=(0,l.wA)(),n=(0,rV.Um)(),i=(0,r.useMemo)(()=>Object.keys(e),[e])[0],a=(0,tT.Fk)((e,t)=>{let n=e.get(t);return n?.interactiveSlideConfigData?n.interactiveSlideConfigData:void 0},i),o=(0,r.useMemo)(()=>(function(e){if(!e||!e.startingPointsData)return[];try{return JSON.parse(e.startingPointsData)}catch(e){return[]}})(a),[a]),s=(0,r.useMemo)(()=>new pO(o),[o]),c=(0,r.useCallback)(e=>{nu.l7.user("set_slides_embeddable_prototype_starting_point",()=>{let t=lw.q.instance;t.get(i)?.setInteractiveSlideConfigData("activeStartingPointNodeId",e)})},[i]),p=(0,r.useCallback)(e=>{nu.l7.user("set_slides_embeddable_prototype_show_device_frame",()=>{let t=lw.q.instance;t.get(i)?.setInteractiveSlideConfigData("deviceFrameShownOverride",e.toString())})},[i]);if(!a)return null;let d=a.activeStartingPointNodeId??"";return r.createElement(eZ.k,{name:"slides_embeddable_prototype_panel"},r.createElement(tO.Zk,null,r.createElement(pA,{fileName:function(e){if(e.fileName)return e.pageName?`${e.fileName} - ${e.pageName}`:e.fileName}(a),baseUrl:a.url,activeStartingPointNodeId:a.activeStartingPointNodeId}),r.createElement("div",{className:pk},r.createElement("label",null,(0,G.tx)("slides.properties_panel.embeddable_prototype.flow_label")),r.createElement(iO.E,{name:"slide_embeddable_prototype_flow_selector"},r.createElement(lX.l6,{disabled:0===o.length,formatter:s,id:"slide-embeddable-prototype-flow-selector",property:d,onChange:e=>{c(e)},dispatch:t,dropdownShown:n},o.map(e=>r.createElement(lX.c$,{value:e.id,key:e.id}))))),void 0!==a.deviceFramePreset&&""!==a.deviceFramePreset?r.createElement(pM,{showDeviceFrame:(0,pI.Wd)(a),onChange:p}):null))}function pA({fileName:e,baseUrl:t,activeStartingPointNodeId:n}){let l=(0,r.useCallback)(()=>{let e;if(t){try{e=new URL(t)}catch(e){return}n&&(0,pN.e)(e.searchParams,"starting-point-node-id",n),iW.Ay.redirect(e.toString(),"_blank")}},[t,n]);return r.createElement(iP.r,{titleTx:e?r.createElement("div",{className:R.cx.textBodyMediumStrong.$},e):(0,G.tx)("slides.properties_panel.embeddable_prototype.default_title"),icon:r.createElement(z.K,{"aria-label":(0,G.t)("slides.properties_panel.embeddable_prototype.open_prototype_label"),onClick:l,htmlAttributes:{"data-tooltip":(0,G.t)("slides.properties_panel.embeddable_prototype.open_prototype_label"),"data-tooltip-type":"text"}},r.createElement(pw.E,null))})}function pM({showDeviceFrame:e,onChange:t}){return r.createElement("div",{className:pk},r.createElement("label",null,(0,G.tx)("slides.properties_panel.embeddable_prototype.device_frame_label")),r.createElement(iO.E,{name:"slides_embeddable_prototype_device_frame_switch"},r.createElement(sb.d,{label:r.createElement(lt.h,null,(0,G.t)("slides.properties_panel.embeddable_prototype.device_frame_label")),checked:e,onChange:t})))}class pO{constructor(e){this.startingPointsData=e}format(e){return this.startingPointsData?.find(t=>t.id===e)?.name??""}}var px=n(424928),pR=n(954625),pL=n(116226);function pF(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.146 6.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9H9a3 3 0 1 0 0 6h.5a.5.5 0 0 1 0 1H9a4 4 0 0 1 0-8h1.293L9.146 6.854a.5.5 0 0 1 0-.708M14 8.5a.5.5 0 0 1 .5-.5h.5a4 4 0 0 1 0 8h-1.293l1.147 1.146a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708.708L13.707 15H15a3 3 0 1 0 0-6h-.5a.5.5 0 0 1-.5-.5",clipRule:"evenodd"}))}function pD(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.854 6.854a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 0 0 .708.708zm-8.708-.708a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9H9a3 3 0 0 0-2.143 5.1.5.5 0 0 1-.714.7A4 4 0 0 1 9 8h1.293L9.146 6.854a.5.5 0 0 1 0-.708m8.004 3.047a.5.5 0 0 1 .707.008A4 4 0 0 1 15 16h-1.293l1.147 1.145a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708.708L13.707 15H15a3 3 0 0 0 2.143-5.1.5.5 0 0 1 .007-.707",clipRule:"evenodd"}))}var pV=n(43604),pK=n(978488),pU=n(30090),pB=n(931770),pG=n(53119),pH=n(186126),pY=n(527718),pW=n(662862),p$=n(671209),pz=n(407058),pQ=n(384627),pX=n(306143),pj=n(617398);function pJ({value:e,onValueChange:t,dispatch:n,dataTooltipType:l=t6.Ib.TEXT,dataTooltip:i,recordingKey:a}){return r.createElement(lY.w2,{"data-tooltip-type":l,"data-tooltip":i,value:e,onValueChange:t,dispatch:n,decimals:0,tooltipForScreenReadersOnly:!1,hidePercentSign:!0,childrenAtEnd:!0,inputClassName:R.cx.w64.br0.$,recordingKey:a},r.createElement("span",{className:R.cx.flex.w100.justifyEnd.pr4.eventsNone.colorTextSecondary.$},(0,G.tx)("fullscreen.scrubbable.percent")))}var pZ=n(113675);function pq({value:e,min:t,max:n,step:l,bigStep:i,hints:a,onChange:o,ariaLabel:s,numberInput:c,sliderTrackableName:p,recordingKey:d}){return r.createElement("div",{className:"slides_slider_input_row--sliderInputRow--Z9EzC ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu"},r.createElement("div",{className:"slides_slider_input_row--slider--M8t1y"},r.createElement(iO.E,{name:p},r.createElement(pZ.A,{min:t,max:n,step:l,bigStep:i,hints:a,rangeAnchor:t,mixed:(0,ts.gl)(e),value:(0,ts.hS)(e)?e:0,onChange:o,"aria-label":s,recordingKey:eJ.Pt(d,"slider")}))),r.createElement("div",{className:"slides_slider_input_row--input--E4qTs"},c))}var p0=n(676938);function p1({rowRef:e,recordingKey:t}){let[n,l]=r.useState(!1),[i,a]=r.useState(null),o=r.useCallback(()=>{n?l(!1):e.current&&(a((0,t7.cn)(e.current,240)),l(!0))},[n,e]),s=r.useRef(null),c=r.useRef(null);return(0,p0.Y)(()=>l(!1),{closeOnEsc:!0,ignore:[s,c]}),r.createElement(r.Fragment,null,r.createElement(iO.E,{name:"slides_blur_input"},r.createElement(c9,{isOpen:n,onClick:o,ref:s,recordingKey:t},r.createElement("div",{className:R.cx.inlineFlex.itemsCenter.$},r.createElement(pj.V,null),(0,G.tx)("slides.properties_panel.blur.label")))),n&&i&&r.createElement("div",{ref:c},r.createElement(eP.vx,{title:(0,G.t)("slides.properties_panel.blur.title"),headerSize:"small",initialPosition:i,initialWidth:240,onClose:()=>l(!1),autoflowHeight:!0,recordingKey:t},r.createElement("div",{className:R.cx.py12.pr8.$},r.createElement(p5,{recordingKey:t})))))}function p5({recordingKey:e}){let t=(0,l.wA)(),[n,i]=(0,l9.lJ)("blur"),a=r.useCallback(e=>i(100*e),[i]);return r.createElement(eZ.k,{name:"slides_blur_controls"},r.createElement(pq,{min:0,max:1,step:.01,bigStep:.1,value:(0,ts.gl)(n)?ts.oV:(n||0)/100,onChange:a,ariaLabel:(0,G.t)("slides.properties_panel.blur.strength"),numberInput:r.createElement(iO.E,{name:"slides_blur_strength_input"},r.createElement(pJ,{dataTooltip:(0,G.t)("slides.properties_panel.blur.strength"),value:(0,ts.gl)(n)?ts.oV:(n||0)/100,onValueChange:a,dispatch:t,recordingKey:eJ.Pt(e,"blurStrength","input")})),sliderTrackableName:"slides_blur_strength_slider",recordingKey:eJ.Pt(e,"blurStrength")}))}let p4=`${eG.Yr}-overlay`,p2={type:"SOLID",color:{r:0,g:0,b:0,a:1},opacity:.4,blendMode:"NORMAL",visible:!0};function p3({rowRef:e,recordingKey:t}){let[n,l]=r.useState(!1),[i,a]=r.useState(null),o=r.useCallback(()=>{n?l(!1):e.current&&(a((0,t7.cn)(e.current,240)),l(!0))},[n,e]),s=r.useRef(null),c=r.useRef(null);(0,p0.Y)(()=>l(!1),{closeOnEsc:!0,ignore:[s,c]});let p=(0,l9.kl)("imageOverlayPaint"),d=(0,ts.E7)(p??null)||p2;return r.createElement(r.Fragment,null,r.createElement(iO.E,{name:"slides_overlay_input"},r.createElement(c9,{isOpen:n,onClick:o,ref:s,recordingKey:t},r.createElement("span",{className:R.cx.inlineFlex.gap6.pl4.ellipsis.noWrap.overflowHidden.$},r.createElement(pc,{paint:d,colors:[]}),(0,G.tx)("slides.properties_panel.overlay")))),n&&i&&r.createElement("div",{ref:c},r.createElement(eP.vx,{title:(0,G.t)("slides.properties_panel.overlay"),headerSize:"small",initialPosition:i,initialWidth:240,onClose:()=>l(!1),autoflowHeight:!0,recordingKey:t},r.createElement("div",{className:R.cx.py12.pr8.$},r.createElement(p6,{recordingKey:t})))))}function p6({recordingKey:e}){let t=(0,l.wA)(),n=(0,iR.Zr)("add-image-overlay"),[i,a]=(0,l9.lJ)("imageOverlayPaint"),o=(0,ts.gl)(i)||i&&n,s=e=>{(0,rn.assertDev)((0,ts.hS)(i),"overlay paint should not be mixed");var t={...i||p2};t.opacity=e,a(t)};return r.createElement(eZ.k,{name:"slides_overlay_controls"},r.createElement(pq,{min:0,max:1,step:.01,bigStep:.1,value:o?ts.oV:i?.opacity||0,onChange:s,ariaLabel:(0,G.t)("slides.properties_panel.overlay.opacity_slider_aria_label"),numberInput:r.createElement(iO.E,{name:"slides_image_overlay_opacity_slider"},r.createElement(pJ,{dataTooltip:(0,G.t)("fullscreen.scrubbable.opacity"),value:o?ts.oV:i?.opacity||0,onValueChange:s,dispatch:t})),sliderTrackableName:"slides_image_overlay_opacity_slider",recordingKey:eJ.Pt(e,"opacity")}),r.createElement("div",{className:R.cx.pt8.pb4.pr8.pl16.$},r.createElement(pa,{paint:o?ts.oV:i||p2,onChange:e=>{(0,rn.assertDev)((0,ts.hS)(i),"overlay paint should not be mixed");var t={...e};i&&e.color&&i.color&&c6.z5.format(e.color)!==c6.z5.format(i.color)&&(t.opacity=i.opacity),i||(t.opacity=.4),a(t)},pickerId:p4,inheritStyleKeyField:"inheritFillStyleKey",inheritStyleKey:void 0,inheritStyleName:void 0,inheritStyleId:void 0,recordingKey:eJ.Pt(e,"color"),hideCustomColorPickerFillTypeToggle:!1})))}let p7="image-scale-mode-select";function p8({paint:e,paintIndex:t,onChange:n,recordingKey:a,selectedPropertyType:o}){let s=(0,l.wA)(),c=(0,r.useMemo)(()=>new lz.D,[]),p=(0,l.d4)(e=>e.dropdownShown?.type===p7?e.dropdownShown:null),[d,u]=(0,r.useState)(!1),[m,E]=(0,r.useState)(0),[_,h]=(0,r.useState)(0),[y,g]=(0,r.useState)(!1),[S,b]=(0,r.useState)(null),[f,v]=(0,r.useState)(!1),[T,P]=(0,r.useState)(!1),[w,I]=(0,r.useState)(0),[N,k]=(0,r.useState)(null),[C,A]=(0,r.useState)(null),M=(0,te.y7)(e),O=(0,r.useRef)(M);O.current=M;let x=(0,H.tS)(),L=!!e?.animatedImage,D=!!e?.video||e?.type==="VIDEO";(0,r.useEffect)(()=>{L&&O.current?.animationFrame!=null?(I(O.current.animationFrame),(0,pz.Bc)(O.current).then(e=>{k((0,pG.J)(e))})):D&&(0,pU.Fe)().then(e=>b(e))},[D,L,M?.animatedImage?.hash]);let V=function(){let e=(0,l9.kl)("videoMediaLoop");return{mediaLoop:e,autoplay:(0,l9.kl)("videoAutoplay"),muted:(0,l9.kl)("videoMuted"),numVideosSelected:(0,l9.kl)("numVideosSelected")}}();return e?r.createElement("div",null,r.createElement(eB.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>(u(!0),eJ.aH),onTargetDragLeave:()=>(u(!1),eJ.aH),onTargetDrop:n=>{if(u(!1),eh.Y5.fileArrayToString){let r=eh.Y5.fileArrayToString(Array.from(n.files));i.glU.dropImageOnPaintThumbnail(e?.blendMode??"NORMAL",e?.opacity??1,r,t,o)}},recordingKey:eJ.Pt(a,"imageDragTarget")},r.createElement("div",{className:F()(R.cx.relative.wAuto.h100.flex.itemsCenter.justifyCenter.radiusMedium.$,pn.xm,{[R.cx.colorBorderSelected.bSolid.b1.$]:d})},M&&D?r.createElement(pW.A,{imagePaint:M,openFileKey:x||void 0,width:200,height:100,className:R.cx.opacity1.block.$,currentTime:m,onUpdateCurrentTime:e=>E(e),setDuration:e=>h(e),playing:y,setPlaying:e=>g(e),videoJsLib:S,isVideoLoaded:f,setIsVideoLoaded:e=>v(e),userClickedControls:T,setUserClickedControls:e=>P(e)}):M&&L?r.createElement(pH.Y,{imagePaint:M,width:200,height:100,animatedImage:N,animationFrame:w,onUpdateFrameData:e=>A(e),playing:y}):M?r.createElement(pY.K,{imagePaint:M,width:200,height:100,forceUpdate:!1}):null,r.createElement("div",{className:F()(R.cx.absolute.top0.bottom0.left0.right0.flex.itemsCenter.justifyCenter.$,pn.CL)},r.createElement(iO.E,{name:"slides_media_upload"},r.createElement(pQ.v,{uploadImagePaint:()=>{eh.Y5.updateAppModel({currentSelectedProperty:{type:i.rrT.FILL,indices:[t]}});let n=e.blendMode||"NORMAL",r=e.opacity||1;i.glU.uploadPaintMedia(n,r)},recordingKey:eJ.Pt(a,"uploadMedia")}))))),r.createElement(nt.Ad,{label:null,input:r.createElement(iO.E,{name:"slides_image_scale_mode"},r.createElement(lX.l6,{id:p7,property:e.imageScaleMode??"FILL",onChange:t=>{"STRETCH"===t?eh.Y5.triggerActionInUserEditScope("crop-image"):n({...e,imageScaleMode:t})},formatter:c,dispatch:s,dropdownShown:p,targetDomNode:document.body,inputWidth:80,recordingKey:eJ.Pt(a,"imageScaleMode")},pz.GA.map((e,t)=>r.createElement(lX.c$,{key:t,value:e,recordingKey:eJ.Pt(a,"imageScaleMode",e)}))))}),r.createElement(de,{recordingKey:a}),D&&r.createElement(r.Fragment,null,r.createElement("div",{className:pn.iS},r.createElement(pX.P,{paint:e,currentTime:m||0,duration:_,onVideoTimeChange:e=>{E(e),g(!1)},disabled:!e.video,isVideoLoaded:f,setPlaying:e=>g(e),playing:!!e.video&&y,setUserClickedControls:e=>P(e)})),r.createElement("div",{className:R.cx.pl16.pr8.flex.minH32.itemsCenter.$},r.createElement("div",{className:R.cx.flex1.$},r.createElement(le.S,{label:r.createElement(lt.J,{htmlAttributes:{"data-tooltip":(0,G.t)("proto.prototype_panel.default_video_playback_state"),"data-tooltip-type":t6.Ib.TEXT}},(0,G.tx)("proto.prototype_panel.autoplay")),onChange:e=>eh.Y5.updateSelectionProperties({videoAutoplay:e}),checked:!0===V.autoplay,mixed:(0,ts.gl)(V.autoplay)})),r.createElement("div",{className:R.cx.flex.flexRow.gap4.$},r.createElement(p9,{onIcon:r.createElement(pF,null),offIcon:r.createElement(pD,null),enabled:!0===V.mediaLoop,onClick:()=>eh.Y5.updateSelectionProperties({videoMediaLoop:!V.mediaLoop}),recordingKey:eJ.Pt(a,"videoLoopToggle"),tooltip:(0,G.t)("proto.prototype_panel.loop"),trackingName:"slides_video_loop_toggle"}),r.createElement(p9,{onIcon:r.createElement(pV.L,null),offIcon:r.createElement(pK.P,null),enabled:!0!==V.muted,onClick:()=>eh.Y5.updateSelectionProperties({videoMuted:!V.muted}),recordingKey:eJ.Pt(a,"videoSoundToggle"),tooltip:(0,G.t)("proto.prototype_panel.sound"),trackingName:"slides_video_sound_toggle"})))),L&&r.createElement("div",{className:pn.iS},r.createElement(p$.F,{paint:e,animationFrame:w,numFrames:N?N.numFrames():null,onGIFFrameChange:e=>{I(Math.round(e)),g(!1)},disabled:!N,setPlaying:e=>g(e),playing:!!N&&y,setGIFCoverFrame:t=>{if(!C)return;let n=t??w;(null!=t||n!==e.animationFrame)&&(eh.Y5.triggerAction("toggle-raster-edit-mode"),nu.l7.user("update-gif-image-slides",()=>(0,pB.SK)({...e,animationFrame:n},C.data,i.rrT.FILL)),i.glU.setDefaultEditMode())}}))):null}function p9({enabled:e,onClick:t,onIcon:n,offIcon:l,tooltip:i,trackingName:a,recordingKey:o}){return r.createElement(iO.E,{name:a},r.createElement(l6.f,{checked:e,onIcon:n,offIcon:l,onChange:t,"aria-label":i,recordingKey:o,htmlAttributes:{"data-tooltip":i,"data-tooltip-type":t6.Ib.TEXT},variant:"highlighted"}))}function de({recordingKey:e}){let t=(0,r.useRef)(null);return r.createElement(c1.g,{ref:t,leftLabel:null,leftInput:r.createElement(p3,{rowRef:t,recordingKey:eJ.Pt(e,"overlay")}),rightLabel:null,rightInput:r.createElement(p1,{rowRef:t,recordingKey:eJ.Pt(e,"blur")})})}let dt=`${eG.Yr}-fill`,dn=["NONE","SOLID","GRADIENT","MEDIA"],dr={SOLID:"SOLID",GRADIENT:"GRADIENT_LINEAR",MEDIA:"IMAGE"};function dl({recordingKey:e}){let t=(0,l.d4)(e=>e.mirror.selectionProperties.numSelectedByType),n=!!t&&(0,ix.OU)(t,["SLIDE"]),a=t&&(0,ix.Kl)(t,["SLIDE","TEXT"]),[o]=(0,l9.lJ)("fillsType"),s=(0,l.d4)(e=>{let t=e.mirror.selectionProperties.fillPaints;return(0,ts.gl)(t)?ts.oV:t?.[0]}),[c]=(0,l9.lJ)("imageOverlayPaint"),[p]=(0,l9.lJ)("inheritFillStyleKey"),[d]=(0,l9.lJ)("inheritFillStyleName"),[u]=(0,l9.lJ)("styleIdForFill"),m=r.useMemo(()=>({NONE:{displayText:(0,G.t)("slides.properties_panel.fill.fill_type_none"),icon:r.createElement(nw.f,null)},SOLID:{displayText:(0,G.t)("slides.properties_panel.fill.fill_type_solid"),icon:r.createElement(px.H,null)},GRADIENT:{displayText:(0,G.t)("slides.properties_panel.fill.fill_type_gradient"),icon:r.createElement(pR.z,null)},MEDIA:{displayText:(0,G.t)("slides.properties_panel.fill.fill_type_media"),icon:r.createElement(pL.Z,null)}}),[]),E=(0,pe.CK)(),_=r.useCallback(e=>(0,ts.gl)(e)?void 0:e?"RASTER"===e||c&&(0,ts.hS)(c)?"MEDIA":e:a?"SOLID":"NONE",[a,c]),[h,y]=r.useState(_(o));r.useEffect(()=>{y(_(o))},[o,s,_]);let g=r.useCallback(e=>{h!==e&&("NONE"===e?eh.Y5.updateSelectionProperties({fillPaints:[]}):dr[e]&&E(te.Tm.initPaint(dr[e],pt.li.color,(0,ts._W)(s,{}),"slides-fill-panel"),lK.zk.YES),y(e))},[s,E,h]);(0,v.f4)(()=>{y(_(o))});let S=h&&(0,ts.hS)(o)&&("SOLID"===h||"GRADIENT"===h),b=h&&(0,ts.hS)(o)&&s&&(0,ts.hS)(s)&&"MEDIA"===h;return r.createElement(eZ.k,{name:"slides_fill_panel"},r.createElement(cS,null,r.createElement(iP.r,{titleTx:(()=>{if(t){if(n)return(0,G.tx)("slides.properties_panel.fill.slide_fill_title");if((0,ix.OU)(t,["TEXT"]))return(0,G.tx)("slides.properties_panel.fill.text_fill_title")}return(0,G.tx)("slides.properties_panel.fill.fill_title")})()}),r.createElement(pd,{legend:(0,G.tx)("slides.properties_panel.fill.type_label"),value:h,onChange:g,recordingKey:eJ.Pt(e,"fillType")},dn.filter(e=>!(a&&"NONE"===e)).map(e=>r.createElement(cZ.c,{key:e,value:e,icon:m[e].icon,"aria-label":m[e].displayText,htmlAttributes:{"data-onboarding-key":m[e].displayText}}))),S&&r.createElement("div",{className:R.cx.py4.pr8.pl16.$},r.createElement(pa,{paint:s,onChange:E,inheritStyleKeyField:"inheritFillStyleKey",inheritStyleName:d,inheritStyleKey:p,inheritStyleId:u,pickerId:dt,recordingKey:eJ.Pt(e,"color"),hideCustomColorPickerFillTypeToggle:!0})),b&&r.createElement(p8,{paint:s,paintIndex:0,onChange:E,recordingKey:e,selectedPropertyType:i.rrT.FILL})))}var di=n(690122),da=n(721478),ds=n(371623),dc=n(501891);let dp=r.memo(function({recordingKey:e}){let t=(0,l.d4)(lV.qd),n=(0,l.d4)(lV.dT),i=(0,l.d4)(nA.Z3),a=(0,ts.E7)((0,l9.kl)("resettableInstanceOverrides")),{onlyInstances:o,onlyInstanceSublayers:s}=(0,di.p)(n);return o||s?r.createElement(tO.Zk,{className:dc.Mx},o&&r.createElement("div",{className:dc.Og},r.createElement(nC.e6,{containerWidth:nX.O2.RESIZABLE_SIDEBAR,propDimension:nX.OE.ASSIGNMENT,guids:t,recordingKey:e,enableHidingOverflowRowsInUI3:!0,hideIcon:!0,entrypointForInstanceSwapPicker:ds.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL})),i.map(t=>r.createElement("div",{key:`bubbledInstance.${t[0]}`,className:dc.Wf},r.createElement(nC.ME,{containerWidth:nX.O2.RESIZABLE_SIDEBAR,propDimension:nX.OE.ASSIGNMENT,guids:t,hideErrors:!0,resettableInstanceOverrides:a&&a.bubbledInstanceOverrides?a.bubbledInstanceOverrides[t[0]]:void 0,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:da.NA.NAME_ONLY,shouldHideInstanceTitleButtons:!0,hideIcon:!0,recordingKey:e,forBubbledProps:!0,highlightNodesOnHover:!0,entrypointForInstanceSwapPicker:ds.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL_BUBBLED})))):r.createElement(tO.Zk,{className:dc.Mx})});var dd=n(992739),du=n(447636);function dm({selection:e}){let t=(0,r.useMemo)(()=>Object.keys(e),[e]),n=t[0],l=(0,tT.Fk)((e,t)=>(function(e){let t;if(!e)return;let n=e.interactiveSlideElementType;if(null===n||n===i.a9h.EMBED)return;switch(n){case i.a9h.POLL:t=(0,G.t)("slides.flapp.embed.widget_poll");break;case i.a9h.FACEPILE:t=(0,G.t)("slides.flapp.embed.widget_stamps");break;case i.a9h.ALIGNMENT:t=(0,G.t)("slides.flapp.embed.widget_alignment");break;case i.a9h.YOUTUBE:t=(0,G.t)("slides.flapp.embed.widget_youtube")}let r=Object.keys(e.interactiveSlideParticipantData).length>0,l=e.interactiveSlideConfigData,a=(0,du.aF)(l);return{displayName:t,currentTheme:a.theme,hasParticipantData:r,shouldShowBackground:!a.transparentMode}})(e.get(t)),n),a=(0,r.useCallback)(()=>{nu.l7.user("reset_slides_interactive_widget_participant_data",()=>{let e=lw.q.instance;e.get(n)?.resetInteractiveSlideParticipantData()})},[n]),o=(0,r.useCallback)(e=>{nu.l7.user("set_interactive_widget_theme",()=>{let t=lw.q.instance;t.get(n)?.setInteractiveSlideConfigData("theme",e)})},[n]),s=(0,r.useCallback)(e=>{nu.l7.user("set_interactive_widget_hide_background",()=>{let t=lw.q.instance;t.get(n)?.setInteractiveSlideConfigData("hideBackground",(!e).toString())})},[n]);return!l||t.length>1?null:r.createElement(eZ.k,{name:"slides_interactive_widget_panel"},r.createElement(tO.Zk,null,r.createElement(iP.r,{titleTx:r.createElement("p",{className:R.cx.textBodyMediumStrong.$},l.displayName),icon:r.createElement(d_,{canReset:l.hasParticipantData,onReset:a})}),r.createElement(dy,{currentTheme:l.currentTheme,onThemeSelected:o}),r.createElement(dS,{showBackground:l.shouldShowBackground,onChange:s}),r.createElement(dE,null)))}function dE(){return r.createElement("div",{className:R.cx.p8.$},r.createElement("div",{className:R.cx.colorBgSecondary.radiusMedium.p8.$},r.createElement("div",{className:R.cx.textBodyMediumStrong.colorText.pb4.$},(0,G.tx)("slides.properties_panel.interactive_widget.usage_guidance_header")),r.createElement("div",{className:R.cx.textBodyMedium.colorTextTertiary.$},(0,G.tx)("slides.properties_panel.interactive_widget.usage_guidance_text"))))}function d_({canReset:e,onReset:t}){let{showing:n,toggle:l}=(0,rV.BK)("RESET_INTERACTIVE_WIDGET_ICON_DROPDOWN_ID"),i=(0,r.useRef)(null);return r.createElement(r.Fragment,null,r.createElement(z.K,{"aria-label":(0,G.t)("slides.properties_panel.interactive_widget.reset_label"),disabled:!e,onClick:()=>l(),ref:i},r.createElement(dd.m,null)),n&&i.current&&r.createElement(nS.Cf,{targetRect:i.current.getBoundingClientRect(),displayOverTarget:!0},r.createElement(nE.c$,{disabled:!0},(0,G.tx)("slides.properties_panel.interactive_widget.reset_confirmation_title")),r.createElement(nE.c$,{onClick:t},(0,G.tx)("slides.properties_panel.interactive_widget.confirm_reset_label"))))}let dh="flappThemeSelector";function dy({currentTheme:e,onThemeSelected:t}){let n=(0,l.wA)(),i=(0,rV.Um)();return r.createElement("div",{className:pk},r.createElement("label",null,(0,G.tx)("slides.properties_panel.interactive_widget.theme_selector_label")),r.createElement(iO.E,{name:"slides_interactive_widget_theme_selector"},r.createElement(lX.l6,{id:"slides-interactive-widget-theme-selector",formatter:dg,property:e,onChange:t,dispatch:n,dropdownShown:i,recordingKey:dh},r.createElement(lX.c$,{value:du.Pm.Light,key:du.Pm.Light,recordingKey:eJ.Pt(dh,"lightOption")}),r.createElement(lX.c$,{value:du.Pm.Dark,key:du.Pm.Dark,recordingKey:eJ.Pt(dh,"darkOption")}))))}let dg=new class{format(e){switch(e){case du.Pm.Light:return(0,G.t)("slides.properties_panel.interactive_widget.light_theme_label");case du.Pm.Dark:return(0,G.t)("slides.properties_panel.interactive_widget.dark_theme_label");case du.Pm.Translucent:return(0,G.t)("slides.properties_panel.interactive_widget.transparent_theme_label")}}};function dS({showBackground:e,onChange:t}){return r.createElement("div",{className:pk},r.createElement("label",null,(0,G.tx)("slides.properties_panel.interactive_widget.background_label")),r.createElement(iO.E,{name:"slides_interactive_widget_background_switch"},r.createElement(sb.d,{label:r.createElement(lt.h,null,(0,G.t)("slides.properties_panel.interactive_widget.background_label")),checked:e,onChange:t,recordingKey:"flappBackgroundToggle"})))}var db=n(859905),df=n(342691);function dv({recordingKey:e}){let[t,n]=r.useState(!1),[l,i]=(0,r8.Xw)(),a=(0,iK.Df)(),o=(0,iK.Jo)(),s=(0,aM.Xo)(),c=(0,H.tS)(),p=r.createElement(l6.f,{"aria-label":t?(0,G.t)("slides.properties_panel.layout.collapse_button_tooltip"):(0,G.t)("slides.properties_panel.layout.expand_button_tooltip"),checked:t,onChange:()=>n(!t),onIcon:r.createElement(db.k,null),offIcon:r.createElement(df.a,null),recordingKey:eJ.Pt(e,"togglePanel")});return r.createElement(cS,{...i},r.createElement(cf,{titleTx:(0,G.tx)("slides.properties_panel.layout.title"),icon:p}),r.createElement(ca.wF,{isHoveringOverPanel:l,recordingKey:e}),t&&r.createElement(r.Fragment,null,r.createElement(iB.$C,{transformDisabled:!o.transform,showFrameFitButton:!1,pickerShown:s,canEditConstraints:!1,openFileKey:c,recordingKey:e}),r.createElement(iB.ex,{recordingKey:e}),(a.angle||a.cornerRadius)&&r.createElement(oz.cc,{cornerRadiusShown:a.cornerRadius,cornerRadiusDisabled:!o.cornerRadius,rectangleCornersShown:a.rectangleCornerRadii,rectangleCornersDisabled:!o.rectangleCornerRadii,angleShown:a.angle,angleDisabled:!o.angle,recordingKey:e})))}var dT=n(437457);let dP=/^\w+:/;function dw({recordingKey:e}){let t=(0,l.wA)(),n=(0,rV.Um)(),[a,o]=(0,l9.lJ)("hyperlink"),s=(0,ts.E7)(a),c=null;s&&void 0!==s.guid?c={type:"guid",guid:s.guid}:s&&void 0!==s.url?c={type:"url",url:s.url}:(0,ts.gl)(a)&&(c=ts.oV);let p=(0,w.J2)(i.Ez5.slideDeck().slideGrid),d=(0,cg.rY)(p),u=r.useMemo(()=>d.reduce((e,t,n)=>(e.set(t,n),e),new Map),[d]),m=r.useMemo(()=>({format:e=>{if(null===e)return"";if((0,ts.gl)(e))return(0,G.t)("fullscreen.mixed");if("guid"===e.type){let t=(0,eQ.dI)(e.guid),n=u.get(t);return void 0===n?"":(0,G.t)("slides.properties_panel.link_panel.slide_number",{orderNum:n+1})}return"url"===e.type?e.url:""},parse:e=>{if(!e)return null;let t=(0,G.t)("slides.properties_panel.link_panel.slide_number",{orderNum:""}),n=e.replace(t,"").trim();if(n.length>0){let e=parseInt(n)-1,t=(0,eQ.sH)(d[e]);if(t)return{type:"guid",guid:t}}return{type:"url",url:e}},isEqual:(e,t)=>(0,cJ.deepEquals)(e,t)}),[u,d]),E=nu.nc.user("slides-link-change",r.useCallback(e=>{null===e?o({},lK.zk.YES):"guid"===e.type?o({guid:e.guid},lK.zk.YES):"url"===e.type&&o({url:e.url.match(dP)?e.url:`https://${e.url}`},lK.zk.YES),i.glU.hideHyperlinkEditor()},[o]));return r.createElement(eZ.k,{name:"slides_link_panel"},r.createElement(cS,null,r.createElement(iP.r,{titleTx:(0,G.tx)("slides.properties_panel.link_panel.title")}),r.createElement(nt.Ad,{input:r.createElement(cp.ow,{value:{select:or.pW,inputComponent:or.gm}},r.createElement(lX.tV,{value:{chevron:c_.t}},r.createElement(cp.a3,{id:"slides-link-combo-box",dispatch:t,inputClassName:dT.lb,dropdownShown:n,formatter:m,property:c,onChange:e=>{E(e)},placeholder:(0,G.t)("slides.properties_panel.link_panel.placeholder"),forceInputPlaceholder:null===c,recordingKey:eJ.Pt(e,"link")},d.map(t=>r.createElement(lX.c$,{value:{type:"guid",guid:(0,eQ.sH)(t)},key:t,recordingKey:eJ.Pt(e,t)}))))),label:null})))}class dI extends lX.c${}class dN extends sQ.LN{isEqual(e,t){return 1e-5>Math.abs(e-t)}}let dk=[.1,.3,.5,.8,1];function dC({recordingKey:e}){let t=(0,l.wA)(),n=(0,rV.Um)(),[i,a]=(0,l9.lJ)("opacity"),o=new dN,s=void 0===i||(0,ts.gl)(i)?ts.oV:i,c=r.createElement(t2.U,{svg:pb.A},r.createElement(o$.N,null));return r.createElement(eZ.k,{name:"slides_opacity_panel"},r.createElement(cb,{titleTx:(0,G.tx)("slides.properties_panel.opacity"),input:r.createElement(iO.E,{name:"slides_opacity_dropdown"},r.createElement(cp.ow,{value:{select:or.pW,inputComponent:or.gm}},r.createElement(lX.tV,{value:{chevron:c_.t}},r.createElement(lY.xW,{id:"opacity-select",onValueChange:e=>{a(e)},value:s,icon:c,dropdownShown:n,min:0,max:1,willShowDropdown:()=>(eh.Y5.commit(),Promise.resolve()),formatter:o,dispatch:t,recordingKey:eJ.Pt(e,"opacity"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("slides.properties_panel.opacity"),tooltipForScreenReadersOnly:!1,enablePreview:!0},dk.map(t=>r.createElement(dI,{key:`opacity-${t}`,value:t,recordingKey:eJ.Pt(e,"opacity","select",t)},o.format(t)))))))}))}function dA(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.5 8h-6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5m-6-1A1.5 1.5 0 0 0 7 8.5v6A1.5 1.5 0 0 0 8.5 16h6a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 14.5 7z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M8.064 15.936A1.5 1.5 0 0 0 9.5 17h6a1.5 1.5 0 0 0 1.5-1.5v-6a1.5 1.5 0 0 0-1.064-1.436A1.5 1.5 0 0 1 16 8.5v6a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-.436-.064",clipRule:"evenodd"}))}function dM(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.5 8h-6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5m-6-1A1.5 1.5 0 0 0 7 8.5v6A1.5 1.5 0 0 0 8.5 16h6a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 14.5 7z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M9 16v.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 16.5 9H16v5.5a1.5 1.5 0 0 1-1.5 1.5z",clipRule:"evenodd"}))}function dO(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13.5 7h-6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5m-6-1A1.5 1.5 0 0 0 6 7.5v6A1.5 1.5 0 0 0 7.5 15h6a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 13.5 6z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M9 15v1.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 16.5 9H15v4.5a1.5 1.5 0 0 1-1.5 1.5z",clipRule:"evenodd"}))}let dx=["NONE","LIGHT","MEDIUM","STRONG"];function dR({recordingKey:e}){let t=(0,l.wA)(),[n,i]=(0,l9.lJ)("shadow"),a=r.useMemo(()=>({NONE:{value:null,legacyValue:null,displayText:(0,G.t)("slides.properties_panel.shadow_style_none"),icon:r.createElement(nw.f,null)},LIGHT:{value:[{radius:7,x:0,y:5,opacityMultiplier:.4}],legacyValue:[{radius:3,x:0,y:1}],displayText:(0,G.t)("slides.properties_panel.shadow_style_light"),icon:r.createElement(dA,null)},MEDIUM:{value:[{radius:56,x:0,y:18,opacityMultiplier:.4},{radius:18,x:0,y:10,opacityMultiplier:.2},{radius:6,y:4,x:0,opacityMultiplier:.16}],legacyValue:[{radius:16,x:0,y:5}],displayText:(0,G.t)("slides.properties_panel.shadow_style_medium"),icon:r.createElement(dM,null)},STRONG:{value:[{radius:80,x:0,y:26,opacityMultiplier:.64},{radius:40,x:0,y:12,opacityMultiplier:.28},{radius:8,x:0,y:5,opacityMultiplier:.2}],legacyValue:[{radius:40,x:0,y:10}],displayText:(0,G.t)("slides.properties_panel.shadow_style_strong"),icon:r.createElement(dO,null)}}),[]),[o,s]=r.useState(()=>c(n));function c(e){if(!(0,ts.gl)(e)){if(!e)return"NONE";if(dL(e,a.LIGHT.value)||dL(e,a.LIGHT.legacyValue))return"LIGHT";if(dL(e,a.MEDIUM.value)||dL(e,a.MEDIUM.legacyValue))return"MEDIUM";if(dL(e,a.STRONG.value)||dL(e,a.STRONG.legacyValue))return"STRONG"}}let p=(0,ts.gl)(n)?ts.oV:n?.[0]?.opacity??0;(0,ts.hS)(p)&&o&&a[o]&&(p/=a[o]?.value?.[0]?.opacityMultiplier||1);let d=e=>{if((0,ts.hS)(n)&&n){let t=o&&a[o];i(n.map((n,r)=>({...n,opacity:t?.value?.[r]?.opacityMultiplier?e*(t?.value?.[r]?.opacityMultiplier||1):e})),lK.zk.YES)}};return(0,v.f4)(()=>s(c(n))),r.createElement(eZ.k,{name:"slides_shadow_panel"},r.createElement(cS,null,r.createElement(iP.r,{titleTx:(0,G.tx)("slides.properties_panel.shadow")}),r.createElement(pd,{legend:(0,G.tx)("slides.properties_panel.shadow_style"),value:o,onChange:e=>{let t=a[e].value,n=(0,ts.hS)(p)&&p||.25;i(t?t.map(e=>({offset:{x:e.x,y:e.y},radius:e.radius,spread:0,opacity:n*(e.opacityMultiplier||1)})):null,lK.zk.YES),s(e)},recordingKey:eJ.Pt(e,"shadowStyle")},dx.map(e=>r.createElement(cZ.c,{key:e,value:e,icon:a[e].icon,"aria-label":a[e].displayText,htmlAttributes:{"data-onboarding-key":a[e].displayText}}))),!!n&&r.createElement(pq,{value:p,min:0,max:1,step:.01,bigStep:.1,onChange:d,ariaLabel:(0,G.t)("slides.properties_panel.shadow_opacity"),numberInput:r.createElement(iO.E,{name:"slides_shadow_opacity_input"},r.createElement(pJ,{dataTooltip:(0,G.t)("slides.properties_panel.shadow_opacity"),value:p,onValueChange:d,recordingKey:eJ.Pt(e,"shadowOpacity","input"),dispatch:t})),sliderTrackableName:"slides_shadow_opacity_slider",recordingKey:eJ.Pt(e,"shadowOpacity")})))}function dL(e,t){return!e&&!t||!!e&&!!t&&e.length===t.length&&e.every((e,n)=>e.radius===t[n]?.radius&&e.offset.x===t[n]?.x&&e.offset.y===t[n]?.y)}var dF=n(993086),dD=n(923793),dV=n(226129),dK=n(343427),dU=n(75540),dB=n(238093),dG=n(282647),dH=n(872442),dY=n(688998),dW=n(599677),d$=n(231139),dz=n(937348),dQ=n(304022),dX=n(176019),dj=n(841983),dJ=n(326331),dZ=n(44948),dq=n(877432),d0=n(407182),d1=n(559681),d5=n(985481),d4=n(352046),d2=n(785109);function d3({closePicker:e,recordingKey:t}){let n=(0,ty.$)(),a=(0,l.d4)(e=>e.stylePreviewShown),o=(0,l.wA)(),s=(0,l.d4)(e=>e.mirror.selectedStyleProperties),c=(0,l.d4)(e=>e.mirror.sceneGraphSelection),p=r.useRef(Object.keys(c).length>0),[d,u]=r.useState(!p.current&&void 0),{styleType:m,inheritStyleKeyField:E,styleNameInputPrefix:_}=a,{styleRef:h,createStyle:y}=(0,tE.u)({inheritStyleKeyField:E,isCreatingFromSelection:p.current,trackingOptions:{styleType:m},shouldUseEyedropperStyleCreationFlow:!1}),g=eJ.of(eJ.Pt("createStyleModal"),"submit",()=>{let t=y();o(tm.XE()),o(tm.Uv()),o(e0.sw()),i.Ez5.slideThemeLibBindings().addStyleToLocalTheme(t||"",n),e()});if(!a.isShown||!a.isCreating)return null;let S=new eT.Mi(a.rowLeft-300,a.rowTop);return r.createElement(e7.zK.Provider,{value:e7.zM.CREATE_STYLE},r.createElement(eP.vx,{title:(0,G.t)("design_systems.create_style.text"),headerSize:"small",initialWidth:300,initialPosition:S,onClose:()=>{o(e0.sw())},recordingKey:t,dragHeaderOnly:!0},r.createElement(d2._,{type:s.styleType,recordingKey:t,styleNameInputPrefix:_,isInspectPanel:!1,selectedStyleProperties:s,showProperties:d,onEnterPressed:g}),!h&&r.createElement("div",{className:R.cx.pl16.pr16.pt16.$},(0,G.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")),r.createElement(td.AutoLayout,{horizontalAlignItems:p.current?void 0:"end",verticalAlignItems:"center",spacing:p.current?"auto":void 0,padding:16},p.current&&r.createElement(r.Fragment,null,r.createElement(J.$n,{variant:"secondary",onClick:()=>u(!d),recordingKey:eJ.Pt(t,"showHideOptionsButton")},d?(0,G.tx)("design_systems.create_style.hide_options"):(0,G.tx)("design_systems.create_style.show_more_options")),r.createElement(J.$n,{onClick:g,disabled:!h,recordingKey:eJ.Pt(t,"createStyleButton")},(0,G.tx)("design_systems.create_style.create_style"))))))}var d6=n(354975),d7=n(902008),d8=n(811027),d9=n(896474),ue=n(110382),ut=n(783908);function un(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M4 15.727V7.924l.059-.065c.11-.117.285-.28.53-.443C5.078 7.091 5.858 6.75 7 6.75s1.923.341 2.41.666a3 3 0 0 1 .59.508v7.803l-.07-.04C9.296 15.336 8.338 15 7 15s-2.296.335-2.93.688zm7 0 .07-.04a5.5 5.5 0 0 1 1.93-.62v1.011a4.4 4.4 0 0 0-1.445.484c-.246.137-.42.272-.529.368a2 2 0 0 0-.136.133l-.002.003a.5.5 0 0 1-.776 0l-.002-.003-.022-.024a2 2 0 0 0-.114-.11 3 3 0 0 0-.53-.367C8.955 16.29 8.163 16 7 16s-1.954.29-2.445.562c-.246.137-.42.272-.529.368a2 2 0 0 0-.136.133l-.002.003A.5.5 0 0 1 3 16.75v-9a.5.5 0 0 1 .084-.277l.416.277-.416-.278.001-.002.002-.002.005-.007.014-.02.049-.064c.04-.052.1-.123.177-.205.155-.164.386-.377.703-.588C4.673 6.159 5.643 5.75 7 5.75s2.327.409 2.965.834a4 4 0 0 1 .535.422c.14-.13.318-.277.535-.422.638-.425 1.608-.834 2.965-.834s2.327.409 2.965.834c.317.211.548.424.703.588a3 3 0 0 1 .226.268l.014.02.005.008.002.003v.001l-.415.278.416-.277A.5.5 0 0 1 18 7.75V10h-1V7.924l-.059-.065a3 3 0 0 0-.53-.443c-.488-.325-1.268-.666-2.411-.666s-1.923.341-2.41.666a3 3 0 0 0-.59.508zM14.5 12a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 1 0V13h2v5h-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H18v-5h2v.5a.5.5 0 1 0 1 0v-1a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"}))}var ur=n(991586);function ul({parentRef:e,inheritTextStyleKey:t,styleIdForText:n,closePicker:i,recordingKey:a}){let o="inheritTextStyleKey",s=(0,dB._S)(o),c=(0,l.wA)();return r.createElement(r.Fragment,null,r.createElement(ur.M,{inheritStyleKey:t,inheritStyleID:n,styleType:rh.s4.TEXT}),s&&r.createElement(ur.U,{picker:s,styleType:rh.s4.TEXT,inheritStyleKey:t,inheritStyleKeyField:o,inheritStyleID:n,stylePickerListLayout:!0,onToggleListLayout:af.lQ,onApplyStyle:(e,t)=>{c(t3.AV({style:e,inheritStyleKeyField:o,fromSearch:t})),i()},hideBrowseLibraries:!(0,K.kc)().piper_style_libraries,hideCreateStyleButton:!0,customPickerTitle:(0,G.t)("slides.properties_panel.library_text_styles"),minBottomMargin:4,recordingKey:"subscribedStylePicker",hideLocalStyles:!0}),r.createElement(iO.E,{name:"slides_toggle_library_text_style_picker"},r.createElement(t0.d,{toggled:!!s,onClick:()=>{if(s)c(tm.Uv());else if(e.current){let t=e.current.getBoundingClientRect();c(e0.sw()),c(tm.bS({id:(0,dB.OS)("inheritTextStyleKey"),initialX:t.left-t.width-4,initialY:t.top,modal:!0}))}},"aria-label":(0,G.t)("fullscreen.properties_panel.tooltip_applyStyles"),recordingKey:eJ.Pt(a,"showStylesButton")},r.createElement(un,null))))}let ui="slides_text_style_dropdown_contents--styleOption--29CYO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",ua="slides_text_style_dropdown_contents--optionHeader---tOKJ";function uo({mainStyle:e,inheritStyleID:t,inheritStyleKey:n,closePicker:a,recordingKey:o}){let s=(0,l.wA)(),c=(0,ty.$)(),p=(0,d1.Xo)(c),d=r.useMemo(()=>e?.node_id&&p.some(t=>t.node_id===e.node_id),[e?.node_id,p]),u=(0,d1.kO)(c),m=r.createRef(),E=(0,l.d4)(e=>e.stylePreviewShown),_=E.isShown&&E.isCreating,h=E.isShown&&!E.isCreating,y=r.useContext(e7.lk),[g,S]=r.useState([]),b=r.useCallback((e,t,n)=>{for(let r of e)nu.l7.user("reorder-slide-theme-style",()=>{i.glU.insertStyleBetween(r.node_id,t?.node_id||"",n?.node_id||"")})},[]);return r.createElement("div",{className:"slides_text_style_dropdown_contents--dropdownContainer--pwY1T",ref:m},r.createElement(eZ.k,{name:"slides_text_style_picker"},r.createElement("div",{className:"slides_text_style_dropdown_contents--dropdownHeader--m278H"},r.createElement("span",{className:R.cx.flexGrow1.$},(0,G.tx)("slides.properties_panel.text_styles")),r.createElement(ul,{parentRef:m,styleIdForText:t,inheritTextStyleKey:n,closePicker:a,recordingKey:o}),r.createElement(t0.d,{toggled:_,"aria-label":(0,G.t)("slides.properties_panel.text_style.create_new_style"),onClick:()=>{if(_)s(e0.sw());else if(m.current){nu.l7.user("slides-create-style",()=>{i.glU.applyStyleToSelection("inheritTextStyleKey",eQ.AD,!0),i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID)}),s(tm.Uv());let e=m.current.getBoundingClientRect();y({styleType:rh.s4.TEXT,inheritStyleKeyField:"inheritTextStyleKey",rowLeft:e.left,rowTop:e.top})}},disabled:u,recordingKey:eJ.Pt(o,"addStyleButton"),htmlAttributes:{"data-tooltip":(0,G.t)("slides.properties_panel.text_style.create_new_style"),"data-tooltip-type":t6.Ib.TEXT}},r.createElement(nd.e,null))),r.createElement("div",{className:R.cx.flex.flexColumn.$,style:{padding:"8px"}},p.length>0?r.createElement(rm.q,{listItems:p,renderListItem:(n,l,i,s,c,p,d)=>r.createElement(uc,{key:n.node_id,textStyle:n,isSelected:(0,ts.hS)(t)&&e?.node_id===n.node_id,isDragging:i,isReorderingItems:s,closePicker:a,onMouseDown:c,onMouseMove:p,onMouseUp:d,recordingKey:o}),selectedIndices:g,updateSelection:S,onDragEnd:()=>S([]),onInsertItemsBetweenValues:b,isDragDisabled:h}):r.createElement(us,{isDeletedTheme:u}),!d&&r.createElement(up,{mainStyle:e,inheritStyleID:t,closePicker:a})),!e&&r.createElement("div",{className:R.cx.p8.bt1.bSolid.colorBorder.$},r.createElement(ud,{closePicker:a,recordingKey:eJ.Pt(o,"custom")}))))}function us({isDeletedTheme:e}){return r.createElement("span",{className:R.cx.px8.colorTextSecondary.$},e?(0,G.tx)("slides.properties_panel.text_style.deleted_theme"):(0,G.tx)("slides.properties_panel.text_style.empty_styles",{title:r.createElement("strong",null,(0,G.tx)("slides.properties_panel.text_style.title_style")),body:r.createElement("strong",null,(0,G.tx)("slides.properties_panel.text_style.body_style"))}))}function uc({textStyle:e,isSelected:t,isDragging:n,isReorderingItems:a,closePicker:o,onMouseDown:s,onMouseMove:c,onMouseUp:p,recordingKey:d}){let u=(0,l.wA)(),[m,E]=r.useState(!1),_=(0,tT.Fk)((e,t)=>e.get(t||"")?.fontSize,e.node_id),h=(0,tT.Fk)((e,t)=>e.get(t||"")?.hasMissingFont||!1,e.node_id),y=r.createRef(),g=(0,ut.bf)(e),S=!a&&(m||g);return r.createElement(nI.D8,{forwardedRef:y,className:F()(ui,{[R.cx.colorBgHover.$]:n||m&&!a}),onMouseDown:e=>{e.target===e.currentTarget&&s(e)},onMouseUp:e=>{e.target===e.currentTarget&&p(e)},onClick:()=>{h?i.glU.findMissingFontsAndShowPopover():u(t3.AV({style:e,inheritStyleKeyField:"inheritTextStyleKey"})),o()},onMouseMove:c,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),recordingKey:eJ.Pt(d,e.name)},r.createElement("span",{className:F()(R.cx.eventsNone.$,t?R.cx.visible.$:R.cx.invisible.$)},r.createElement(d7.l,null)),r.createElement("div",{className:R.cx.flexGrow1.ellipsis.eventsNone.inlineFlex.truncate.$},r.createElement("span",{className:F()(R.cx.colorText.$)},e.name),_&&r.createElement("span",{className:R.cx.colorTextSecondary.pl2.$},(0,G.tx)("slides.properties_panel.text.style_description_font_size",{fontSize:(0,eU.roundToTwoDecimalPlaces)(_)}))),h&&r.createElement("span",{className:R.cx.w24.$},r.createElement(d8.z,null)),r.createElement("span",{className:S?R.cx.visible.$:R.cx.invisible.$},r.createElement(t0.d,{"aria-label":(0,G.t)("slides.properties_panel.text_style.edit_text_style"),onClick:t=>{if(g)u(e0.sw());else if(y.current){i.glU.selectStyleByGuid(e.node_id);let t=y.current.getBoundingClientRect();u(e0.rk({style:e,rowTop:t.y,rowLeft:t.x-8}))}t?.stopPropagation()},recordingKey:eJ.Pt(d,e.name,"editButton"),toggled:g},r.createElement(rA.A,null))))}function up({mainStyle:e,inheritStyleID:t,closePicker:n}){let l=(0,ue.AH)((0,ts.E7)(e?.key),(0,ts.E7)(t)),o=(0,a.md)(oB.TN),s=r.useMemo(()=>{if(e?.node_id)for(let t of o){let n=a.zl.get((0,oB.i1)(t)).data;if(n&&n.styleGUIDs.includes(e.node_id))return i.Ez5.slideThemeLibBindings().getThemeName(t)}return null},[e?.node_id,o]),c="",p="";return(l&&"loaded"===l.status?(c=l.data.fileName,p=l.data.name):s&&(c=s,p=e?.name||""),c&&p)?r.createElement(r.Fragment,null,r.createElement("div",{className:ua},c),r.createElement(c8.E,{className:ui,onClick:n},r.createElement(d7.l,null),p)):null}function ud({closePicker:e,recordingKey:t}){let n=(0,l9.kl)("fontFamily")||ts.oV,l=(0,l9.kl)("fontSize")||ts.oV;return r.createElement("div",{className:R.cx.pb4.$},r.createElement("div",{className:ua},(0,G.tx)("slides.properties_panel.text_style.custom")),r.createElement(nI.D8,{className:ui,onClick:e,recordingKey:eJ.Pt(t,"custom")},r.createElement("div",{className:R.cx.pr8.$},r.createElement(d9.In,{icon:"checkmark-on-16"})),(0,ts.hS)(n)&&(0,ts.hS)(l)?r.createElement(r.Fragment,null,r.createElement("div",{className:R.cx.colorText.$},n),r.createElement("div",{className:R.cx.colorTextSecondary.$,style:{paddingLeft:"3px"}},(0,G.tx)("slides.properties_panel.text.style_description_font_size",{fontSize:(0,eU.roundToTwoDecimalPlaces)(l)}))):(0,G.tx)("slides.properties_panel.text_style.mixed")))}function uu({mainStyle:e,inheritTextStyleKey:t,styleIdForText:n,previouslyAppliedStyle:i,recordingKey:a}){let o=(0,l.wA)(),s=r.createRef(),[c,p]=r.useState(!1),d=(0,d4.i)(),u=r.useCallback(()=>{o(tm.Uv()),p(!1)},[o]),m=r.useCallback(()=>{c?u():p(!0)},[c,u]),E=r.useCallback(e=>{s.current&&e.target instanceof Node&&s.current.contains(e.target)||u()},[s,u]);return r.useEffect(()=>(window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)),[E]),r.createElement(r.Fragment,null,r.createElement(nt.Ad,{ref:s,input:r.createElement(um,{mainStyle:e,inheritStyleID:n,inheritStyleKey:t,previouslyAppliedStyle:i,textPreviewColor:d,isOpen:c,onClick:m,closePicker:u,recordingKey:a}),label:null,appendedClassName:"slides_text_style_row--textStyleRow--FE95p"}),r.createElement(d3,{closePicker:u,recordingKey:eJ.Pt(a,"createTextStyleModal")}),r.createElement(d6.h,{recordingKey:a}))}function um({mainStyle:e,inheritStyleID:t,inheritStyleKey:n,previouslyAppliedStyle:l,textPreviewColor:i,isOpen:a,onClick:o,closePicker:s,recordingKey:c}){let p;let d=uE(e),u=uE(l);return p=(0,ts.gl)(t)?(0,G.tx)("slides.properties_panel.text_style.mixed"):e&&!e.is_soft_deleted?d?r.createElement(u_,{mainStyle:e,textPreviewColor:i}):e.name:u?r.createElement(r.Fragment,null,r.createElement(uh,{previouslyAppliedStyle:l,textPreviewColor:i}),r.createElement("span",{className:R.cx.pl4.colorTextSecondary.$},(0,G.tx)("slides.properties_panel.text_style.edited"))):(0,G.tx)("design_systems.styles.custom"),r.createElement("div",null,r.createElement(c8.E,{htmlAttributes:{"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("slides.properties_panel.text_style.tooltip")},recordingKey:c,className:F()(R.cx.relative.wFull.h40.py4.pl8.pr4.$,R.cx.bRadius5.b1.bSolid.colorBorder.$,R.cx.flex.itemsCenter.$),onClick:o},r.createElement("div",{className:F()(R.cx.flexGrow1.$,R.cx.fontMedium.colorText.alignLeft.ellipsis.$,R.cx.flex.itemsCenter.overflowHidden.$)},p),r.createElement(dJ.r,null),!e&&u&&r.createElement(ug,{themeStyleToUpdate:l,recordingKey:c})),a&&r.createElement(uo,{mainStyle:e,inheritStyleID:t,inheritStyleKey:n,closePicker:s,recordingKey:"slidesTextStylePicker"}))}function uE(e){let t=(0,ty.$)(),n=(0,d1.Xo)(t);return!!e&&n.some(t=>t.node_id===e.node_id)}function u_({mainStyle:e,textPreviewColor:t}){let n=(0,ty.$)(),l=e.node_id,i=(0,tT.Fk)((e,t)=>e.get(t)?.name??"",l),[o,s]=(0,a.fp)(oB.q0),c=o[l],p=(0,dZ.k9)(()=>({color:t,minHeight:d5.KL.MIN_THEME_TEXT_STYLE_PREVIEW_HEIGHT,maxHeight:d5.KL.MAX_THEME_TEXT_STYLE_PREVIEW_HEIGHT}),[t]),d=r.useCallback(e=>{s(t=>{let n;let r=t[l];return r&&URL.revokeObjectURL(r.previewUrl),e&&(n={previewUrl:URL.createObjectURL(new Blob([e.preview])),previewHeight:e.previewHeight}),{...t,[l]:n}})},[l,s]);return(0,d5.Z3)({themeId:n,styleId:l,options:p,onPreviewGenerated:d}),r.createElement(uy,{thumbnailUrl:c?.previewUrl??"",styleName:i,previewHeight:c?.previewHeight??0})}function uh({previouslyAppliedStyle:e,textPreviewColor:t}){let n=(0,ty.$)(),l=e.node_id,i=e.name,{fontFamily:a,fontStyle:o,fontSize:s,lineHeight:c}=(0,t5.R)(e=>{let t=e.mirror.selectionProperties;return{fontFamily:(0,ts.hS)(t.fontFamily)&&t.fontFamily?t.fontFamily:"",fontStyle:(0,ts.hS)(t.fontStyle)&&t.fontStyle?t.fontStyle:"",fontSize:(0,ts.hS)(t.fontSize)&&t.fontSize?t.fontSize:0,lineHeight:t.lineHeightPx??0}}),p=(0,dZ.k9)(()=>({name:i,fontFamily:a,fontStyle:o,fontSize:s,lineHeight:c}),[i,a,o,s,c]),d=(0,dZ.k9)(()=>({color:t,minHeight:d5.KL.MIN_THEME_TEXT_STYLE_PREVIEW_HEIGHT,maxHeight:d5.KL.MAX_THEME_TEXT_STYLE_PREVIEW_HEIGHT}),[t]),[u,m]=r.useState(""),E=(0,rr.ZC)(u),[_,h]=r.useState(0),y=r.useCallback(e=>{let t=e?URL.createObjectURL(new Blob([e.preview])):"",n=e?.previewHeight??0;m(t),h(n)},[]);return r.useEffect(()=>{E&&URL.revokeObjectURL(E)},[E]),(0,d5.oS)({themeId:n,styleId:l,styleMetadata:p,options:d,onPreviewGenerated:y}),r.createElement(uy,{thumbnailUrl:u,styleName:i,previewHeight:_})}function uy({thumbnailUrl:e,styleName:t,previewHeight:n}){return e?r.createElement("img",{className:"slides_text_style_row--previewImg--vXJc9",style:{height:`${n}px`},src:e,alt:"Text style preview"}):r.createElement("div",{className:R.cx.fontMedium.colorText.$},t)}function ug({themeStyleToUpdate:e,recordingKey:t}){let n=(0,l.wA)(),{fontFamily:a,fontStyle:o,fontSize:s,lineHeight:c,letterSpacing:p}=(0,t5.R)(e=>{let t=e.mirror.selectionProperties;return{fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontSize:t.fontSize,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing}}),d=(0,dQ.B)(),u=async t=>{t.stopPropagation(),e.isLocal&&a&&o&&s&&c&&p&&(n(t3.AV({style:e,inheritStyleKeyField:"inheritTextStyleKey"})),i.glU.selectStyleByGuid(e.node_id),await (0,dq.yQ)(),eh.Y5.updateSelectionProperties({fontFamily:a},{shouldCommit:lK.zk.NO,editScopeType:i.zkO.USER}),await (0,dq.yQ)(),eh.Y5.updateSelectionProperties({fontStyle:o,fontSize:s,lineHeight:(0,d0.TK)(d,c),letterSpacing:p},{shouldCommit:lK.zk.NO,editScopeType:i.zkO.USER}),i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID),eh.Y5.triggerAction("commit"))};return r.createElement(J.$n,{variant:"primary",onClick:u,recordingKey:eJ.Pt(t,"saveButton")},(0,G.tx)("slides.properties_panel.text_style.save_button"))}function uS({recordingKey:e}){let{inheritTextStyleKey:t,styleIdForText:n}=(0,t5.R)(e=>({inheritTextStyleKey:e.mirror.selectionProperties.inheritTextStyleKey||null,styleIdForText:e.mirror.selectionProperties.styleIdForText||null})),i=(0,dB.WH)(t,n,"TEXT"),a=(0,l.d4)(e=>e.fonts),o=r.useMemo(()=>(0,dU.pn)(a),[a]),s=(0,rV.Um)(),[c,p]=r.useState(null===i);r.useEffect(()=>{s||p(!i?.node_id)},[i?.node_id]);let[d,u]=r.useState(null),m=r.useCallback(()=>{i&&u(i)},[i]),E=(0,l.d4)(e=>e.mirror.sceneGraphSelection);return r.useEffect(()=>{u(null)},[E]),r.createElement(eZ.k,{name:"slides_type_panel"},r.createElement(cS,{panelClassName:F()({"slides_type_panel--typePanelNoPaddingTop--c3Lop":!(0,K.kc)().piper_layout_panel})},(0,K.kc)().piper_layout_panel&&r.createElement(iP.r,{titleTx:(0,G.tx)("slides.properties_panel.text.title")}),r.createElement(uu,{mainStyle:i,inheritTextStyleKey:t,styleIdForText:n,previouslyAppliedStyle:d,recordingKey:eJ.Pt(e,"textStyle")}),c&&r.createElement(ub,{fonts:a,versionsForStyles:o,recordingKey:e,savePreviouslyAppliedStyleOnFontChange:m}),r.createElement(uv,{versionsForStyles:o,recordingKey:e}),r.createElement(uP,{recordingKey:e}),!c&&r.createElement(nt.Ad,{input:r.createElement(J.IK,{variant:"secondary",onClick:()=>p(!0),recordingKey:eJ.Pt(e,"showDetails")},(0,G.tx)("slides.properties_panel.text.show_details")),label:null})))}function ub({fonts:e,versionsForStyles:t,savePreviouslyAppliedStyleOnFontChange:n,recordingKey:i}){let a=(0,l.wA)(),o=(0,ts._W)((0,l9.kl)("missingFont"),!1),s=!!eh.Y5?.isFontListLoaded(),c=o||!s,p=(0,l9.kl)("fontFamily"),d=(0,l9.kl)("fontStyle"),u=(0,l9.kl)("fontSize"),m=(0,l9.kl)("lineHeight"),E=(0,l9.kl)("letterSpacing"),{bigNudgeAmount:_,smallNudgeAmount:h}=(0,y.sT)(),g=(0,l.d4)(e=>e.mirror.selectionProperties.fontVariations),S=p?(0,dX.LM)({fontFamily:p,fontStyle:d,fonts:e,versionsForStyles:t}):void 0,b=(0,dQ.B)(),{consumedVariable:f,clearVariableConsumption:v}=(0,lp.u3)(["FONT_FAMILY"]),T=f?(0,l2.MH)(f):null,P=(0,lF.u)(T??void 0),w=p?r.createElement(dG.ay,{id:"slides-type-panel-font-family",fontFamily:p,editingStyleGuid:void 0,onChange:(r,l,i)=>{n(),(0,dX.PK)({fontFamily:r,previewFontFamily:l,lineHeightInContext:b,fonts:e,fontVariations:g,versionsForStyles:t,shouldCommit:i})},boundVariable:P??void 0,onDetachVariableClick:v,fonts:e,versionsForStyles:t,showPlaceholder:!1,disabled:c,hideTypographyVariableOptions:!0,recordingKey:eJ.Pt(i,"fontFamily")}):null,I=p&&d?r.createElement(iO.E,{name:"slides_font_style"},r.createElement(dY.zz,{id:"slides-type-panel-font-style",fontFamily:p,fontStyle:d,editingStyleGuid:void 0,onChange:(e,t,r)=>{n(),(0,dY.zD)({fontStyle:e,shouldCommit:t,fontVariations:r,lineHeightInContext:b,showVariableFontSettings:af.lQ,showTypeVariablePicker:af.lQ})},fonts:e,versionsForStyles:t,fontVariations:g,fontVariationAxes:S?.variationAxes,dropdownAlignment:"right",showMissingIcon:!1,hideVariableFontOptions:!0,hideTypographyVariableOptions:!0,recordingKey:eJ.Pt(i,"fontStyle")})):null,N=u?r.createElement(iO.E,{name:"slides_font_size"},r.createElement(dH.Z,{id:"slides-type-panel-font-size",fontSize:u,onChange:n,disabled:c,editingStyleGuid:void 0,hideVariableOptions:!0,recordingKey:eJ.Pt(i,"fontSize")})):null,k=r.createRef(),C=m?r.createElement(d$.a,{lineHeight:m,lineHeightInContext:b,onChange:n,disabled:c,rowElementRef:k,editingStyleGuid:void 0,disableVariables:!0,recordingKey:eJ.Pt(i,"lineHeight")}):null,A=E?r.createElement(dW.I,{dispatch:a,letterSpacing:E,disabled:c,onChange:n,editingStyleGuid:void 0,rowElementRef:k,bigNudgeAmount:_,smallNudgeAmount:h,disableVariables:!0,recordingKey:eJ.Pt(i,"letterSpacing")}):null;return r.createElement(r.Fragment,null,w,r.createElement(c1.g,{leftLabel:(0,G.tx)("slides.properties_panel.text.weight_label"),leftInput:I,rightLabel:(0,G.tx)("slides.properties_panel.text.font_size_label"),rightInput:N}),r.createElement(c1.g,{ref:k,leftLabel:null,leftInput:C,rightLabel:null,rightInput:A}))}function uf(e){return e.toLowerCase().includes("italic")}function uv({versionsForStyles:e,recordingKey:t}){let{isBold:n,isItalic:l,isUnderline:i,isUnorderedList:a,fontFamily:o}=(0,t5.R)(e=>({isBold:(0,dj.N)(e.mirror.selectionProperties.fontStyle?.toString()||""),isItalic:uf(e.mirror.selectionProperties.fontStyle?.toString()||""),isUnderline:"UNDERLINE"===e.mirror.selectionProperties.textDecoration,isUnorderedList:"UNORDERED_LIST"===e.mirror.selectionProperties.textLineType,fontFamily:e.mirror.selectionProperties.fontFamily})),s=o&&(0,ts.hS)(o)&&e[o]?Object.keys(e[o]):[],c=s.every(e=>!(0,dj.N)(e)),p=s.every(e=>!uf(e));return r.createElement(nt.Ad,{label:null,appendedClassName:R.cx.pt2.$,input:r.createElement("div",{className:R.cx.flex.wFull.gap4.$},r.createElement(uT,{selected:n,disabled:c,onClick:()=>{eh.Y5.triggerActionInUserEditScope("toggle-bold")},icon:r.createElement(dF.j,{color:n?"var(--color-border-selected)":void 0}),tooltip:(0,G.t)("slides.properties_panel.text.bold"),trackingName:"slides_bold_button",recordingKey:eJ.Pt(t,"bold")}),r.createElement(uT,{selected:l,disabled:p,onClick:()=>{eh.Y5.triggerActionInUserEditScope("text-toggle-italic")},icon:r.createElement(dD.s,{color:l?"var(--color-border-selected)":void 0}),tooltip:(0,G.t)("slides.properties_panel.text.italic"),trackingName:"slides_italic_button",recordingKey:eJ.Pt(t,"italic")}),r.createElement(uT,{selected:i,disabled:!1,onClick:()=>{eh.Y5.triggerActionInUserEditScope("text-toggle-underline")},icon:r.createElement(dV.W,{color:i?"var(--color-border-selected)":void 0}),tooltip:(0,G.t)("slides.properties_panel.text.underline"),trackingName:"slides_underline_button",recordingKey:eJ.Pt(t,"underline")}),r.createElement(uT,{selected:a,disabled:!1,onClick:()=>{eh.Y5.triggerActionInUserEditScope("text-toggle-unordered-list")},icon:r.createElement(dK.Z,{color:a?"var(--color-border-selected)":void 0}),tooltip:(0,G.t)("slides.properties_panel.text.unordered_list"),trackingName:"slides_unordered_list_button",recordingKey:eJ.Pt(t,"unorderedList")}))})}function uT({selected:e,disabled:t,onClick:n,icon:l,tooltip:i,trackingName:a,recordingKey:o}){return r.createElement(iO.E,{name:a},r.createElement(c8.E,{className:F()("slides_type_panel--formatButton--71QdB",{"slides_type_panel--selected--dHazD":e,"slides_type_panel--disabled--Vd8xM":t}),onClick:n,"aria-label":i,recordingKey:o,htmlAttributes:{"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":i}},l))}function uP({recordingKey:e}){let t=(0,l9.kl)("textAlignVertical")||ts.oV;return r.createElement(c1.g,{leftLabel:null,leftInput:r.createElement(iO.E,{name:"slides_text_align_horizontal"},r.createElement(dz.jw,{recordingKey:eJ.Pt(e,"textAlignHorizontal")})),rightLabel:null,rightInput:r.createElement(iO.E,{name:"slides_text_align_vertical"},r.createElement(dz.Ln,{textAlignVertical:t,recordingKey:eJ.Pt(e,"textAlignVertical")}))})}var uw=n(617524),uI=n(147723),uN=n(252828);function uk({label:e,tab:t,active:n,className:a,recordingKey:o,keyboardShortcut:s}){let c=(0,l.d4)(e=>e.mirror.appModel.topLevelMode),p=(0,v.dH)(),d=(0,nO.R)(),u=(0,o5.cJ)(),m=eJ.rf(o,"mousedown",()=>{if(!n){let e=uC(t,d,u).analyticsName;(0,D.sx)("properties-panel-select-tab",{tab:e}),p===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&eh.Y5.triggerAction("set-tool-default"),(0,f.NT)(t),c===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?eh.Y5.triggerAction("set-tool-comments"):eh.Y5.triggerAction("set-tool-default"))}});return r.createElement("div",{className:a,onMouseDown:m,"data-label":e,...s?{"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":e,"data-tooltip-shortcut-key":s}:void 0},e)}function uC(e,t,n){return({[i.FAf.DESIGN]:{label:(0,G.t)("fullscreen.properties_panel.design"),tab:i.FAf.DESIGN,className:tb.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.PROTOTYPE]:{label:n?(0,G.t)("fullscreen.properties_panel.interactive"):(0,G.t)("fullscreen.properties_panel.prototype"),tab:i.FAf.PROTOTYPE,className:tb.Mf,recordingKey:n?"interactionsTab":"prototypeTab",analyticsName:n?"interactions":"prototype"},[i.FAf.INSPECT]:{label:(0,G.t)("fullscreen.properties_panel.properties"),tab:i.FAf.INSPECT,className:tb.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[i.FAf.COMMENT]:{label:t?(0,G.t)("fullscreen.properties_panel.comments"):(0,G.t)("fullscreen.properties_panel.comment"),tab:i.FAf.COMMENT,className:tb.Mf,recordingKey:"commentTab",analyticsName:"comment"},[i.FAf.EXPORT]:{label:(0,G.t)("fullscreen.properties_panel.export"),tab:i.FAf.EXPORT,className:tb.Mf,recordingKey:"exportTab",analyticsName:"export"},[i.FAf.SLIDE]:{label:(0,G.t)("fullscreen.properties_panel.design"),tab:i.FAf.SLIDE,className:tb.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.SLIDE_ANIMATION]:{label:(0,G.t)("slides.properties_panel.animate"),tab:i.FAf.SLIDE_ANIMATION,className:tb.Mf,recordingKey:"animateTab",analyticsName:"animate"},[i.FAf.SITE]:{label:(0,G.t)("fullscreen.properties_panel.design"),tab:i.FAf.SITE,className:tb.Mf,recordingKey:"sitesTab",analyticsName:"sites"},[i.FAf.DAKOTA]:{label:(0,G.t)("dakota.properties_panel.dakota_panel.tab_title"),tab:i.FAf.DAKOTA,className:tb.Mf,recordingKey:"dakotaTab",analyticsName:"dakota"},[i.FAf.COOPER]:{label:(0,G.t)("fullscreen.properties_panel.cooper_edit"),tab:i.FAf.COOPER,className:tb.Mf,recordingKey:"cooperTab",analyticsName:"cooper"},[i.FAf.COOPER_PUBLISH]:{label:(0,G.t)("fullscreen.properties_panel.cooper_publish"),tab:i.FAf.COOPER_PUBLISH,className:tb.Mf,recordingKey:"cooperPublishTab",analyticsName:"cooperPublish"},[i.FAf.LIVING_DESIGNS]:{label:(0,G.t)("fullscreen.properties_panel.living_designs"),tab:i.FAf.LIVING_DESIGNS,className:tb.Mf,recordingKey:"livingDesignsTab",analyticsName:"livingDesigns"},[i.FAf.COOPER_EXPORT]:{label:(0,G.t)("fullscreen.properties_panel.cooper_export"),tab:i.FAf.COOPER_EXPORT,className:tb.Mf,recordingKey:"cooperExportTab",analyticsName:"cooperExport"},[i.FAf.COOPER_TABULAR]:{label:(0,G.t)("fullscreen.properties_panel.cooper_tabular"),tab:i.FAf.COOPER_TABULAR,className:tb.Mf,recordingKey:"cooperTabularTab",analyticsName:"cooperTabular"}})[e]}function uA({activeTab:e,isUI3:t,shouldShowAlignControls:n,shouldRenderInspectTab:a,recordingKey:o}){let s=(0,l.d4)(e=>e.mirror.appModel.topLevelMode),d=(0,v.dH)(),u=(0,v.p8)("isReadOnly"),m=(0,sm.ks)(),E=u&&!m,_=(0,th.sO)(),h=(0,o5.cJ)(),y=(0,c.g)(),g=(0,p.U9)(),S=(0,v.KH)(),b=(0,r.useMemo)(()=>Object.keys(S),[S]),T=(0,v.eY)(),[P,w]=r.useState(!1),[I,N]=r.useState(!1);r.useEffect(()=>{},[y,b,T,w,e]),r.useEffect(()=>{if(g){if(1===b.length){let e=T.get(b[0]);if(e&&"TEXT"===e.type){N(!0);return}}e===i.FAf.DAKOTA&&(0,f.NT)(i.FAf.SITE),N(!1)}},[g,b,T,w,e]);let k=(()=>{let n=t?_?[i.FAf.COMMENT]:[i.FAf.COMMENT,i.FAf.INSPECT]:[i.FAf.COMMENT,i.FAf.INSPECT,i.FAf.EXPORT];switch(s){case i.lyf.LAYOUT:if(E)return n;if(e===i.FAf.COMMENT)return[i.FAf.COMMENT];if(h)return I?[i.FAf.SITE,i.FAf.PROTOTYPE,i.FAf.DAKOTA]:[i.FAf.SITE,i.FAf.PROTOTYPE];if(_)return[i.FAf.SLIDE,i.FAf.SLIDE_ANIMATION];if(y)return[i.FAf.COOPER,i.FAf.COOPER_EXPORT];return a?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]:P?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.COOPER_PUBLISH]:(0,K.kc)().livefish?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.LIVING_DESIGNS]:[i.FAf.DESIGN,i.FAf.PROTOTYPE];case i.lyf.PREVIEW:case i.lyf.DEV_HANDOFF:return n;case i.lyf.BRANCHING:return[i.FAf.INSPECT];default:return[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]}})(),C=k.find(t=>t===e),A=k.map((n,r)=>{let l=uC(n,t,h),i=l.tab===e||0===r&&void 0===C,a=l.className;return i&&(a=k.length>1?tb.yR:tb.iV),{...l,className:a,active:i,topLevelMode:s,currentTool:d}});return k.length&&(1!==k.length||t)?r.createElement(ct.j9.Consumer,null,()=>{if(t)return r.createElement(uM,{recordingKey:o,tabInfo:A});let l=e===i.FAf.DESIGN&&n||e===i.FAf.COMMENT?tb.yW:tb.hv;return r.createElement("div",{className:l,"data-non-interactive":!0},A.map((e,t)=>r.createElement(uk,{key:t,...e})))}):null}function uM({tabInfo:e,recordingKey:t}){let n=(0,T.iZ)(),a=(0,m.my)()===k.nT.Design,o=(0,d.Kf)({isDesign:a,isUnauth:!n}),s=(0,uw.EO)(),c=e.reduce((e,t)=>(e[t.tab]=!0,e),{}),p=e.find(e=>e.active),[u,E]=sk.tU.useManagedTabs(c,p?.tab.toString()??"",e=>{let t=parseInt(e),n=uC(t,_,h).analyticsName;if((0,D.sx)("properties-panel-select-tab",{tab:n}),y===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&eh.Y5.triggerAction("set-tool-default"),t===i.FAf.INSPECT&&o()){s(i.rcl.ENTER_INSPECT_MODE);return}(0,f.NT)(t),g===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?eh.Y5.triggerAction("set-tool-comments"):eh.Y5.triggerAction("set-tool-default"))},{recordingKey:eJ.Pt(t,"tabs")}),_=(0,nO.R)(),h=(0,o5.cJ)(),y=(0,v.dH)(),g=(0,l.d4)(e=>e.mirror.appModel.topLevelMode);return r.createElement("div",{className:tb.A7},r.createElement("div",{role:"presentation",className:tb.tq,onKeyDown:e=>{e.isDefaultPrevented()||(0,iQ.f7)(e,!0)}},r.createElement(sk.tU.TabStrip,{manager:E},e.map((e,t)=>r.createElement(sk.tU.Tab,{key:`props-panel-tab-${t}`,...u[e.tab]},e.label)))),r.createElement("div",{className:tb.wR},r.createElement(uN.HT,{recordingKey:eJ.Pt(t,"zoomMenu")})),r.createElement("div",{"data-onboarding-key":uI.D9,className:tb.qq}))}var uO=n(101505),ux=n(94500),uR=n(742311),uL=n(205135);class uF extends eJ.o6{render(){return r.createElement(tO.Zk,null,r.createElement(tO.fI,null,r.createElement(tO.xw,null,(0,G.tx)("proto.menu.background"))),r.createElement(uD,{...this.props}))}}function uD(e){let t=r.useRef(null),n=r.useRef(null),l=(0,h.GS)(),{dispatch:i,pickerShown:a,prototypeBackgroundColor:o}=e,s=r.useCallback(()=>{let e=l?tq.findDOMNode(n.current):tq.findDOMNode(t.current);if(a&&a.id===eG.$T)i(tm.XE());else if(e&&e instanceof HTMLElement){let t=(0,t7.cn)(e);i(tm.u1({id:eG.$T,initialX:t.x,initialY:t.y}))}},[i,a,l]),c=r.useCallback((e,t)=>{i((0,ux._P)({name:"Prototype Background Modified"})),eh.Y5.updateSelectionProperties({prototypeBackgroundColor:e},{shouldCommit:t})},[i]),p=(0,ts._W)(o,{r:0,g:0,b:0,a:1}),d=r.createElement("div",{className:"prototype_background_panel--colorValueContainer--CEbzl paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},r.createElement(c7.J,{onClick:s,color:p,opacity:p.a,recordingKey:eJ.Pt(e,"chit"),className:"prototype_background_panel--chit--F--d0 paint_panels--chit--twQEy"}),r.createElement(uL.AN,{className:"prototype_background_panel--color--e5Pc8 paint_panels--colorInput--nSz13",noLeftBorder:!0,formatter:c6.TI,property:p,onChange:c,recordingKey:eJ.Pt(e,"colorInput"),noBorderOnFocus:!0}));return r.createElement(r.Fragment,null,l?r.createElement(sX.TN,{ref:n},d):r.createElement(tO.fI,{ref:t,className:"prototype_background_panel--colorRow--MtNeY"},d),a&&a.id===eG.$T&&r.createElement(lr.h3,{disabledVariableIds:new Set,initialPosition:new eT.Mi(a.initialX??0,a.initialY??0),color:p,boundVariable:null,onChange:c,recordingKey:eJ.Pt(e,"colorPicker")}))}uF.displayName="PrototypeBackgroundPanel";var uV=n(992271),uK=n(371435),uU=n(834447);let uB="prototype_device_panel--deviceSelect--wnOgI",uG="prototype_device_panel--deviceOption--rvW-q",uH="prototype_device_panel--inactiveLabel--UEKyk prototype_device_panel--activeLabel--l162n",uY="prototype_device_panel--labelInactive--pv4Sf",uW="prototype_device_panel--deviceDropdownChevron--kq9TV",u$="prototype_device_panel--deviceDropdownInput--AxG9E";var uz=n(537545),uQ=n(64111);class uX extends iF.I{}class uj extends iF.Y{}class uJ extends r.PureComponent{constructor(){super(...arguments),this.deviceInfo=()=>uV.hY[this.props.prototypeDevice.presetIdentifier],this.shouldShowModelDropdown=()=>{let e=this.deviceInfo();return uV.yr[e?.deviceName||""].length>1},this.onModelChange=e=>{if(!this.deviceInfo())return;let t=uV.hY[e];if(!t)return;let n=this.props.prototypeDevice.rotation;eh.Y5.updateSelectionProperties({prototypeDevice:{type:"PRESET",size:t.framePresetSize,presetIdentifier:e,rotation:n}})},this.renderModelDropdown=(e,t,n)=>{if(!e)return;let l=r.createElement(u2,{dispatch:this.props.dispatch,presetIdentifier:this.deviceInfo().presetIdentifier,dropdownShown:this.props.dropdownShown,onChange:this.onModelChange,recordingKey:eJ.Pt(this.props,"modelDropdown")}),i=t?r.createElement(sX.dx,{left:l,right:n}):r.createElement(sX.TN,null,l);return r.createElement("div",null,!this.props.isUI3&&r.createElement(tO.hl,null,r.createElement(tO.UZ,{className:uY},(0,G.tx)("presets.device_panel.model"))),this.props.isUI3?i:r.createElement(tO.fI,null,l))},this.cssForCurrentDeviceRotation=()=>{if("NONE"===this.props.prototypeDevice.type)return;let e="";switch("MICROSOFT_SURFACE_PRO_4"===this.props.prototypeDevice.presetIdentifier&&(e="scale(0.65)"),this.props.prototypeDevice.rotation){case"NONE":default:return;case"CCW_90":return`rotate(-90deg) ${e}`}},this.renderDevicePreview=()=>{let e=this.deviceInfo();if(!e)return;let t=(0,ts._W)(this.props.prototypeBackgroundColor,{r:0,g:0,b:0,a:0}),n=c6.z5.format(t),l=t.r>.9&&t.g>.9&&t.b>.9,i=`1px solid ${l?"#EFEFEF":"transparent"}`,a=r.createElement("div",{className:"prototype_device_panel--devicePreview--T2Tzn",style:{backgroundColor:n,border:i}},r.createElement("img",{className:"prototype_device_panel--deviceImage--Wpr8Y",src:e.thumbnailUrl,style:{transform:this.cssForCurrentDeviceRotation()},alt:`${e.getI18nDeviceName()}`}));return r.createElement("div",null,!this.props.isUI3&&r.createElement(tO.hl,null,r.createElement(tO.UZ,{className:uY},(0,G.tx)("presets.device_panel.preview"))),this.props.isUI3?r.createElement(sX.TN,{appendedClassName:uU.Rk},a):r.createElement("div",{className:"prototype_device_panel--devicePreviewContainer--pC-H4"},a))},this.onChangeOrientation=e=>{let t=this.props.prototypeDevice;if("NONE"===t.type)return;let n=t.size.y>t.size.x,r=t.rotation;r=n?"PORTRAIT"===e?"NONE":"CCW_90":"PORTRAIT"===e?"CCW_90":"NONE",eh.Y5.updateSelectionProperties({prototypeDevice:{...t,rotation:r}})},this.currentDeviceOrientation=()=>{let e=this.props.prototypeDevice;return"NONE"===e.type?"PORTRAIT":e.size.y>e.size.x?"NONE"===e.rotation?"PORTRAIT":"LANDSCAPE":"NONE"===e.rotation?"LANDSCAPE":"PORTRAIT"}}render(){let e=this.props.prototypeDevice,t=r.createElement(u1,{dispatch:this.props.dispatch,prototypeDevice:this.props.prototypeDevice,isUI3:this.props.isUI3,dropdownShown:this.props.dropdownShown,recordingKey:eJ.Pt(this.props,"deviceDropdown")}),n=r.createElement(uX,{property:this.currentDeviceOrientation(),onChange:this.onChangeOrientation,recordingKey:eJ.Pt(this.props,"orientationControl"),className:"prototype_device_panel--orientationControl--YdZ-v"},r.createElement(uj,{value:"PORTRAIT",svg:uQ.A}),r.createElement(uj,{value:"LANDSCAPE",svg:uz.A})),l=(0,uV.$X)(e.type||"NONE",e.presetIdentifier),i=r.createElement(tO.fI,null,t,l&&n),a=this.deviceInfo()&&this.shouldShowModelDropdown(),o=l&&!a?r.createElement(sX.dx,{left:t,right:n}):r.createElement(sX.TN,null,t),s=r.createElement(uZ,{prototypeDevice:this.props.prototypeDevice,dispatch:this.props.dispatch,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:eJ.Pt(this.props,"deviceSizeInputs")});return r.createElement(tO.Zk,null,r.createElement(tO.fI,{className:"prototype_device_panel--panelTitleRowOuter--wkKKy collapsible_property_panel--panelTitleRowOuter--i5K0R"},r.createElement(tO.xw,{extended:this.props.isUI3},this.props.isUI3?(0,G.tx)("presets.device_panel.prototype_settings"):(0,G.tx)("presets.device_panel.device"))),this.props.isUI3?o:i,this.renderModelDropdown(!!a,l,n),this.props.isUI3&&"CUSTOM"===this.props.prototypeDevice.type&&s,this.props.isUI3&&r.createElement(uD,{pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,prototypeBackgroundColor:this.props.prototypeBackgroundColor,recordingKey:eJ.Pt(this.props,"backgroundPanel")}),this.renderDevicePreview(),!this.props.isUI3&&"CUSTOM"===this.props.prototypeDevice.type&&s)}}function uZ(e){let t=r.useCallback(t=>{eh.Y5.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:{x:t,y:e.prototypeDevice.size.y},rotation:e.prototypeDevice.rotation}})},[e.prototypeDevice.size.y,e.prototypeDevice.rotation]),n=r.useCallback(t=>{eh.Y5.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:{x:e.prototypeDevice.size.x,y:t},rotation:e.prototypeDevice.rotation}})},[e.prototypeDevice.size.x,e.prototypeDevice.rotation]),l=r.createElement(lY.$j,{className:"prototype_device_panel--scrubbableInputLeftCol--P2T66 prototype_device_panel--scrubbableInput--0TFVb",inputClassName:"prototype_device_panel--leftColInput--pAJSy prototype_device_panel--input--vNirJ",dispatch:e.dispatch,value:e.prototypeDevice.size.x,onValueChange:t,smallNudgeAmount:e.smallNudgeAmount,bigNudgeAmount:e.bigNudgeAmount,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("presets.device_panel.device_width_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:eJ.Pt(e,"deviceWidth")},r.createElement("span",{className:uH},(0,G.tx)("proto.device_panel.width"))),i=r.createElement(lY.$j,{className:"prototype_device_panel--scrubbableInput--0TFVb",inputClassName:"prototype_device_panel--input--vNirJ",dispatch:e.dispatch,value:e.prototypeDevice.size.y,onValueChange:n,smallNudgeAmount:e.smallNudgeAmount,bigNudgeAmount:e.bigNudgeAmount,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("presets.device_panel.device_height_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:eJ.Pt(e,"deviceHeight")},r.createElement("span",{className:uH},(0,G.tx)("proto.device_panel.height")));return(0,h.GS)()?r.createElement(sX.dx,{left:l,right:i}):r.createElement(tO.fI,null,l,i)}uJ.displayName="PrototypeDevicePanel";class uq extends lX.l6{}class u0 extends lX.c${}class u1 extends eJ.o6{constructor(){super(...arguments),this.formatter={format:e=>"NONE"===e?this.props.isUI3?(0,G.t)("proto.frame_preset_panel.no_device"):(0,G.t)("proto.frame_preset_panel.none"):"CUSTOM"===e?(0,G.t)("proto.frame_preset_panel.custom_size"):"PRESENTATION"===e?(0,G.t)("proto.frame_preset_panel.presentation"):e.getI18nDeviceName(),isEqual:(e,t)=>"NONE"===e||"CUSTOM"===e||"PRESENTATION"===e||"NONE"===t||"CUSTOM"===t||"PRESENTATION"===t?e===t:e.presetIdentifier===t.presetIdentifier},this.onChange=e=>{(0,ux.$J)(e,this.props.prototypeDevice);let t=this.props.prototypeDevice.type,n=t;n="NONE"===e?"NONE":"PRESENTATION"===e?"PRESENTATION":"CUSTOM"===e?"CUSTOM":"PRESET",this.props.dispatch((0,ux._P)({name:"Prototype Device Type Changed",params:{oldType:this.props.prototypeDevice.presetIdentifier||t,newType:e.presetIdentifier||n,isInlinePreviewOpened:a.zl.get(uK.h).modalStatus===uK.b.OPEN}}))},this.renderPresetOption=(e,t)=>{let n=(0,uV.Fh)(e,this.props.prototypeDevice);if(null===n)return null;let l=n.framePresetSize;return r.createElement(u0,{value:n,key:t,recordingKey:eJ.Pt(this.props,n.deviceName)},r.createElement("div",{className:uG},r.createElement("span",null,n.getI18nDeviceName()),r.createElement("span",null,l.x,"\u200A\xd7\u200A",l.y)," "))}}render(){let e;return e="NONE"===this.props.prototypeDevice.type?"NONE":"PRESENTATION"===this.props.prototypeDevice.type?"PRESENTATION":"CUSTOM"===this.props.prototypeDevice.type?"CUSTOM":uV.hY[this.props.prototypeDevice.presetIdentifier]||"NONE",r.createElement(uq,{className:uB,chevronClassName:uW,inputClassName:u$,id:"prototype-device-select",property:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"prototype_device_panel--deviceDropdown--ufbuZ",recordingKey:eJ.Pt(this.props,"select"),dropdownAlignment:"right"},r.createElement(u0,{value:"NONE",recordingKey:eJ.Pt(this.props,"NONE")}),r.createElement(lX.sK,null),uV.r6.map(this.renderPresetOption),r.createElement(lX.sK,null),uV.J_.map(this.renderPresetOption),r.createElement(lX.sK,null),uV.AG.map(this.renderPresetOption),r.createElement(lX.sK,null),uV.$w.map(this.renderPresetOption),r.createElement(lX.sK,null),r.createElement(u0,{value:"CUSTOM",recordingKey:eJ.Pt(this.props,"CUSTOM")},r.createElement("div",{className:uG},r.createElement("span",null,(0,G.tx)("proto.frame_preset_panel.custom_size")),r.createElement("span",null,(0,G.tx)("proto.frame_preset_panel.fit")))),r.createElement(u0,{value:"PRESENTATION",recordingKey:eJ.Pt(this.props,"PRESENTATION")},r.createElement("div",{className:uG},r.createElement("span",null,(0,G.tx)("proto.frame_preset_panel.presentation")),r.createElement("span",null,(0,G.tx)("proto.frame_preset_panel.fill")))),r.createElement(lX.sK,null),uV.dr.map(this.renderPresetOption))}}u1.displayName="DeviceDropdown";class u5 extends lX.l6{}class u4 extends lX.c${}class u2 extends eJ.o6{constructor(){super(...arguments),this.formatter={format:e=>{let t=uV.hY[e];return t?t.getI18nStyleName():(0,G.t)("proto.frame_preset_panel.missing")},isEqual:(e,t)=>e===t},this.renderStyleOption=(e,t)=>{let n=e.presetIdentifier;return r.createElement(u4,{value:n,key:t,recordingKey:eJ.Pt(this.props,n)},uV.hY[n].getI18nStyleName())}}render(){let e=uV.hY[this.props.presetIdentifier];if(!e)return null;let t=uV.yr[e.deviceName],n=this.props.presetIdentifier;return r.createElement(u5,{className:uB,chevronClassName:uW,inputClassName:u$,id:"prototype-style-select",property:n,formatter:this.formatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"prototype_device_panel--modelDropdown--WbHYJ",recordingKey:eJ.Pt(this.props,"select")},t.map(this.renderStyleOption))}}u2.displayName="ModelDropdown";var u3=n(612028),u6=n(529004),u7=n(634238),u8=n(113468),u9=n(248752);function me(e){return e??"Default"}let mt=r.createContext({getNodeName:me}),mn=r.memo(function({getNodeName:e=me,children:t}){let n=r.useMemo(()=>({getNodeName:e}),[e]);return r.createElement(mt.Provider,{value:n},t)});var mr=n(73349),ml=n(38340),mi=n(908946),ma=n(987850),mo=n(239737),ms=n(222478),mc=n(709731),mp=n(30075),md=n(384775),mu=n(406385),mm=n(623590);function mE(){let e=(0,l.wA)(),t=(0,l.d4)(e=>(0,e4.Yh)(e.mirror.appModel,ms.JT.MAGIC_LINK)),n=(0,mo.PE)(),{withinMeter:i}=(0,ma.X)(ms.JT.MAGIC_LINK);return n&&i?r.createElement("span",{className:"magic_link--magicLinkButton--CWefW","data-testid":"magic-link-entry"},r.createElement(z.K,{recordingKey:eJ.Pt("prototypeInteractionList","magicLinkButton"),"aria-label":(0,G.t)("fullscreen.toolbar.prototyping-add-interactions-tooltip"),onClick:()=>{(0,md.$I)({moduleToOpen:{type:"custom",module:r.createElement(mu.p,null),name:mp.Sn.MAGIC_LINK,beforeModuleOpen:()=>{e((0,ux.Zh)({name:"prototype.ai_magic_link_entry_clicked",params:{source:"properties_panel"}})),(0,mc.B3)(ms.JT.MAGIC_LINK),t&&(0,mc.Ag)(ms.JT.MAGIC_LINK,mm.e,{})}},trackingData:{source:"prototype_magic_link_triggered"}})},htmlAttributes:{"data-tooltip":(0,G.t)("fullscreen.toolbar.prototyping-add-interactions-tooltip"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip-show-above":!0}},r.createElement(mi.B,null))):null}let m_=(0,i$.ex)("prototype_info",function(e){let{tooltipText:t}=e;return r.createElement("div",{className:R.cx.flex.justifyCenter.itemsCenter.$},r.createElement("span",{className:R.cx.m6.flexGrow1.$,style:{maxWidth:144}},t))},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var mh=n(139055),my=n(930269);let mg="prototype_interaction_list--warningIcon--Mgr5O";var mS=n(612325);let mb=new lz.JV,mf=new lz.Eq,mv=new lz.sX,mT=r.memo(function({inSites:e}){let t=(0,l.wA)(),n=(0,l.d4)(ml.Cy),a=(0,l.d4)(ml.n9),o=(0,l.d4)(ml.DV),s=(0,l.d4)(mN),c=(0,l.d4)(lV.dK),p=(0,l.d4)(lV.Xt),d=(0,ml.a2)(),u=(0,ml.R)(),m=(0,l.d4)(mC),E=(0,l.d4)(mI),_=Object.keys(p).length>1,h=mA(),y=function(){let e=mA(),t=(0,l.d4)(mk);return!!e&&!!t&&t.selectionOverrides[i.YnC.PROTOTYPE_INTERACTIONS]}(),g=(0,H.q5)(),S=(0,iM.U)(),b=r.useMemo(()=>new lz.cP(c),[c]),f=r.useCallback(e=>b.format(e),[b]),v=r.useRef(null),T=e=>{eh.Y5.updateSelectionProperties({prototypeInteractions:e},{shouldCommit:lK.zk.NO_BUT_TRACK_AS_EDIT}),eh.Y5.commit()},P=(0,uR.Zj)(Object.keys(p)),w=r.createElement(mP,{interactionGroups:d,inheritedInternalInteractionGroups:u,mixed:_,isOrInInstance:h,openFile:g,dispatch:t,currentSelectedProperty:s,onChange:(e,t)=>{let r=e.map(e=>e.interactions).reduce((e,t)=>e.concat(t),[]),l=new Set,o=[];for(let e of r){let t=eQ.dI(e.id);if(t&&!l.has(t))o.push(e);else{if(!(t=i.glU.generateUniqueID()))continue;let n=eQ.sH(t);if(!n)continue;o.push({...e,id:n})}t&&l.add(t)}t===u8.J.NORMAL?o=[...o,...a]:t===u8.J.INHERITED_INTERNAL&&(o=[...n,...o]),T(o)},onAddProperty:t=>{t.stopPropagation();let r=[],l=[];for(let t of Object.keys(p)){let n=i.glU.generateUniqueID();if(!n)return;let a=eQ.sH(n);if(!a)return;let o={id:a,sourceNodeID:eQ.sH(t)??eQ.Hr,event:{interactionType:function(e,t=!1){let n=new Set;for(let{event:t}of e)n.add(t.interactionType);for(let e of mM)if((!(0,K.kc)().sts_interaction_interop||!t||"DRAG"!==e)&&!n.has(e))return e;return"ON_KEY_DOWN"}(d,e)}};o.stateManagementVersion=1,o.actions=[{connectionType:"NONE"}],r.push(o);let s=(0,u3.kh)(c,t);l.push(s?s.guid:"")}let o=r.map(e=>u6.d({nodeID:e.sourceNodeID,interactionID:e.id}));if(o.length>0){i.glU.setSelectedInteractions(o);let e=tq.findDOMNode(v.current),t=(0,t7.cn)(e);mF(new eT.Mi(t.x,t.y+(0,eX.jz)(my.rightNavGridRowHeight)))}let s=[...n,...r,...a];S("prototype_interaction_added",{interactionCount:s.length,sourceTlfIds:JSON.stringify(l)}),T(s)},onDeleteProperty:(e,t)=>{let n=(t===u8.J.NORMAL?d:u).filter((t,n)=>e.has(n)),r=[];for(let e of n)r.push(...e.interactions);let l=mL(r);nu.l7.user("delete-prototype-interactions",()=>i.glU.deleteInteractions(l)),eh.Y5.deselectProperty()},shouldIgnoreKeyboardEvents:o.length>0||s.type!==i.rrT.PROTOTYPE_INTERACTION&&s.type!==i.rrT.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,isValidPrototypingSourceSelected:m,showResetInteractionsButton:y,toggleScrollBehaviorPicker:()=>{if(E?.id===eG.AO)t(tm.XE());else{let e=tq.findDOMNode(v.current),n=(0,t7.cn)(e);t(tm.u1({id:eG.AO,initialX:n.x,initialY:n.y}))}},headerAccessory:P&&r.createElement(mE,null),inSites:e});return r.createElement(mn,{getNodeName:f},e?w:r.createElement(tO.Zk,{"data-onboarding-key":"prototypePanel",ref:v,"data-testid":"prototype-interaction-list"},w))});function mP(e){let t=r.useRef(!1);return r.createElement(r.Fragment,null,r.createElement(u9.h6,{title:e.inSites?"":(0,G.t)("proto.title_interactions"),stylePickerShown:{isShown:!1},addProperty:e.onAddProperty,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker,hideAddButton:!e.isValidPrototypingSourceSelected,renderProperty:(n,l,i,a,o,s,c,p,d)=>e.inSites&&(0,mh.p4)(n.interactions)?r.createElement(r.Fragment,{key:l}):r.createElement(mw,{interactionGroups:e.interactionGroups,interactionGroup:n,index:l,selected:i,hasFocus:o,isDragging:a,singletonRow:e.interactionGroups.length<=1,onMouseDown:c,onMouseMove:p,onMouseUp:d,dispatch:e.dispatch,category:u8.J.NORMAL,autoOpenVariablePicker:t,recordingKey:eJ.Pt("prototypeInteractionList",l),key:l,inSites:e.inSites}),openFile:e.openFile,onChange:t=>e.onChange(t,u8.J.NORMAL),currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:i.rrT.PROTOTYPE_INTERACTION,propertyList:e.interactionGroups,pickerShown:null,dispatch:e.dispatch,onDeleteProperty:t=>e.onDeleteProperty(t,u8.J.NORMAL),shouldIgnoreKeyboardEvents:e.shouldIgnoreKeyboardEvents,recordingKey:"prototypeInteractionList",boldHeaderRow:e.interactionGroups.length>=1||e.inheritedInternalInteractionGroups.length>=1,showResetInteractionsButton:e.showResetInteractionsButton,onResetInteractions:nu.nc.user("reset-instance-interactions",()=>i.glU.resetSymbolOverrides(i.YnC.PROTOTYPE_INTERACTIONS)),headerAccessory:e.headerAccessory}),e.isOrInInstance&&e.inheritedInternalInteractionGroups.length>0&&r.createElement(tO.fI,null,r.createElement(tO.UZ,{className:"prototype_interaction_list--label--dGwgy"},(0,G.tx)("proto.interaction_list.variant_interactions"))),e.isOrInInstance&&r.createElement(u9.h6,{title:"",stylePickerShown:{isShown:!1},addProperty:af.lQ,hideAddButton:!0,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker,renderProperty:(n,l,i,a,o,s,c,p,d)=>r.createElement(mw,{interactionGroups:e.inheritedInternalInteractionGroups,interactionGroup:n,key:l,index:l,selected:i,hasFocus:o,isDragging:a,singletonRow:e.inheritedInternalInteractionGroups.length<=1,onMouseDown:c,onMouseMove:p,onMouseUp:d,dispatch:e.dispatch,category:u8.J.INHERITED_INTERNAL,autoOpenVariablePicker:t,recordingKey:eJ.Pt("prototypeInheritedInternalInteractionList",l)}),openFile:e.openFile,onChange:t=>e.onChange(t,u8.J.INHERITED_INTERNAL),currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:i.rrT.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,propertyList:e.inheritedInternalInteractionGroups,pickerShown:null,dispatch:e.dispatch,onDeleteProperty:t=>e.onDeleteProperty(t,u8.J.INHERITED_INTERNAL),shouldIgnoreKeyboardEvents:e.shouldIgnoreKeyboardEvents,recordingKey:eJ.Pt("prototypeInheritedInternalInteractionList")}))}function mw({interactionGroups:e,interactionGroup:t,index:n,hasFocus:o,isDragging:s,selected:c,singletonRow:p,onMouseDown:d,onMouseMove:u,onMouseUp:m,dispatch:E,category:_,recordingKey:y,inSites:g}){let S=(0,h.GS)(),{getNodeName:b}=r.useContext(mt),f=(0,l.d4)(ml.DV),v=(0,ml.a2)(),T=(0,l.d4)(mI),P=T?.id===eG.o$?T:null,w=(0,l.d4)(lV.dK),[I,N]=r.useState(!1),k=(0,a.md)(u7.NE)?mf:mb,C=function(e,t){let n=new Set(t.map(e=>{let t=u6.s(e);return t?eQ.dI(t.interactionID):""}).filter(e=>""!==e));for(let t of e.interactions){let e=eQ.dI(t.id);if(e&&n.has(e))return!0}return!1}(t,f),A=r.useRef(null),M=r.useRef(null),O=r.useCallback(()=>{let e=S&&g?M.current:tq.findDOMNode(A.current);mF((0,t7.cn)(e))},[g,S]),x=r.useCallback(()=>{i.glU.setSelectedInteractions([]),E(tm.XE()),eh.Y5.deselectProperty()},[E]),R=n=>{if(!A||!M)return;let r=mR(t);if(n.metaKey||n.ctrlKey)C?r=f.filter(e=>!r.includes(e)):r.push(...f);else if(n.shiftKey){var l;let n,i;let a=(l=t.key,e.findIndex(({key:e})=>e===l));if(-1===a)return;let o=function(e,t){let n=1/0,r=e;for(let l of t){let t=Math.abs(e-l);t<n&&(r=l,n=t)}return r}(a,function(e,t){let n=new Set,r=new Set(t);for(let t=0;t<e.length;t++)mR(e[t]).some(e=>r.has(e))&&n.add(t);return n}(e,f)),s=(n=a,i=o,a>o&&(n=o,i=a),e.slice(n,i+1));for(let e of(r=[...f],s))r.push(...mR(e))}i.glU.setSelectedInteractions(r),eh.Y5.updateAppModel({currentSelectedProperty:{type:_===u8.J.NORMAL?i.rrT.PROTOTYPE_INTERACTION:i.rrT.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,indices:[]}}),r.length?P&&P.shouldPin?g&&(r.length>1||r.includes(f[0]))&&x():O():x()},L=(0,l.d4)(nq.ZM),D=!1,V=null,U=null;for(let e of t.interactions)if(!V&&e.actions&&e.actions.length>0)V=e.actions[0],U=e;else if(mx(V,b,S,L)!=mx((e.actions??[])[0],b,S,L)){D=!0;break}let B=()=>{let e=mL(t.interactions);i.glU.hoverInteractions(e),N(!0)},H=()=>{i.glU.hoverInteractions([]),N(!1)},Y=e=>{e.stopPropagation()},W=e=>{e.stopPropagation();let n=mL(t.interactions);nu.l7.user("delete-prototype-interactions",()=>i.glU.deleteInteractions(n)),eh.Y5.deselectProperty(),eh.Y5.commit()},$=!1,Q=!1;if(_===u8.J.NORMAL){for(let e of t.interactions){if(!e.actions||0===e.actions.length)continue;let t=e.actions[0];if(!t||"SWAP_STATE"!==t.navigationType)continue;let n="";if(t.transitionNodeID){let e=w.get(eQ.dI(t.transitionNodeID));if(e){if(e.isState)n=e.parentGuid||"";else{$=!0;break}}}let r=i.glU.getContainingStateGroupOrSelf(eQ.dI(e.sourceNodeID??eQ.Hr))||"";if(""===r||""!==n&&r!==n){$=!0;break}}let n=["ON_CLICK","MOUSE_DOWN","MOUSE_UP"].includes(t.event.interactionType??""),r=e.some(e=>"ON_HOVER"===e.event.interactionType);Q=n&&r}$=_!==u8.J.INHERITED_INTERNAL&&$;let X=function(e,t,n){if(e!==u8.J.INHERITED_INTERNAL)return null;let r=n.find(e=>e.key===t.key&&e.interactions.length===t.interactions.length&&1===t.interactions.length&&function(e,t){let n=void 0!==e.actions&&e.actions.length>=1,r=void 0!==t.actions&&t.actions.length>=1;if(!n||!r)return!1;let l=e.actions.every(e=>"UPDATE_MEDIA_RUNTIME"===e.connectionType),i=e.actions.every(e=>eQ.fn(e.transitionNodeID));var a=!1;for(let e of t.actions)if("INTERNAL_NODE"===e.connectionType&&"SWAP_STATE"===e.navigationType){a=!0;break}return l&&i&&a}(e.interactions[0],t.interactions[0]));return r?.interactions[0]??null}(_,t,e),j=(0,rr.ZC)(X),J=(0,iM.U)();r.useEffect(()=>{null===j&&X&&J("prototype_interaction_conflict_override_created",{interaction_type:t.interactions[0].event?.interactionType,action_type:X.event?.interactionType})});let Z=_===u8.J.INHERITED_INTERNAL&&v.some(e=>e.key===t.key)&&!X,q=c&&o,ee=C&&!c,en=new lz.js(S,L),er=(0,lz.mj)(V),el=U?.actions?.length??0,ei=(0,K.kc)().sts_interaction_interop&&el>1?(0,G.t)("sites.panel.interaction_summary",{numActions:el}):D||!V||"NONE"===er?void 0:en.format(er),ea=r.createElement(nt.Y9,{ref:M,"data-testid":`prototypeInteractionItem-${n}`,singletonRow:p,dragging:s,onMouseDown:d,onMouseMove:u,onMouseUp:m,onMouseEnter:B,onMouseLeave:H,recordingKey:eJ.Pt(y,"draggableRow"),onClick:(0,K.kc)().sts_interaction_interop?R:af.lQ},r.createElement(nt.s2,{label:null,leftIcon:r.createElement(tO.YW,{onClick:(0,K.kc)().sts_interaction_interop?af.lQ:R,selected:ee&&!!P,recordingKey:eJ.Pt(y,"interactionIcon"),onMouseDown:Y,"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":mO(t.event,k,!!g),className:I&&(0,K.kc)().sts_interaction_interop?so.zY:void 0},(0,cc.e7)(t.event.interactionType)),input:r.createElement(nI.D8,{onClick:(0,K.kc)().sts_interaction_interop?af.lQ:R,onMouseDown:Y,recordingKey:eJ.Pt(y,"interactionText")},mO(t.event,k,!!g),ei&&r.createElement("span",{className:"prototype_interaction_list--summaryText--hGpp4"},"\xa0\xb7\xa0",ei)),rightIcon:r.createElement("div",{hidden:(0,K.kc)().sts_interaction_interop&&!I},r.createElement(z.K,{onClick:W,"aria-label":(0,G.t)("proto.prototype_panel.remove_interaction_tooltip"),recordingKey:eJ.Pt(y,"removeButton"),htmlAttributes:{onMouseDown:Y}},r.createElement(t2.U,{svg:iw.A,fallbackSvg:iI.A},r.createElement(iT.O,null))))}));return g?ea:r.createElement("div",null,r.createElement(rm.e,{ref:A,className:S?"prototype_interaction_list--interactionListRow---i0Rg ui3_rows--ui3OneInputOneIconRow--SMoQ9 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu":void 0,"data-testid":`prototypeInteractionItem-${n}`,selected:q,selectedSecondary:ee,singletonRow:p,dragging:s,onMouseDown:d,onMouseMove:u,onMouseUp:m,onMouseEnter:B,onMouseLeave:H,recordingKey:eJ.Pt(y,"draggableRow")},r.createElement(nI.D8,{className:F()({"prototype_interaction_list--interactionButton--q-58Q":!0,"prototype_interaction_list--interactionButtonSelected--8YX9A":q,"prototype_interaction_list--interactionButtonSelectedSecondary--Nx73L":ee}),onClick:R,onMouseDown:Y,recordingKey:y},$?r.createElement(et.B,{className:mg,svg:mS.A,"data-tooltip-type":t6.Ib.SPECIAL,"data-tooltip":m_,"data-tooltip-text":(0,G.t)("proto.prototype_panel.this_interaction_must_swap_from_a_variant_to_another_variant_within_the_same_component_set_tooltip")}):Q?r.createElement(et.B,{className:mg,svg:mS.A,"data-tooltip-type":t6.Ib.SPECIAL,"data-tooltip":m_,"data-tooltip-text":(0,G.t)("proto.prototype_panel.prototype_multiple_interactions_mouse_and_hover_tooltip")}):Z&&r.createElement(et.B,{className:mg,svg:mS.A,"data-tooltip-type":t6.Ib.SPECIAL,"data-tooltip":m_,"data-tooltip-text":(0,G.t)("proto.prototype_panel.this_interaction_will_not_be_triggered_as_interactions_on_instances_are_triggered_before_inherited_internal_interactions_tooltip")}),r.createElement("div",{className:Q||$||Z?"prototype_interaction_list--interactionNameShort--5UMLL prototype_interaction_list--interactionName--zQsSL":"prototype_interaction_list--interactionName--zQsSL"},mO(t.event,k,!!g)),r.createElement(t2.U,{className:"prototype_interaction_list--actionIcon--x-haP",svg:D?(0,cc.Yb)("NONE"):(0,cc.Yb)((0,lz.mj)(V))},(0,cc.av)((0,lz.mj)(V))),r.createElement("div",{className:"prototype_interaction_list--targetText--UMXyE",dir:"auto"},D?(0,G.t)("proto.variant_actions.mixed"):_===u8.J.INHERITED_INTERNAL?(0,G.t)("proto.variant_actions.change_to"):mx(V,b,S,L))),r.createElement("span",{className:"prototype_interaction_list--removeButton--g6aiQ"},r.createElement(z.K,{onClick:W,"aria-label":(0,G.t)("proto.prototype_panel.remove_interaction_tooltip"),recordingKey:eJ.Pt(y,"removeButton"),htmlAttributes:{onMouseDown:Y}},r.createElement(t2.U,{svg:iw.A,fallbackSvg:iI.A},r.createElement(iT.O,null))))))}function mI(e){return e.pickerShown}function mN(e){return e.mirror.appModel.currentSelectedProperty}function mk(e){return e.mirror.selectionProperties.resettableInstanceOverrides}function mC(e){return e.mirror.selectionProperties.isValidPrototypingSourceSelected??!0}function mA(){let e=(0,l.d4)(lV.Xt),t=(0,l.d4)(lV.dK);for(let n of Object.keys(e)){let e=t.get(n);if(e&&("INSTANCE"===e.type||e.isInstanceSublayer))return!0}return!1}let mM=["ON_CLICK","DRAG","ON_HOVER","ON_PRESS","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"];function mO(e,t,n){let r=t.format(e.interactionType??"NONE");if("ON_KEY_DOWN"===e.interactionType&&e.keyTrigger&&e.keyTrigger.keyCodes){let t=(0,mr._i)(e.keyTrigger.keyCodes),l=(0,mr.E8)(e.keyTrigger,!0);if("KEYBOARD"===e.keyTrigger.triggerDevice&&t)return(0,K.kc)().sts_interaction_interop&&n?(0,mr.U8)(t):r+" ("+(0,mr.U8)(t)+")";if(l)return(0,K.kc)().sts_interaction_interop&&n?l:r+" ("+l+")"}return r}function mx(e,t,n,r){let l=new lz.js(n,r);if(!e)return l.format("NONE");let i=(0,lz.mj)(e);switch(i){case"NONE":case"GO_BACK":case"CLOSE_OVERLAY":case"SET_VARIABLE":case"SET_VARIABLE_MODE":case"CONDITIONAL":return l.format(i);case"OPEN_URL":if(null!=e.connectionURL){if((0,ts.gl)(e.connectionURL))return(0,G.t)("fullscreen.mixed");return e.connectionURL.replace(/https?:\/\//,"")}return l.format("NONE");case"UPDATE_MEDIA_PLAY":case"UPDATE_MEDIA_PAUSE":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_MUTE":case"UPDATE_MEDIA_UNMUTE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":case"UPDATE_MEDIA_SKIP_FORWARD":case"UPDATE_MEDIA_SKIP_BACKWARD":case"UPDATE_MEDIA_SKIP_TO":return mv.format(e)}return e.transitionNodeID?(0,ts.gl)(e.transitionNodeID)?(0,G.t)("fullscreen.mixed"):t(eQ.dI(e.transitionNodeID)):l.format("NONE")}function mR(e){return e.interactions.filter(e=>e.id&&e.sourceNodeID).map(e=>u6.d({nodeID:e.sourceNodeID,interactionID:e.id}))}function mL(e){let t=[];for(let n of e){let{sourceNodeID:e,id:r}=n;e&&r&&t.push(u6.d({nodeID:e,interactionID:r}))}return t}function mF(e){eh.Y5.triggerAction("show-prototype-interaction-edit-modal",{args:{source:i.yxn.PROPERTIES_PANEL,x:e.x,y:e.y}})}var mD=n(889157);function mV(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14 7.879v-1.88a1 1 0 0 0-1.707-.706L9.586 8H7.5A1.5 1.5 0 0 0 6 9.5v5c0 .383.144.733.38.998l.711-.71A.5.5 0 0 1 7 14.5v-5a.5.5 0 0 1 .5-.5H10l2-2 1-1v2.879zm0 4.242-1 1V18l-1-1-1.44-1.44-.706.708 2.439 2.439A1 1 0 0 0 14 18v-5.88m2.069-2.068.71-.71a3.501 3.501 0 0 1-1.217 5.993c-.29.092-.562-.144-.562-.448v-.03c0-.237.17-.437.392-.522a2.5 2.5 0 0 0 .677-4.283m-1.013 1.013.172-.172c.113-.056.248-.044.36.073.255.269.412.632.412 1.033s-.157.764-.412 1.033c-.238.25-.588.02-.588-.326v-1.415a.5.5 0 0 1 .056-.226m2.798-4.92a.5.5 0 0 1 0 .708l-11 11a.5.5 0 1 1-.708-.707l11-11a.5.5 0 0 1 .708 0",clipRule:"evenodd"}))}var mK=n(697945),mU=n(477633),mB=n(564734),mG=n(68710),mH=n(632319);function mY({videoPlayback:{mediaLoop:e,muted:t}}){let n=null;return(0,ts.gl)(e)&&(0,ts.gl)(t)?n=(0,G.tx)("proto.prototype_panel.replace_mixed_muted_and_loop_video_playback",{loopSvg:r.createElement(et.B,{svg:mU.A,className:mK.eT}),speakerSvg:r.createElement(et.B,{svg:mG.A,className:mK.To})}):(0,ts.gl)(e)?n=(0,G.tx)("proto.prototype_panel.replace_mixed_video_playback",{svg:r.createElement(et.B,{svg:mU.A,className:mK.eT})}):(0,ts.gl)(t)&&(n=(0,G.tx)("proto.prototype_panel.replace_mixed_video_playback",{svg:r.createElement(et.B,{svg:mG.A,className:mK.To})})),n?r.createElement(tO.fI,null,r.createElement(tO.UZ,{className:mK.pc},n)):null}let mW=e=>(0,ts.gl)(e)?"mixed":e,m$=e=>!0===e,mz=function(e){let t=()=>{let t=!m$(e.videoPlayback.mediaLoop);e.updateSelectionProperties({videoMediaLoop:t}),e.dispatch((0,ux._P)({name:"Node video loop changed",params:{newLoop:t,oldLoop:mW(e.videoPlayback.mediaLoop),numVideosSelected:e.videoPlayback.numVideosSelected}}))},n=()=>{let t=!e.videoPlayback.muted;e.updateSelectionProperties({videoMuted:t}),e.dispatch((0,ux._P)({name:"Node video muted changed",params:{newMuteValue:t,oldMuteValue:mW(e.videoPlayback.muted),numVideosSelected:e.videoPlayback.numVideosSelected}}))},l=r.createElement("span",{className:(0,h.GS)()?void 0:mK.hW},r.createElement(le.S,{label:r.createElement(lt.J,{htmlAttributes:{"data-tooltip":(0,G.t)("proto.prototype_panel.default_video_playback_state"),"data-tooltip-type":t6.Ib.TEXT}},(0,G.tx)("proto.prototype_panel.autoplay")),onChange:t=>{e.updateSelectionProperties({videoAutoplay:t}),e.dispatch((0,ux._P)({name:"Node video autoplay Changed",params:{newAutoplay:t,oldAutoplay:mW(e.videoPlayback.autoplay),numVideosSelected:e.videoPlayback.numVideosSelected}}))},checked:m$(e.videoPlayback.autoplay),mixed:(0,ts.gl)(e.videoPlayback.autoplay)})),i=(0,h.GS)()?r.createElement(l6.f,{checked:m$(e.videoPlayback.mediaLoop),mixed:(0,ts.gl)(e.videoPlayback.mediaLoop),onIcon:r.createElement(t2.U,{svg:mU.A},r.createElement(pF,null)),offIcon:r.createElement(t2.U,{svg:mB.A},r.createElement(pD,null)),onChange:t,recordingKey:eJ.Pt(e,"videoLoopToggle"),"aria-label":(0,G.t)("proto.prototype_panel.loop"),htmlAttributes:{"data-tooltip":(0,G.t)("proto.prototype_panel.loop"),"data-tooltip-type":t6.Ib.TEXT}}):r.createElement(iL.m,{toggled:m$(e.videoPlayback.mediaLoop),svg:e.videoPlayback.mediaLoop?mU.A:mB.A,fallbackSvg:e.videoPlayback.mediaLoop?mU.A:mB.A,onMouseDown:t,recordingKey:eJ.Pt(e,"videoLoopToggle"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("proto.prototype_panel.loop"),dataTestId:"videoLoopToggle",className:mK.BM}),a=(0,h.GS)()?r.createElement(l6.f,{checked:m$(!e.videoPlayback.muted),mixed:(0,ts.gl)(e.videoPlayback.muted),onIcon:r.createElement(t2.U,{svg:mG.A},r.createElement(pV.L,null)),offIcon:r.createElement(t2.U,{svg:mH.A},r.createElement(mV,null)),onChange:n,recordingKey:eJ.Pt(e,"videoSoundToggle"),"aria-label":(0,G.t)("proto.prototype_panel.sound"),htmlAttributes:{"data-tooltip":(0,G.t)("proto.prototype_panel.sound"),"data-tooltip-type":t6.Ib.TEXT}}):r.createElement(iL.m,{toggled:!e.videoPlayback.muted,svg:m$(e.videoPlayback.muted)?mH.A:mG.A,fallbackSvg:m$(e.videoPlayback.muted)?mH.A:mG.A,onMouseDown:n,recordingKey:eJ.Pt(e,"videoSoundToggle"),"data-tooltip-type":t6.Ib.TEXT,"data-tooltip":(0,G.t)("proto.prototype_panel.sound"),dataTestId:"videoSoundToggle",className:mK.BM}),o=(0,h.GS)()?r.createElement(nt.pG,{input:l,leftIcon:i,rightIcon:a}):r.createElement(tO.fI,{className:mK.kh},l,r.createElement("div",{className:mK.zc},i,a));return r.createElement(tO.Zk,null,r.createElement(tO.fI,null,r.createElement(tO.xw,{extended:!0},(0,G.tx)("proto.prototype_panel.video"))),o,r.createElement(mY,{videoPlayback:e.videoPlayback}))};var mQ=n(420450),mX=n(955136);function mj(e){let{type:t}=e;return r.createElement("div",{className:R.cx.flex.justifyCenter.itemsCenter.$},r.createElement(et.B,{className:R.cx.flexGrow1.mx12.$,useOriginalSrcFills_DEPRECATED:!0,svg:"horizontal"===t?mQ.A:mX.A}),r.createElement("span",{className:R.cx.flexGrow1.m6.$,style:{maxWidth:144}},(0,G.tx)("proto.prototype_panel.content_needs_to_be_bigger_than_the_frame_tooltip")))}let mJ=(0,i$.ex)("prototype_scroll_horizontal_info",mj,()=>({type:"horizontal",unconstrainWidth:!0})),mZ=(0,i$.ex)("prototype_scroll_vertical_info",mj,()=>({type:"vertical",unconstrainWidth:!0})),mq="scroll_behavior_panel--inactiveLabel--IexW8",m0="scroll_behavior_panel--inactiveLabelContainer--lQjAi";var m1=n(591363);function m5(e){let{scrollDirection:t,showScrollWarning:n,disableOverflowBehaviorItem:a,disableScrollBehaviorItem:o,dropdownShown:s,updateSelectionProperties:c}=e,p=(0,l.wA)(),[d,u]=function(){let e=(0,w.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels)[i.ibQ.OVERFLOW_ITEM],t=(0,o5.cJ)(),n=(0,l9.kl)("isSection"),r=(0,l9.kl)("anyTopLevelFramesInSelection");return[e,!t&&!n&&!r]}(),m=(0,h.GS)()?r.createElement(iP.mS,{titleTx:(0,G.tx)("proto.scroll_panel.scroll_behavior_title")}):r.createElement(tO.fI,null,r.createElement(tO.xw,{className:"scroll_behavior_panel--panelTitle--kN-Nl"},(0,G.tx)("proto.scroll_panel.scroll_behavior_title")));return d||u?r.createElement(eZ.k,{name:"scroll_behavior_panel"},r.createElement(tO.Zk,null,m,u&&r.createElement(tO.fI,null,r.createElement("div",{className:m0},r.createElement("span",{className:mq},(0,G.tx)("proto.scroll_panel.position_dropdown.position"))),r.createElement(m9,{recordingKey:eJ.Pt(e,"scrollBehavior"),dropdownShown:s,disabled:o})),d&&r.createElement(tO.fI,null,r.createElement("div",{className:m0},r.createElement("span",{className:mq},(0,G.tx)("proto.scroll_panel.overflow_dropdown.overflow"))),n&&r.createElement(et.B,{className:"scroll_behavior_panel--infoIcon--FeXbf",svg:m1.A,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":t6.Ib.SPECIAL,"data-tooltip":"HORIZONTAL"===t?mJ:mZ,"data-tooltip-show-immediately":!0}),r.createElement(m6,{className:n?"scroll_behavior_panel--scrollDirectionShort--w6iSo":"scroll_behavior_panel--scrollDirection--XSmzK",property:t,dispatch:p,dropdownShown:s,onChange:e=>{p((0,ux._P)({name:"Overflow Behavior changed",params:{newDirection:e,oldDirection:(0,ts._W)(t,"MIXED")}})),c({scrollDirection:e})},disabled:a,recordingKey:eJ.Pt(e,"scrollDirection")})))):null}class m4 extends lX.c${}class m2 extends lX.l6{}let m3=["NONE","HORIZONTAL","VERTICAL","BOTH"];class m6 extends r.PureComponent{render(){return r.createElement(m2,{id:"scroll-direction-select",className:this.props.className,chevronClassName:"scroll_behavior_panel--scrollDirectionChevron--5keRt",inputClassName:"scroll_behavior_panel--scrollDirectionInput--vJSqu",property:this.props.property||"NONE",formatter:lz.Rk,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:this.props.disabled,recordingKey:this.props.recordingKey,dataTestId:"scroll-direction-dropdown"},m3.map(e=>r.createElement(m4,{key:e,value:e,recordingKey:eJ.Pt(this.props,e)})))}}m6.displayName="ScrollDirectionDropdown";class m7 extends lX.l6{}class m8 extends lX.c${}function m9(e){let t=(0,l.wA)(),n=(0,l9.kl)("scrollBehavior"),{fixedScrollingDisabled:a}=(0,t5.R)(e=>{let t=e.mirror.selectionProperties;return{fixedScrollingDisabled:!t.nodesAreAllNotInStacksOrAbsolutePositioned||!t.allHaveScrollableFrameAsParent}}),o="scroll-behavior-select",s=e.dropdownShown&&e.dropdownShown.type===o?lz.Ge:lz.wi;return r.createElement(m7,{id:o,className:"scroll_behavior_panel--scrollPosition--YAyUM",formatter:s,property:n||"SCROLLS",onChange:e=>{t((0,ux._P)({name:"Node Scroll Behavior Changed",params:{newValue:e}}));let n="FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===e?i.KjJ.FIXED:"STICKY_SCROLLS"===e?i.KjJ.STICKY_SCROLLS:i.KjJ.SCROLLS;nu.l7.user("set-scroll-behavior",()=>i.X3B.aggressivelySetScrollBehaviorOfSelection(n)),eh.Y5.commit()},dispatch:t,dropdownShown:e.dropdownShown,dropdownClassName:"scroll_behavior_panel--fullWidth--reSmx",recordingKey:e.recordingKey,disabled:e.disabled,dataTestId:"scroll-behavior-dropdown"},r.createElement(m8,{value:"SCROLLS"}),r.createElement(m8,{value:"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME",disabled:a}),r.createElement(m8,{value:"STICKY_SCROLLS"}))}var Ee=n(105020),Et=n(548183),En=n(854547),Er=n(654784),El=n(351731);function Ei(){return r.createElement(t8.u,{idForTests:"create-connection-hint",title:(0,G.t)("proto.onboarding.creating_a_connection"),userFlag:"dismissed_create_connection_hint",icon_DEPRECATED:En.A,iconFallback:Er.A,hintText:(0,G.t)("proto.onboarding.select_a_frame_or_object_hint")})}function Ea(){return r.createElement(t8.u,{idForTests:"delete-connection-hint",title:(0,G.t)("proto.onboarding.removing_a_connection"),userFlag:"dismissed_delete_connection_hint",icon_DEPRECATED:Ee.A,iconFallback:Et.A,hintText:(0,G.t)("proto.onboarding.to_delete_a_connection_click_and_drag_on_either_end")})}function Eo(){return r.createElement(t8.u,{idForTests:"play-button-hint",title:(0,G.t)("proto.onboarding.running_your_prototype"),userFlag:"dismissed_play_button_hint",icon_DEPRECATED:El.A,hintText:(0,G.t)("proto.onboarding.use_the_play_button_hint")})}function Es({dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:n,numTransitionsOnCurrentPage:l}){let i=0===l&&!e,a=0!==l&&!t,o=!n,s=r.useMemo(()=>i?uO.c.CREATING_A_CONNECTION:a?uO.c.REMOVING_A_CONNECTION:o?uO.c.RUNNING_YOUR_PROTOTYPE:null,[i,a,o]);return s?r.createElement(O.fu,{name:"Prototype Onboarding Hint Panel V1",properties:{trackingDescriptor:s}},r.createElement(tO.Zk,null,r.createElement("div",null,i&&r.createElement(Ei,null),a&&r.createElement(Ea,null),o&&r.createElement(Eo,null)))):null}class Ec extends r.PureComponent{constructor(){super(...arguments),this.onClickShowPrototypeSettings=()=>{this.props.dispatch((0,ux._P)({name:"Show Prototype Settings Clicked"})),f.wr()}}renderOnboardingPanel(){let e=!!this.props.userFlags.dismissed_create_connection_hint,t=!!this.props.userFlags.dismissed_delete_connection_hint,n=!!this.props.userFlags.dismissed_play_button_hint,l=this.props.selectionProperties.numTransitionsOnCurrentPage;return r.createElement(Es,{dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:n,numTransitionsOnCurrentPage:l})}renderPrototypeSettingsPanel(){return r.createElement(eZ.k,{name:"show_prototype_settings_panel"},r.createElement(tO.Zk,{className:this.props.isUI3?tb.rq:void 0},r.createElement(sa.z,{onClick:this.onClickShowPrototypeSettings,recordingKey:eJ.Pt(this.props,"prototypeSettingsButton")},(0,G.tx)("proto.menu.show_prototype_settings"))))}renderDevicePanel(){(0,rn.assertDev)((0,ts.hS)(this.props.selectionProperties.prototypeDevice),"should not have mixed device selection");let e=(0,ux.Qx)(this.props.selectionProperties.prototypeDevice);return r.createElement(uJ,{key:"device-panel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,prototypeDevice:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:"devicePanel",isUI3:this.props.isUI3,pickerShown:this.props.pickerShown})}render(){let e=!(0,ts.hS)(this.props.selectionProperties.transitionNodeID)||eQ.fn((0,ts.E7)(this.props.selectionProperties.transitionNodeID)),t=this.props.selectionProperties.numSelected??!1,n=!this.props.isSites&&!!this.props.selectionProperties.numVideosSelected,l=this.props.selectionProperties.isInstanceSelected||this.props.selectionProperties.isInstanceSublayerSelected,i=this.props.selectionProperties.isInstanceSublayerSelected,a=!this.props.isSites&&this.props.selectionProperties.prototypeStartingPointsInfo&&this.props.selectionProperties.prototypeStartingPointsInfo.length>0,o=!this.props.isSites&&!e,s=!this.props.isSites&&((this.props.selectionProperties.isValidPrototypingSourceSelected??!0)||this.props.selectionProperties.isSectionSelected&&(0,uR.YR)());if(!t)return r.createElement("div",null,!this.props.isSites&&this.renderDevicePanel(),!this.props.isUI3&&r.createElement(uF,{recordingKey:eJ.Pt(this.props,"backgroundPanel"),prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch}),a&&r.createElement(sy.A,null),!this.props.isSites&&o&&this.renderOnboardingPanel(),r.createElement(r9.Mw,{panelName:r9.ON.PROTOTYPE}));{let e=r.createElement(m5,{dropdownShown:this.props.dropdownShown,scrollDirection:this.props.selectionProperties.scrollDirection??"NONE",showScrollWarning:this.props.selectionProperties.showWontScrollWarning??!1,disableOverflowBehaviorItem:!!l,disableScrollBehaviorItem:!!i,recordingKey:eJ.Pt(this.props,"scrollBehaviorPanel"),updateSelectionProperties:eh.Y5.updateSelectionProperties});return r.createElement("div",null,!this.props.isSites&&this.props.selectionProperties.isTopLevelFrameAndValidPrototypeSourceSelected&&r.createElement(mD.A,{recordingKey:eJ.Pt(this.props,"startingPointPanel")}),s&&r.createElement(mT,null),e,n&&r.createElement(mz,{updateSelectionProperties:eh.Y5.updateSelectionProperties,dispatch:this.props.dispatch,videoPlayback:function(e){let{videoMediaLoop:t,videoAutoplay:n,videoMuted:r,numVideosSelected:l}=e;return(0,rn.assertNotNullish)(t),(0,rn.assertNotNullish)(n),(0,rn.assertNotNullish)(r),(0,rn.assertNotNullish)(l),{autoplay:n,muted:r,mediaLoop:t,numVideosSelected:l}}(this.props.selectionProperties)}),!this.props.isSites&&this.renderPrototypeSettingsPanel(),o&&this.renderOnboardingPanel(),r.createElement(r9.Mw,{panelName:r9.ON.PROTOTYPE}))}}}Ec.displayName="PrototypePanel";let Ep=(0,O.kp)(function(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,y.sT)(),l=(0,h.GS)(),i=(0,o5.cJ)();return r.createElement(Ec,{...e,bigNudgeAmount:t,smallNudgeAmount:n,isUI3:l,isSites:i})},s_.e0.PROTOTYPE_PANEL);var Ed=n(354711),Eu=n(777349),Em=n(922907);let EE=(0,eX.jz)(rg.uj0);class E_ extends eJ.o6{constructor(){super(...arguments),this.state={panelState:tS.GR.DEFAULT_EXPANDED},this.onMouseDown=eJ.cZ(this,"mousedown",()=>{eh.Y5.deselectProperty(),this.props.dispatch(tm.XE()),this.props.dispatch((0,ce.vq)()),this.props.dispatch(e0.sw()),this.props.dispatch(tm.Uv())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,r=t.type;n&&"INPUT"===n.toUpperCase()&&r&&"TEXT"===r.toUpperCase()||t.isContentEditable||e.preventDefault()}},this.showCreateStyleModal=({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:r,rowTop:l})=>{this.props.dispatch(e0.sw()),this.props.dispatch(e0.Zs({rowLeft:r,rowTop:l,styleType:e,inheritStyleKeyField:t,nodeId:n}))},this._stylePreviewThumbnail=new tt.H4(()=>{let e=(0,tc.IW)(this.props.stylePreviewShown),t=this.props.openFile?.canEdit,n=!!e||!t||this.props.appModel.isReadOnly;return r.createElement(tP,{key:"style-preview-panel",selectedStyleProperties:this.props.selectedStyleProperties,isInspectPanel:this.props.propertiesPanelTab===i.FAf.INSPECT,stylePreviewShown:this.props.stylePreviewShown,externalStyle:e,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:n,recordingKey:eJ.Pt(this.props,"stylePreviewPanel")})}),this.onCloseStylePreviewModal=()=>{i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID),this.props.dispatch(e0.sw()),this.props.dispatch((0,e1.B)())},this.renderStylePreviewModal=()=>{if(!this.props.stylePreviewShown.isShown||![i.FAf.DESIGN,i.FAf.SITE,i.FAf.INSPECT].includes(this.props.propertiesPanelTab))return;let e=this.props.selectedStyleProperties,t=new eT.Mi(this.props.stylePreviewShown.rowLeft-tS.tA,this.props.stylePreviewShown.rowTop);if(this.props.stylePreviewShown.isCreating){let{styleType:e,inheritStyleKeyField:n,styleNameInputPrefix:l}=this.props.stylePreviewShown;return r.createElement(tf,{recordingKey:"createStyleModal",initialPosition:t,styleNameInputPrefix:l,styleType:e,inheritStyleKeyField:n})}{let n=!(0,ta.eE)(this.props.stylePreviewShown.style,this.props.openFile),l=n||!this.props.openFile?.canEdit||this.props.appModel.topLevelMode===i.lyf.BRANCHING,a=(0,eQ.dI)(e.guid);if(!(a&&this.props.library.local.styles[a]&&!this.props.library.local.styles[a].is_soft_deleted)&&!n||!this.props.selectedStyleProperties.guid)return;return r.createElement(e7.zK.Provider,{value:e7.zM.EDIT_STYLE},r.createElement(eP.vx,{title:this.getStylePreviewThumbnailTitle(e.styleType,l),key:(0,tc.Gj)(this.props.stylePreviewShown.style),headerSize:"small",initialWidth:tS.tA,initialPosition:t,onClose:this.onCloseStylePreviewModal,recordingKey:eJ.Pt(this.props,"modal"),dragHeaderOnly:!0},r.createElement("div",{className:tb.FY},this._stylePreviewThumbnail.render({isVisible:!0}),this._externalStyleLink.render({isVisible:n}))))}},this._externalStyleLink=new tt.H4(()=>r.createElement(tR,{stylePreviewShown:this.props.stylePreviewShown,user:this.props.user})),this._framePresetPanel=new tt.H4(()=>r.createElement(tZ.nl,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new tt.H4(()=>r.createElement(ns,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new tt.H4(()=>{let e=this.props.selectionProperties;return r.createElement(lh,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:te.rC,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,ts._W)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new tt.H4(()=>r.createElement(sy.A,{viewOnly:!0})),this._localStylesPanel=new tt.H4(e=>r.createElement(r2,{key:e,scrollContainer:this.scrollContainer,recordingKey:e})),this._transformPanel=new tt.H4(()=>r.createElement(iB.zq,{key:"transform",propertiesPanelState:this.state.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:this.props.openFile?.key||null,canEditConstraints:this.props.isUI3&&this.shouldShowConstraintsResizingPanel(),onlyShowXYInputsRow:this.props.isUI3&&(this.state.panelState===tS.GR.DEFAULT_SIMPLIFIED||(this.selectionProperties().areOnlyResponsiveSetsSelected??!1))})),this._vectorPanel=new tt.H4(()=>{let e=this.selectionProperties(),t=this.props.isUI3;return r.createElement(iB.Ss,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new tt.H4(()=>r.createElement(iy.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new tt.H4(()=>r.createElement(lP._,{key:"instance",recordingKey:"instancePanel"})),this._constraintsResizingPanel=new tt.H4(()=>r.createElement(lf,{key:"constraints",openFileKey:this.props.openFile?.key||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})),this._stackPanel=new tt.H4(()=>r.createElement(oc,{key:"stack",onlyShowResizingRow:this.props.isUI3&&this.state.panelState===tS.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:this.props.shownPanels[i.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new tt.H4(()=>r.createElement(ik,{key:"remove-group-fill-stroke"})),this._maskPanel=new tt.H4(()=>{let e=this.selectionProperties();return r.createElement(iv,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new tt.H4(()=>r.createElement(n9,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new tt.H4(()=>r.createElement(nb.cu,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new tt.H4(()=>r.createElement(oD,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new tt.H4(()=>r.createElement(oO,{key:"template"})),this._gridsPanel=new tt.H4(()=>r.createElement(tS.tC,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new tt.H4(()=>{let e=this.props.selectionProperties;return this.props.isUI3?r.createElement(se,{recordingKey:"appearancePanel"}):r.createElement(iE,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new tt.H4(()=>r.createElement(oL,{key:"local-variables"})),this._typePanel=new tt.H4(()=>r.createElement(tS.gc,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new tt.H4(()=>r.createElement(tr.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:te.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3})),this._fillPanel=new tt.H4(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,tI.aZ)(i.rrT.FILL,this.props.selectionProperties.numSelectedByType)),r.createElement(tS.B8,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new tt.H4(()=>{let e=this.props.selectionProperties;return r.createElement(tr.$p,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:te.Em,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.styleIdForStrokeFill||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new tt.H4(()=>r.createElement(tS.w5,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new tt.H4(()=>r.createElement(dR,{recordingKey:"slidesShadowPanel"})),this._exportPanelInspectTab=new tt.H4(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,e4.Nf)(this.props.appModel);return r.createElement(lT.LI,{key:"export",title:this.isReadOnlyNonInspect()?(0,G.t)("fullscreen.properties_panel.export"):(0,G.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:lT.LI.singleNodeNameFrom(e),isSelectionRenamable:lT.LI.isSelectionRenamable(Object.keys(this.props.sceneGraphSelection)),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:tl.iP})}),this._exportPanel=new tt.H4(()=>{let e=this.props.selectionProperties,t=(0,e4.Nf)(this.props.appModel);return r.createElement(lT.LI,{key:"export",openFile:this.props.openFile,singleNodeName:lT.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,isSelectionRenamable:lT.LI.isSelectionRenamable(Object.keys(this.props.sceneGraphSelection)),currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:tl.iP})}),this._pluginPanel=new tt.H4(()=>{let e=this.selectionProperties();return r.createElement(iC.Q,{key:"plugin",pluginRelaunchData:e.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,tQ.Jl)(this.props),dispatch:this.props.dispatch,openFileKey:this.props.openFile?.key||null,editorType:this.props.openFile?.editorType?(0,k.wN)(this.props.openFile.editorType):null,numSelected:e.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new tt.H4(()=>r.createElement(Ep,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new tt.H4(()=>(0,K.kc)().ce_scale_tool_v2?r.createElement(Em.D,{key:"scale",recordingKey:"scalePanel"}):r.createElement(Eu.e,{key:"scale",recordingKey:"scalePanel"})),this._slidesAlignPanel=new tt.H4(()=>r.createElement(co,{recordingKey:"slidesAlignPanel"})),this._slidesLayoutPanel=new tt.H4(()=>r.createElement(dv,{recordingKey:"slidesLayoutPanel"})),this._slidesThemePanel=new tt.H4(()=>r.createElement(oH,{recordingKey:"slidesThemePanel"})),this._slidesInstancePanel=new tt.H4(()=>r.createElement(dp,{recordingKey:"slidesInstancePanel"})),this._slidesFillPanel=new tt.H4(()=>r.createElement(dl,{recordingKey:"slidesFillPanel"})),this._slidesOpacityPanel=new tt.H4(()=>r.createElement(dC,{recordingKey:"slidesOpacityPanel"})),this._slidesTypePanel=new tt.H4(()=>r.createElement(uS,{recordingKey:"slidesTypePanel"})),this._slidesLinkPanel=new tt.H4(()=>r.createElement(dw,{recordingKey:"slidesLinkPanel"})),this._slidesBorderPanel=new tt.H4(()=>r.createElement(pg,{recordingKey:"slidesBorderPanel"})),this._slidesCornerPanel=new tt.H4(()=>r.createElement(pP,{recordingKey:"slidesCornerPanel"})),this._slidesAnimationPanel=new tt.H4(()=>r.createElement(cQ,null)),this._slidesEmbeddablePrototypePanel=new tt.H4(()=>r.createElement(pC,{selection:this.props.sceneGraphSelection})),this._slidesInteractiveWidgetPanel=new tt.H4(()=>r.createElement(dm,{selection:this.props.sceneGraphSelection})),this._slidesSelectionPaints=new tt.H4(()=>r.createElement(tr.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:te.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3,customColorPicker:tn.GY,hideCustomColorPickerFillTypeToggle:!1})),this._sitesPositionPanel=new tt.H4(()=>r.createElement(ci.Qc,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new tt.H4(()=>r.createElement(ci.rC,{recordingKey:"linkPanel"})),this._sitesPageMetadataPanel=new tt.H4(()=>r.createElement(ci.li,{recordingKey:"pageMetadataPanel"})),this._sitesCanvasOverlayPanel=new tt.H4(()=>r.createElement(ci.rf,null)),this._sitesAccessibilityPanel=new tt.H4(()=>r.createElement(ci.l,{recordingKey:"accessibilityPanel"})),this._sitesResponsivenessPanel=new tt.H4(()=>r.createElement(ci.eg,{key:"responsiveness"})),this._sitesHTMLWidgetPanel=new tt.H4(()=>r.createElement(ci.Mr,null)),this._sitesInteractionsPanel=new tt.H4(()=>r.createElement(ci.GO,{recordingKey:"interactionsPanel"})),this._sitesCodeComponentPanel=new tt.H4(()=>r.createElement(ci.nl,{recordingKey:"codeComponentPanel"})),this._dakotaRichContentNodePanel=new tt.H4(()=>r.createElement(t$.a8,{selection:this.props.sceneGraphSelection})),this._dakotaCollectionPanel=new tt.H4(()=>r.createElement(t$.fy,{selection:this.props.sceneGraphSelection})),this._dakotaItemPanel=new tt.H4(()=>r.createElement(t$.Ug,{selection:this.props.sceneGraphSelection})),this._cooperConstrainedEditPanel=new tt.H4(()=>r.createElement(e9,{recordingKey:"constrainedEditPanel"})),this._cooperPublishEditPanel=new tt.H4(()=>r.createElement(e9,{recordingKey:"constrainedEditPanel"})),this._cooperExportPanel=new tt.H4(()=>{let e=this.props.openFile,t=(0,e4.Nf)(this.props.appModel);return r.createElement(e9,{key:"export",openFile:e,currentPage:t,dropdownShown:this.props.dropdownShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:tl.iP})}),this._cooperTabularPanel=new tt.H4(()=>r.createElement(e9,null)),this.shouldShowCooperFreeformEditPanel=()=>this.props.appModel.activeCanvasEditModeType===i.m1T.COOPER_LAYOUT,this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shouldShowAlignControls=()=>(0,tl.d6)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>this.props.isUI3,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[i.ibQ.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>this.props.selectionProperties.stateGroupSelectionInfo?.mode===i.iCO.STATE,this.shouldShowLocalVariablesPanel=()=>{let e=(0,e6.P)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[i.ibQ.FRAME_PRESETS]&&!e},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,tl.fI)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesLinkPanel=()=>{let{numSelectedByType:e}=this.props.selectionProperties;return!!e&&(e.TEXT??0)>0&&(0,ix.OU)(e,["TEXT"])},this.shouldShowSlidesAlignPanel=()=>{if((0,K.kc)().piper_layout_panel)return!1;let{numSelectedByType:e}=this.props.selectionProperties,t=e&&(0,ix.vx)(e,"SLIDE");return this.shouldShowAlignControls()&&!t},this.shouldShowSlidesLayoutPanel=()=>{let{numSelectedByType:e}=this.props.selectionProperties,t=e&&(0,ix.vx)(e,"SLIDE"),n=this.shouldShowAlignControls()||this.props.shownPanels[i.ibQ.TRANSFORM_ITEM];return(0,K.kc)().piper_layout_panel&&!t&&n},this.doesNotHaveAnySelectedText=()=>{let{numSelectedByType:e}=this.props.selectionProperties;return!(e?.TEXT&&e.TEXT>0)},this.shouldShowStackPanel=e=>{let t=this.props.shownPanels;return(0,tl.IY)(t,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,e)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[i.ibQ.SCALE_ITEM]&&!(0,K.kc)().ee_scale_tool_show_all_panels,this.shouldShowExportPanel=()=>this.props.openFile&&!(0,cl.Pe)(this.props.openFile)&&!(0,e5.MP)(),this.shouldShowLocalStylesPanel=()=>{let e=(0,e6.P)(this.props.selectedView);return!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!this.props.shownPanels[i.ibQ.FRAME_PRESETS]&&!e},this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,tj.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,tJ.$D)(si.FigmaTeam.EDITOR_USABILITY,e)}return r.createElement(cr.i,{displayAs:cr.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&!this.props.inLoggedOutDesktopRevampExp&&r.createElement(r9.Mw,{panelName:r9.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&r.createElement(r8.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),(0,K.kc)().piper_design_styles&&this._slidesThemePanel.render({isVisible:e[i.ibQ.SLIDES_THEME]}),this._transformPanel.render({isVisible:!0}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),!this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),!this.props.isUI3&&this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this.state.panelState===tS.GR.DEFAULT_SIMPLIFIED&&r.createElement(ss,{onExpand:()=>{this.setState({panelState:tS.GR.OVERRIDDEN_EXPANDED})}}),this.state.panelState===tS.GR.OVERRIDDEN_EXPANDED&&r.createElement(r.Fragment,null,this.props.isUI3&&this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),r.createElement(lv.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()})),!this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderDesignPanels=()=>{let e=this.props.shownPanels;return(((0,tj.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,o.Lg)()&&!(0,o.nl)()&&(0,tJ.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,tj.Im)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()}),e[i.ibQ.FRAME_PRESETS])?r.createElement(cr.i,{displayAs:cr.C.Block},this._framePresetPanel.render({isVisible:!0})):e[i.ibQ.PENCIL_TOOL]?r.createElement(cr.i,{displayAs:cr.C.Block},this._pencilToolPanel.render({isVisible:!0})):r.createElement(cr.i,{displayAs:cr.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&r.createElement(r9.Mw,{panelName:r9.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&r.createElement(r8.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this.props.isUI3&&this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),(0,K.kc)().piper_design_styles&&this._slidesThemePanel.render({isVisible:e[i.ibQ.SLIDES_THEME]}),this._transformPanel.render({isVisible:this.props.isUI3&&this.shouldShowAlignControls()||e[i.ibQ.TRANSFORM_ITEM]}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),r.createElement(lv.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._templatePropertiesPanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),!this.props.isUI3&&this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),!this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}),this._liveObjectPanel.render({isVisible:this.isLiveObjectSelected()}),!this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}),(0,K.kc)().jsx_debugging&&r.createElement(lC,null))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels;return e[i.ibQ.PENCIL_TOOL]?r.createElement(cr.i,{displayAs:cr.C.Block},this._pencilToolPanel.render({isVisible:!0})):r.createElement(cr.i,{displayAs:cr.C.Block},this._slidesAlignPanel.render({isVisible:this.shouldShowSlidesAlignPanel()}),this.shouldRenderUI3ToolbarItems()&&r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),shouldShowSlidesTypePanel:e[i.ibQ.TYPE_ITEM]}),this._slidesThemePanel.render({isVisible:e[i.ibQ.SLIDES_THEME]}),this._slidesInstancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._slidesLayoutPanel.render({isVisible:this.shouldShowSlidesLayoutPanel()}),this._slidesTypePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._slidesFillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._slidesOpacityPanel.render({isVisible:e[i.ibQ.SLIDES_OPACITY_ITEM]}),this._slidesCornerPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._slidesBorderPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]&&this.doesNotHaveAnySelectedText()}),this._slidesShadowPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._slidesLinkPanel.render({isVisible:e[i.ibQ.TYPE_ITEM]&&this.shouldShowSlidesLinkPanel()}),this._slidesSelectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._slidesEmbeddablePrototypePanel.render({isVisible:e[i.ibQ.SLIDES_EMBED]}),this._slidesInteractiveWidgetPanel.render({isVisible:e[i.ibQ.SLIDES_INTERACTIVE_WIDGET]}))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return r.createElement(cr.i,{displayAs:cr.C.Block},this._slidesAnimationPanel.render({isVisible:e[i.ibQ.SLIDES_ANIMATION]}))},this.renderSitesPanels=()=>{let e=this.props.shownPanels,t=(0,K.kc)().sts_document_settings;return r.createElement(cr.i,{displayAs:cr.C.Block},this.shouldRenderUI3ToolbarItems()&&r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),withBottomBorder:!(t&&this.shouldShowSitesPageMetadataPanel())}),t?this._sitesPageMetadataPanel.render({isVisible:this.shouldShowSitesPageMetadataPanel()}):null,this._sitesCanvasOverlayPanel.render({isVisible:this.shouldShowSitesCanvasOverlayPanel()}),this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&this.shouldShowInstancePanel()}),this._sitesPositionPanel.render({isVisible:this.shouldShowSitesPositionPanel()}),this._transformPanel.render({isVisible:e[i.ibQ.TRANSFORM_ITEM]}),this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),t?null:this._sitesPageMetadataPanel.render({isVisible:this.shouldShowSitesPageMetadataPanel()}),r.createElement(lv.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._sitesCodeComponentPanel.render({isVisible:this.shouldShowSitesCodeComponentPanel()}),this._sitesHTMLWidgetPanel.render({isVisible:this.shouldShowSitesHTMLWidgetPanel()}),this._sitesAccessibilityPanel.render({isVisible:this.shouldShowSitesAccessibilityPanel()}),this._sitesResponsivenessPanel.render({isVisible:this.shouldShowSitesResponsivenessPanel()}),(0,p.U9)()&&this._dakotaRichContentNodePanel.render({isVisible:!1}),(0,p.U9)()&&this._dakotaCollectionPanel.render({isVisible:!0}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderDakotaPanels=()=>r.createElement(cr.i,{displayAs:cr.C.Block},this._dakotaItemPanel.render({isVisible:!0})),this.renderCooperPanels=()=>r.createElement(cr.i,{displayAs:cr.C.Block},this._cooperConstrainedEditPanel.render({isVisible:!0}),!(null)()&&r.createElement(e9,{shownPanels:this.props.shownPanels}),r.createElement(e9,{shownPanels:this.props.shownPanels,showInstancePanel:this.shouldShowInstancePanel(),selectionPaintsPanel:this._slidesSelectionPaints,showSelectionPaints:this.shouldShowSelectionPaintsPanel()})),this.renderCooperPublishPanels=()=>r.createElement(cr.i,{displayAs:cr.C.Block},this._cooperPublishEditPanel.render({isVisible:!0})),this.renderInspectionPanels=()=>{let e=this.props.openFile?.canEdit,t=this.props.selectionProperties,n=!t.prototypeStartingPointsInfo||t.prototypeStartingPointsInfo?.length>0,l=0===Object.keys(this.props.sceneGraphSelection).length,i=l&&!e&&n;return r.createElement(O.fu,{name:s_.e0.CODE_PANEL},r.createElement(cr.i,{displayAs:cr.C.Block},!this.props.inLoggedOutDesktopRevampExp&&r.createElement(r9.Mw,{panelName:r9.ON.INSPECT}),r.createElement(sh.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel",flowPanel:this._viewOnlyFlowsPanel.render({isVisible:i}),localStylesPanel:this._localStylesPanel.render({isVisible:l,valueArgs:["code-local-styles"]})})))},this.renderLivingDesignsPanels=()=>r.createElement(cr.i,{displayAs:cr.C.Block},r.createElement(s3,null)),this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return r.createElement(cr.i,{displayAs:cr.C.Block},this._sitesLinkPanel.render({isVisible:this.shouldShowSitesLinkPanel()}),this._sitesInteractionsPanel.render({isVisible:this.shouldShowSitesInteractionsPanel()}),this._framePresetPanel.render({isVisible:e[i.ibQ.FRAME_PRESETS]}),this._pencilToolPanel.render({isVisible:e[i.ibQ.PENCIL_TOOL]}),this._prototypePanel.render({isVisible:!e[i.ibQ.FRAME_PRESETS]&&!e[i.ibQ.PENCIL_TOOL]&&!this.selectionProperties().containsResponsiveSets}))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.onKeyDown=e=>{this.props.selectedStyleProperties&&(0,eQ.fn)(this.props.selectedStyleProperties.guid)&&(e.event.keyCode===ej.Uz.ESCAPE?(e.accept(),i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID)):e.event.keyCode===ej.Uz.F&&i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID))},this.scrollContainer=null,this.refMainScrollContainer=e=>{this.scrollContainer=e},this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,sm.$A)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,l=e!==i.lyf.PREVIEW&&(e!==i.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==i.lyf.DEV_HANDOFF&&t===i.FAf.DESIGN,a=e!==i.lyf.PREVIEW&&(e!==i.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==i.lyf.DEV_HANDOFF&&t===i.FAf.SLIDE,o=e!==i.lyf.PREVIEW&&(e!==i.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==i.lyf.DEV_HANDOFF&&t===i.FAf.SLIDE_ANIMATION,s=e===i.lyf.LAYOUT&&!n&&t===i.FAf.SITE,c=e!==i.lyf.PREVIEW&&e!==i.lyf.BRANCHING&&t===i.FAf.PROTOTYPE,d=e===i.lyf.PREVIEW&&!this.props.userStateLoaded||t===i.FAf.INSPECT,u=e===i.lyf.LAYOUT&&!n&&t===i.FAf.COOPER,m=e===i.lyf.LAYOUT&&!n&&t===i.FAf.COOPER_PUBLISH,E=(0,p.U9)()&&e===i.lyf.LAYOUT&&!n&&t===i.FAf.DAKOTA,_=(0,K.kc)().livefish&&e===i.lyf.LAYOUT&&!n&&t===i.FAf.LIVING_DESIGNS,h=e===i.lyf.LAYOUT&&!n&&t===i.FAf.COOPER_EXPORT,y=t===i.FAf.COOPER_TABULAR;return l||a||o||s||E||u||m||h||y||c||d||_||t===i.FAf.EXPORT||t===i.FAf.COMMENT||(0,tJ.x1)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:i.lyf[e],tab:i.FAf[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),r.createElement(r.Fragment,null,l&&(this.state.panelState===tS.GR.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),a&&this.renderSlidesPanels(),o&&this.renderSlidesAnimationPanels(),s&&this.renderSitesPanels(),c&&this.renderPrototypePanels(),E&&this.renderDakotaPanels(),d&&this.renderInspectionPanels(),u&&this.renderCooperPanels(),m&&this.renderCooperPublishPanels(),_&&this.renderLivingDesignsPanels(),h&&this._cooperExportPanel.render({isVisible:!0}),y&&this._cooperTabularPanel.render({isVisible:!0}),t===i.FAf.EXPORT&&this._exportPanelInspectTab.render({isVisible:!0}),t===i.FAf.COMMENT&&r.createElement(this.props.commentsPanel,null))},this.onResize=e=>{e=(0,eU.clamp)(e,EE+1,500),(0,y.UK)().propertiesPanelSplitPosition.set(e)},this.getRightPanelAnimation=(e,t)=>{if(this.props.isUI3)return;let n={ease:"easeInOut",duration:.2,delay:this.props.isCollapsed?void 0:.05};return this.props.isCollapsed?{initial:{left:`calc(${e}px + ${t})`},animate:{left:`calc(${e}px + ${t})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let n=e.selectionProperties.productComponentGUIDBackingInstances,r=this.props.selectionProperties.productComponentGUIDBackingInstances;if(n!==r){let e=tS.GR.DEFAULT_EXPANDED;if(r){let t=this.props.sceneGraph.get(r);t?.simplifyInstancePanels&&(e=tS.GR.DEFAULT_SIMPLIFIED)}this.setState({panelState:e})}}getStylePreviewThumbnailTitle(e,t){if(t)switch(e){case"FILL":return(0,G.t)("design_systems.styles.view_color_style");case"TEXT":return(0,G.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,G.t)("design_systems.styles.view_effect_style");case"GRID":return(0,G.t)("design_systems.styles.view_grid_style");default:return(0,G.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,G.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,G.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,G.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,G.t)("design_systems.styles.edit_grid_style");default:return(0,G.t)("design_systems.styles.edit_style")}}shouldShowSitesPositionPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_LINK_ITEM]}shouldShowSitesPageMetadataPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_PAGE_METADATA_ITEM]}shouldShowSitesCanvasOverlayPanel(){return(0,o5.Vj)(this.props.selectedView)&&(0,K.kc)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_ACCESSIBILITY_ITEM]}shouldShowSitesResponsivenessPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_RESPONSIVENESS_ITEM]}shouldShowSitesHTMLWidgetPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_HTML_WIDGET_ITEM]}shouldShowSitesInteractionsPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_INTERACTIONS_ITEM]}shouldShowSitesCodeComponentPanel(){return(0,o5.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_CODE_COMPONENT_ITEM]}shouldShowInstancePanel(){return this.props.shownPanels[i.ibQ.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[i.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}renderLoading(e){return r.createElement(e3.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},r.createElement(eB.V,{className:F()(tb.Lp,{[tb.Ph]:this.props.isInsetEditorEnabled})},r.createElement(x.P,{ref:this.refMainScrollContainer,className:F()(tb.ux,tb.KE,eG.Dm,{[tb.eu]:e,[tb.Ph]:this.props.isInsetEditorEnabled}),width:tl.iP,hideScrollbar:!0,scrollingDisabled:!0},r.createElement("div",{className:tb.eh,"data-non-interactive":!0},r.createElement(tw.B7,null))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal()))}render(){if(this.props.isLoading)return this.renderLoading(this.props.shouldAnimateLoadingState);let e=this.props.selectedStyleProperties&&(0,eQ.fn)(this.props.selectedStyleProperties.guid),t=!!(this.props.dropdownShown||this.props.pickerShown?.modal),n=this.props.propertiesPanelTab,l=n===i.FAf.COMMENT,a=!this.isReadOnlyNonInspect(),o=(0,e6.P)(this.props.selectedView),s=!e||!t,c=!l&&s,p=(0,nk.ft)(),d=r.createElement("div",{className:l&&a&&!o?tb.By:tb.eh,onMouseDown:p?void 0:this.onMouseDown,onPointerDown:p?this.onMouseDown:void 0,"data-non-interactive":!0},r.createElement(ct.j9.Consumer,null,()=>this.renderPanelContent())),u=this.props.isUI3,m=(0,y.UK)().propertiesPanelSplitPosition.getCopy(),E=u?"number"==typeof m&&m>EE+1?m:EE+1:tl.iP+1,_=u?`${(0,eX.jz)(rg.M$q)}px`:"var(--spacer-2)",h=this.props.appModel.topLevelMode===i.lyf.HISTORY,g=u&&this.props.isCollapsed;return r.createElement(eZ.k,{name:"properties_panel",trackingEnabled:(0,K.kc)().trackable_properties||o,alsoTrack:()=>{let e=n===i.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,e4.Nf)(this.props.appModel),selectedNodeIds:Object.keys(this.props.sceneGraphSelection),panelMode:o?e:void 0}}},r.createElement(e3.vL,{name:"propertiesPanel",focusOnMount:!l,handleKeyDown:this.onKeyDown},r.createElement(e7.lk.Provider,{value:this.showCreateStyleModal},r.createElement(eB.V,{className:F()(tb.Lp,{[tb.R]:!this.props.appModel.showUi,[tb.dn]:g,[tb.Ph]:this.props.isInsetEditorEnabled&&!this.props.isUIMinimized,[tb.Fo]:"side_panel"===this.props.inProductHelpViewType}),style:{width:E,"--inProductHelpSidePanelWidth":`${this.props.inProductHelpSidePanelWidth}px`}},this.props.shouldShowBackgroundGradient&&!this.props.isInsetEditorEnabled&&r.createElement(eq.T,{side:"right"}),r.createElement(eY.X,null,r.createElement(eH.lY,{className:F()(tb.ux,eG.Dm,{[tb.ew]:this.props.rulersVisible,[tb.Ph]:this.props.isInsetEditorEnabled&&!this.props.isUIMinimized,[tb.Jq]:!this.props.justChangedMinimizeUIValue}),onContextMenu:this.onContextMenu,"data-onboarding-key":"properties-panel",size:E,onResize:this.onResize,side:"left",animation:this.getRightPanelAnimation(E,_),"data-cancel-insertable-resource-drag-and-drop":!0},r.createElement(Eh,{showRightSidebarPill:g},this.props.isUI3&&r.createElement(Ed.qW,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,e5.ck)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),h&&r.createElement(e2.yU,{recordingKey:"versionHistoryView",isUI3:u}),!g&&!h&&r.createElement(uA,{activeTab:n,shouldRenderInspectTab:this.shouldRenderInspectTab(),shouldShowAlignControls:this.shouldShowAlignControls(),isUI3:this.props.isUI3,recordingKey:this.props.recordingKey}),!g&&!h&&(l?d:r.createElement("div",{className:tb.gq},r.createElement(x.P,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.refMainScrollContainer,className:tb.jG,containerId:tS.rp,hideScrollbar:!c,onContextMenu:this.onContextMenu,scrollingDisabled:l||(e?t:!!this.props.dropdownShown)},d))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal())))))))}}function Eh({children:e,showRightSidebarPill:t}){let n=r.useRef(null);(0,to.C_)(n);let l=(0,ti.U1)(n),i=(0,E.b)(),a=(0,b.qM)();return r.createElement("div",{ref:l,className:F()(tb.KE,{[tb.tM]:t,[tb.Ph]:i&&!a})},e)}function Ey({appModel:e,colorFormat:t,dropdownShown:n,expandedFramePresetType:a,library:o,pickerShown:s,sceneGraphSelection:c,selectedStyleProperties:p,selectedView:d,selectionProperties:u,shownPanels:m,userFlags:E}){let _=(0,l.wA)(),h=(0,H.q5)(),{shouldShowSitesInteractionsPanel:y,shouldShowSitesLinkPanel:g}=(0,o5.Vj)(d)?{shouldShowSitesInteractionsPanel:m[i.ibQ.SITES_INTERACTIONS_ITEM],shouldShowSitesLinkPanel:m[i.ibQ.SITES_LINK_ITEM]}:{shouldShowSitesInteractionsPanel:!1,shouldShowSitesLinkPanel:!1},S=(0,tl.RB)(p)?p:u,b=!m[i.ibQ.FRAME_PRESETS]&&!m[i.ibQ.PENCIL_TOOL]&&!S.containsResponsiveSets;return r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:g},()=>r.createElement(ci.rC,{recordingKey:"linkPanel"})),r.createElement(tt.VF,{isVisible:y},()=>r.createElement(ci.GO,{recordingKey:"interactionsPanel"})),r.createElement(tt.VF,{isVisible:m[i.ibQ.FRAME_PRESETS]},()=>r.createElement(tZ.nl,{key:"frame-presets",recordingKey:"framePresetPanel",dispatch:_,expandedFramePresetType:a})),r.createElement(tt.VF,{isVisible:m[i.ibQ.PENCIL_TOOL]},()=>r.createElement(ns,{id:"pencilToolPanel",key:"pencilToolPanel",recordingKey:"pencilToolPanel",openFile:h})),r.createElement(tt.VF,{isVisible:b},()=>r.createElement(Ep,{key:"prototype",recordingKey:"prototypePanel",dispatch:_,selectionProperties:S,appModel:e,pickerShown:s,dropdownShown:n,currentTool:e.currentTool,colorFormat:t,sceneGraphSelection:c,editModeType:e.activeCanvasEditModeType,library:o,openFile:h,userFlags:E})))}function Eg({pickerShown:e,appModel:t,sceneGraphSelection:n,selectedStyleProperties:o,selectedView:s,selectionPaints:c,selectionProperties:d,shownPanels:u,scrollContainer:m,dropdownShown:E,colorFormat:_,modalShown:y,strokePanelMode:g,strokePanelTerminalPointCount:S,stylePickerShown:b,pickerInStyleCreationShown:f,library:v,stylePickerListLayout:T,allSavedPlugins:P,localPlugins:w,publishedPlugins:I}){let N=(0,l.wA)(),C=(0,a.md)(tX.b),A=(0,h.GS)(),M=(0,H.q5)(),O=(0,tQ.Yo)(),{shouldShowSitesPageMetadataPanel:x,shouldShowSitesCanvasOverlayPanel:R,shouldShowSitesPositionPanel:L,shouldShowSitesCodeComponentPanel:F,shouldShowSitesHTMLWidgetPanel:D,shouldShowSitesAccessibilityPanel:V,shouldShowSitesResponsivenessPanel:U}=(0,o5.Vj)(s)?{shouldShowSitesPageMetadataPanel:u[i.ibQ.SITES_PAGE_METADATA_ITEM],shouldShowSitesCanvasOverlayPanel:(0,K.kc)().internal_only_debug_tools,shouldShowSitesPositionPanel:u[i.ibQ.SITES_POSITION_ITEM],shouldShowSitesCodeComponentPanel:u[i.ibQ.SITES_CODE_COMPONENT_ITEM],shouldShowSitesHTMLWidgetPanel:u[i.ibQ.SITES_HTML_WIDGET_ITEM],shouldShowSitesAccessibilityPanel:u[i.ibQ.SITES_ACCESSIBILITY_ITEM],shouldShowSitesResponsivenessPanel:u[i.ibQ.SITES_RESPONSIVENESS_ITEM]}:{shouldShowSitesPageMetadataPanel:!1,shouldShowSitesCanvasOverlayPanel:!1,shouldShowSitesPositionPanel:!1,shouldShowSitesCodeComponentPanel:!1,shouldShowSitesHTMLWidgetPanel:!1,shouldShowSitesAccessibilityPanel:!1,shouldShowSitesResponsivenessPanel:!1},B=(0,K.kc)().sts_document_settings,G=tU(d.pasteSources),Y=()=>(0,tl.RB)(o)?o:d;return r.createElement(e8.i,null,A&&r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:(0,tl.tV)(u,d.stateGroupSelectionInfo),shouldShowInstancePanel:(0,tl.M0)(u,G),withBottomBorder:!(B&&x)}),r.createElement(tt.VF,{isVisible:B&&x},()=>r.createElement(ci.li,{recordingKey:"pageMetadataPanel"})),r.createElement(tt.VF,{isVisible:R},()=>r.createElement(ci.rf,null)),r.createElement(tt.VF,{isVisible:(0,tl.tV)(u,d.stateGroupSelectionInfo)},()=>r.createElement(n9,{key:"componentProperties",recordingKey:"propsPanel"})),r.createElement(tt.VF,{isVisible:u[i.ibQ.COMPONENT_ITEM]},()=>r.createElement(nb.cu,{key:"component",recordingKey:"componentPanel"})),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(u)&&(0,tl.M0)(u,G)},()=>r.createElement(lP._,{key:"instance",recordingKey:"instancePanel"})),r.createElement(tt.VF,{isVisible:L},()=>r.createElement(ci.Qc,{recordingKey:"positionPanel"})),r.createElement(tt.VF,{isVisible:u[i.ibQ.TRANSFORM_ITEM]},()=>r.createElement(iB.zq,{key:"transform",recordingKey:"transformPanel",openFileKey:M?.key||null,propertiesPanelState:C,pickerShown:e,canEditConstraints:A&&(0,tl.GG)(u),onlyShowXYInputsRow:A&&(C===tS.GR.DEFAULT_SIMPLIFIED||(Y().areOnlyResponsiveSetsSelected??!1))})),r.createElement(tt.VF,{isVisible:(0,tl.zp)(u,d,o,A)},()=>r.createElement(oc,{key:"stack",onlyShowResizingRow:A&&C===tS.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:!!u[i.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),r.createElement(tS.F$,{isVisible:u[i.ibQ.SCALE_ITEM]}),r.createElement(tt.VF,{isVisible:!B&&x},()=>r.createElement(ci.li,{recordingKey:"pageMetadataPanel"})),r.createElement(lv.Q,{selection:n,shownPanels:u,scaleShouldHideOtherPanels:(0,tl.NR)(u)}),r.createElement(tt.VF,{isVisible:u[i.ibQ.TEMPLATE_ITEM]},()=>r.createElement(oO,{key:"template"})),r.createElement(tt.VF,{isVisible:u[i.ibQ.VECTOR_ITEM]},()=>r.createElement(iB.Ss,{key:"vector-transform",recordingKey:"vectorTransformPanel",x:Y().x,y:Y().y,cornerRadius:Y().cornerRadius,handleMirroring:Y().handleMirroring,dispatch:N,dropdownShown:E,isUI3:A})),r.createElement(tt.VF,{isVisible:u[i.ibQ.MASK_ITEM]},()=>r.createElement(iv,{key:"mask",recordingKey:"maskPanel",maskType:d.maskType,dispatch:N,dropdownShown:E})),r.createElement(tt.VF,{isVisible:u[i.ibQ.LAYER_ITEM]},()=>A?r.createElement(se,{recordingKey:"appearancePanel"}):r.createElement(iE,{key:"layer",blendMode:d.blendMode,opacity:d.opacity,visible:d.visible,variableConsumptionInfo:d.variableConsumptionInfo,recordingKey:"layerPanel"})),r.createElement(tt.VF,{isVisible:u[i.ibQ.TYPE_ITEM]},()=>r.createElement(tS.gc,{key:"type",selectionProperties:d})),r.createElement(tt.VF,{isVisible:u[i.ibQ.CANVAS_ITEM]},()=>r.createElement(lh,{key:"canvas-background",backgroundColor:d.backgroundColor,backgroundEnabled:d.backgroundEnabled,backgroundOpacity:d.backgroundOpacity,exportBackgroundDisabled:d.exportBackgroundDisabled,dispatch:N,dropdownShown:E,modalShown:y,editModeType:t.activeCanvasEditModeType,pickerShown:e,currentTool:t.currentTool,colorFormat:_,library:v,openFile:M,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,defaultColor:te.rC,sceneGraphSelection:n,selectedStyleProperties:o,hasExports:!!d.exportSettings&&(0,ts._W)(d.exportSettings,[]).length>0})),r.createElement(tt.VF,{isVisible:u[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]},()=>r.createElement(ik,{key:"remove-group-fill-stroke"})),r.createElement(tt.VF,{isVisible:(0,tl.fI)(u,(0,tl.NR)(u),c)},()=>r.createElement(tr.UA,{key:"selection-paints",selectionPaints:c,recordingKey:"selectionPaintsPanel",dispatch:N,dropdownShown:E,sceneGraphSelection:n,currentSelectedGradientStop:t.currentSelectedGradientStop,pickerShown:e,stylePickerListLayout:T,currentTool:t.currentTool,colorFormat:_,editModeType:t.activeCanvasEditModeType,defaultColor:te.rC,library:v,openFile:M,isUI3:A})),r.createElement(tt.VF,{isVisible:u[i.ibQ.FILL_ITEM]},()=>r.createElement(tS.B8,{key:"fill",selectionProperties:d,variableScopes:tB(d)})),r.createElement(tt.VF,{isVisible:u[i.ibQ.STROKE_ITEM]},()=>r.createElement(tr.$p,{key:"stroke",stylePickerShown:b,strokePanelMode:g,strokePanelTerminalPointCount:S,strokePaints:d.strokePaints,borderSharedWeight:d.borderSharedWeight,strokeWeight:d.strokeWeight,strokeAlign:d.strokeAlign,strokeCap:d.strokeCap,strokeJoin:d.strokeJoin,miterLimitAngle:d.miterLimitAngle,connectorLineStyle:d.connectorLineStyle,leftEndCap:d.leftEndCap,rightEndCap:d.rightEndCap,maxStrokeWeight:d.maxStrokeWeight,dashPattern:d.dashPattern,dashCap:d.dashCap,terminalCap:d.terminalCap,arcRadius:d.arcRadius,arcSweep:d.arcSweep,numSelectedByType:d.numSelectedByType,dispatch:N,dropdownShown:E,modalShown:y,pickerShown:e,pickerInStyleCreationShown:f,stylePickerListLayout:T,currentSelectedProperty:t.currentSelectedProperty,currentSelectedGradientStop:t.currentSelectedGradientStop,currentTool:t.currentTool,colorFormat:_,editModeType:t.activeCanvasEditModeType,defaultColor:te.Em,inheritStyleKey:d.inheritFillStyleKeyForStroke||null,inheritStyleID:d.styleIdForStrokeFill||null,library:v,sceneGraphSelection:n,selectedStyleProperties:o,openFile:M,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})),r.createElement(tt.VF,{isVisible:u[i.ibQ.EFFECTS_ITEM]},()=>r.createElement(tS.w5,{key:"effects",selectionProperties:d})),r.createElement(tt.VF,{isVisible:u[i.ibQ.GRIDS_ITEM]},()=>r.createElement(tS.tC,{key:"grids",selectionProperties:d})),r.createElement(tt.VF,{isVisible:F},()=>r.createElement(ci.nl,{recordingKey:"codeComponentPanel"})),r.createElement(tt.VF,{isVisible:D},()=>r.createElement(ci.Mr,null)),r.createElement(tt.VF,{isVisible:V},()=>r.createElement(ci.l,{recordingKey:"accessibilityPanel"})),r.createElement(tt.VF,{isVisible:U},()=>r.createElement(ci.eg,{key:"responsiveness"})),r.createElement(tt.VF,{isVisible:(0,p.U9)()&&!1},()=>r.createElement(t$.a8,{selection:n})),r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(t$.fy,{selection:n})),r.createElement(tt.VF,{isVisible:(0,tl.ji)(u,t,n,!1)},()=>r.createElement(oL,{key:"local-variables"})),r.createElement(tt.VF,{isVisible:(0,tl.ww)(u,n,!1)},()=>r.createElement(r2,{key:"local-styles",scrollContainer:m,recordingKey:"local-styles"})),r.createElement(tt.VF,{isVisible:!(0,tl.NR)(u)},()=>r.createElement(iC.Q,{key:"plugin",recordingKey:"pluginPanel",pluginRelaunchData:Y().pluginRelaunchData,localPlugins:w,publishedPlugins:I,allSavedPlugins:P.plugins,orgEntity:O,dispatch:N,openFileKey:M?.key||null,editorType:M?.editorType?(0,k.wN)(M.editorType):null,numSelected:Y().numSelected??0})))}function ES({shownPanels:e}){return r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:e[i.ibQ.SLIDES_ANIMATION]},()=>r.createElement(cQ,null)))}function Eb(e){let{numSelectedByType:t}=e;return!!t&&(0,ix.vx)(t,"SLIDE")}function Ef(e){let{numSelectedByType:t}=e;return!!(t?.TEXT&&t.TEXT>0)}function Ev({appModel:e,colorFormat:t,dropdownShown:n,library:a,pickerShown:o,sceneGraphSelection:s,selectionPaints:c,selectionProperties:p,shownPanels:d,stylePickerListLayout:u}){let m=(0,l.wA)(),E=(0,H.q5)(),_=(0,h.GS)(),y=tU(p.pasteSources);return d[i.ibQ.PENCIL_TOOL]?r.createElement(tt.VF,{isVisible:!0},()=>r.createElement(ns,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:E,recordingKey:"pencilToolPanel"})):r.createElement(e8.i,null,r.createElement(tt.VF,{isVisible:!(0,K.kc)().piper_layout_panel&&(0,tl.d6)(d)&&!Eb(p)},()=>r.createElement(co,{recordingKey:"slidesAlignPanel"})),_&&r.createElement(sn._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:(0,tl.tV)(d,p.stateGroupSelectionInfo),shouldShowInstancePanel:(0,tl.M0)(d,y),shouldShowSlidesTypePanel:d[i.ibQ.TYPE_ITEM]}),r.createElement(tt.VF,{isVisible:d[i.ibQ.SLIDES_THEME]},()=>r.createElement(oH,{recordingKey:"slidesThemePanel"})),r.createElement(tt.VF,{isVisible:(0,tl.M0)(d,y)},()=>r.createElement(dp,{recordingKey:"slidesInstancePanel"})),r.createElement(tt.VF,{isVisible:function(e,t){let n=(0,tl.d6)(e)||e[i.ibQ.TRANSFORM_ITEM];return!!(0,K.kc)().piper_layout_panel&&!Eb(t)&&!!n}(d,p)},()=>r.createElement(dv,{recordingKey:"slidesLayoutPanel"})),r.createElement(tt.VF,{isVisible:d[i.ibQ.TYPE_ITEM]},()=>r.createElement(uS,{recordingKey:"slidesTypePanel"})),r.createElement(tt.VF,{isVisible:d[i.ibQ.FILL_ITEM]},()=>r.createElement(dl,{recordingKey:"slidesFillPanel"})),r.createElement(tt.VF,{isVisible:d[i.ibQ.SLIDES_OPACITY_ITEM]},()=>r.createElement(dC,{recordingKey:"slidesOpacityPanel"})),r.createElement(tt.VF,{isVisible:d[i.ibQ.STROKE_ITEM]},()=>r.createElement(pP,{recordingKey:"slidesCornerPanel"})),r.createElement(tt.VF,{isVisible:d[i.ibQ.STROKE_ITEM]&&!Ef(p)},()=>r.createElement(pg,{recordingKey:"slidesBorderPanel"})),r.createElement(tt.VF,{isVisible:d[i.ibQ.EFFECTS_ITEM]},()=>r.createElement(dR,{recordingKey:"slidesShadowPanel"})),r.createElement(tt.VF,{isVisible:d[i.ibQ.TYPE_ITEM]&&function(e){let{numSelectedByType:t}=e;return!!t&&Ef(e)&&(0,ix.OU)(t,["TEXT"])}(p)},()=>r.createElement(dw,{recordingKey:"slidesLinkPanel"})),r.createElement(tt.VF,{isVisible:(0,tl.fI)(d,(0,tl.NR)(d),c)},()=>r.createElement(tr.UA,{key:"selection-paints",selectionPaints:c,recordingKey:"selectionPaintsPanel",dispatch:m,dropdownShown:n,sceneGraphSelection:s,currentSelectedGradientStop:e.currentSelectedGradientStop,pickerShown:o,stylePickerListLayout:u,currentTool:e.currentTool,colorFormat:t,editModeType:e.activeCanvasEditModeType,defaultColor:te.rC,library:a,openFile:E,isUI3:_,customColorPicker:tn.GY,hideCustomColorPickerFillTypeToggle:!1})),r.createElement(tt.VF,{isVisible:d[i.ibQ.SLIDES_EMBED]},()=>r.createElement(pC,{selection:s})),r.createElement(tt.VF,{isVisible:d[i.ibQ.SLIDES_INTERACTIVE_WIDGET]},()=>r.createElement(dm,{selection:s})))}E_.displayName="PropertiesPanel";let ET=(0,eX.jz)(rg.uj0),EP=e=>{e=(0,eU.clamp)(e,ET+1,500),(0,y.UK)().propertiesPanelSplitPosition.set(e)};function Ew(e){let t=(0,l.wA)(),n=(0,r.useCallback)(t=>{e.selectedStyleProperties&&(0,eQ.fn)(e.selectedStyleProperties.guid)&&(t.event.keyCode===ej.Uz.ESCAPE?(t.accept(),i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID)):t.event.keyCode===ej.Uz.F&&i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID))},[e.selectedStyleProperties]),a=(0,r.useCallback)(({styleType:e,inheritStyleKeyField:n,nodeId:r,rowLeft:l,rowTop:i})=>{t(e0.sw()),t(e0.Zs({rowLeft:l,rowTop:i,styleType:e,inheritStyleKeyField:n,nodeId:r}))},[t]),o=(0,r.useCallback)(()=>{i.glU.selectStyle(ez.n3.INVALID,ez.IA.INVALID),t(e0.sw()),t((0,e1.B)())},[t]),s=null,c=e=>{s=e},p=(0,r.useCallback)((t,n)=>{if(e.isUI3)return;let r={ease:"easeInOut",duration:.2,delay:e.isCollapsed?void 0:.05};return e.isCollapsed?{initial:{left:`calc(${t}px + ${n})`},animate:{left:`calc(${t}px + ${n})`,display:"block",transitionEnd:{display:"none"}},transition:r}:{initial:{left:0},transition:r}},[e.isCollapsed,e.isUI3]),d=e.propertiesPanelTab,u=d===i.FAf.COMMENT,m=(0,e6.P)(e.selectedView),E=e.isUI3,_=(0,y.UK)().propertiesPanelSplitPosition.getCopy(),h=E?"number"==typeof _&&_>ET+1?_:ET+1:tl.iP+1,g=E?`${(0,eX.jz)(rg.M$q)}px`:"var(--spacer-2)",S=E&&e.isCollapsed,b=(0,r.useCallback)(()=>{let t=d===i.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,e4.Nf)(e.appModel),selectedNodeIds:Object.keys(e.sceneGraphSelection),panelMode:m?t:void 0}},[e.sceneGraphSelection,e.appModel,m,d]),f=e.appModel.topLevelMode===i.lyf.HISTORY;return r.createElement(r.Fragment,null,e.isLoading?r.createElement(tK,{shouldAnimate:e.shouldAnimateLoadingState,refMainScrollContainer:c,onKeyDown:n,stylePreviewShown:e.stylePreviewShown,isInsetEditorEnabled:e.isInsetEditorEnabled,stylePreviewModal:r.createElement(tD,{onCloseStylePreviewModal:o,stylePreviewShown:e.stylePreviewShown,propertiesPanelTab:e.propertiesPanelTab,selectedStyleProperties:e.selectedStyleProperties,openFile:e.openFile,recordingKey:eJ.Pt(e,"modal"),thumbnailRecordingKey:eJ.Pt(e,"stylePreviewPanel"),appModel:e.appModel,library:e.library,user:e.user,dispatch:t})}):r.createElement(eZ.k,{name:"properties_panel",trackingEnabled:(0,K.kc)().trackable_properties||m,alsoTrack:b,trackImpressions:!1},r.createElement(e3.vL,{name:"propertiesPanel",focusOnMount:!u,handleKeyDown:n},r.createElement(e7.lk.Provider,{value:a},r.createElement(eB.V,{className:F()(tb.Lp,{[tb.R]:!e.appModel.showUi,[tb.dn]:S,[tb.Ph]:e.isInsetEditorEnabled&&!e.isUIMinimized,[tb.Fo]:"side_panel"===e.inProductHelpViewType}),style:{width:h,"--inProductHelpSidePanelWidth":`${e.inProductHelpSidePanelWidth}px`}},e.shouldShowBackgroundGradient&&!e.isInsetEditorEnabled&&r.createElement(eq.T,{side:"right"}),r.createElement(eY.X,null,r.createElement(eH.lY,{className:F()(tb.ux,eG.Dm,{[tb.ew]:e.rulersVisible,[tb.Ph]:e.isInsetEditorEnabled&&!e.isUIMinimized,[tb.Jq]:!e.justChangedMinimizeUIValue}),onContextMenu:tL,"data-onboarding-key":"properties-panel",size:h,onResize:EP,side:"left",animation:p(h,g),"data-cancel-insertable-resource-drag-and-drop":!0},r.createElement(tF,{showRightSidebarPill:S},e.isUI3&&r.createElement(Ed.qW,{openFile:e.openFile,dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user,isIntegration:(0,e5.ck)(),selectedView:e.selectedView,recordingKey:e.recordingKey}),f&&r.createElement(e2.yU,{recordingKey:"versionHistoryView",isUI3:E}),!S&&!f&&r.createElement(EI,{scrollContainer:s,refMainScrollContainer:c,...e}),r.createElement(tD,{onCloseStylePreviewModal:o,stylePreviewShown:e.stylePreviewShown,propertiesPanelTab:e.propertiesPanelTab,selectedStyleProperties:e.selectedStyleProperties,openFile:e.openFile,recordingKey:eJ.Pt(e,"modal"),thumbnailRecordingKey:eJ.Pt(e,"stylePreviewPanel"),appModel:e.appModel,library:e.library,user:e.user,dispatch:t})))))))))}function EI({scrollContainer:e,refMainScrollContainer:t,...n}){let l=(0,eo.Xr)(tX.b),a=(0,r.useRef)();(0,r.useEffect)(()=>{let e=a.current,t=n.selectionProperties.productComponentGUIDBackingInstances;if(e!==t){a.current=t;let e=tS.GR.DEFAULT_EXPANDED;if(t){let r=n.sceneGraph.get(t);r?.simplifyInstancePanels&&(e=tS.GR.DEFAULT_SIMPLIFIED)}l(e)}},[n.selectionProperties.productComponentGUIDBackingInstances,n.sceneGraph,l]);let o=n.user,s=(0,m.my)()===k.nT.Design,c=(0,d.Kf)({isDesign:s,isUnauth:!o})(),u=n.appModel.topLevelMode,E=n.propertiesPanelTab,_=n.appModel.isReadOnly,h=u!==i.lyf.PREVIEW&&(u!==i.lyf.BRANCHING||!(0,tl.S4)(n.appModel,n.user))&&u!==i.lyf.DEV_HANDOFF,y=h&&E===i.FAf.DESIGN,g=h&&E===i.FAf.SLIDE,S=h&&E===i.FAf.SLIDE_ANIMATION,b=u===i.lyf.LAYOUT&&!_&&E===i.FAf.SITE,f=u!==i.lyf.PREVIEW&&u!==i.lyf.BRANCHING&&E===i.FAf.PROTOTYPE,v=(0,p.U9)()&&u===i.lyf.LAYOUT&&!_&&E===i.FAf.DAKOTA,T=u===i.lyf.PREVIEW&&!n.userStateLoaded&&!c||E===i.FAf.INSPECT,P=u===i.lyf.LAYOUT&&!_&&E===i.FAf.COOPER,w=u===i.lyf.LAYOUT&&!_&&E===i.FAf.COOPER_PUBLISH,I=u===i.lyf.LAYOUT&&!_&&E===i.FAf.COOPER_EXPORT,N=u===i.lyf.LAYOUT&&!_&&E===i.FAf.COOPER_TABULAR,C=(0,K.kc)().livefish&&u===i.lyf.LAYOUT&&!_&&E===i.FAf.LIVING_DESIGNS,A=E===i.FAf.EXPORT,M=E===i.FAf.COMMENT;return r.createElement(r.Fragment,null,r.createElement(uA,{recordingKey:n.recordingKey,activeTab:n.propertiesPanelTab,shouldRenderInspectTab:(0,tl.S4)(n.appModel,n.user),shouldShowAlignControls:(0,tl.d6)(n.shownPanels),isUI3:n.isUI3}),r.createElement(cn,{recordingKey:n.recordingKey,appModel:n.appModel,dropdownShown:n.dropdownShown,pickerShown:n.pickerShown,propertiesPanelTab:n.propertiesPanelTab,refMainScrollContainer:t,selectedStyleProperties:n.selectedStyleProperties},y&&r.createElement(su,{scrollContainer:e,...n}),g&&r.createElement(Ev,{appModel:n.appModel,colorFormat:n.colorFormat,dropdownShown:n.dropdownShown,library:n.library,pickerShown:n.pickerShown,sceneGraphSelection:n.sceneGraphSelection,selectionPaints:n.selectionPaints,selectionProperties:n.selectionProperties,shownPanels:n.shownPanels,stylePickerListLayout:n.stylePickerListLayout}),S&&r.createElement(ES,{shownPanels:n.shownPanels}),b&&r.createElement(Eg,{scrollContainer:e,allSavedPlugins:n.allSavedPlugins,appModel:n.appModel,dropdownShown:n.dropdownShown,library:n.library,pickerShown:n.pickerShown,sceneGraphSelection:n.sceneGraphSelection,selectionPaints:n.selectionPaints,selectionProperties:n.selectionProperties,shownPanels:n.shownPanels,stylePickerListLayout:n.stylePickerListLayout,colorFormat:n.colorFormat,localPlugins:n.localPlugins,modalShown:n.modalShown,pickerInStyleCreationShown:n.pickerInStyleCreationShown,stylePickerShown:n.stylePickerShown,publishedPlugins:n.publishedPlugins,selectedStyleProperties:n.selectedStyleProperties,selectedView:n.selectedView,strokePanelMode:n.strokePanelMode,strokePanelTerminalPointCount:n.strokePanelTerminalPointCount}),f&&r.createElement(Ey,{appModel:n.appModel,colorFormat:n.colorFormat,dropdownShown:n.dropdownShown,expandedFramePresetType:n.expandedFramePresetType,library:n.library,pickerShown:n.pickerShown,sceneGraphSelection:n.sceneGraphSelection,selectedStyleProperties:n.selectedStyleProperties,selectedView:n.selectedView,selectionProperties:n.selectionProperties,shownPanels:n.shownPanels,userFlags:n.userFlags}),v&&r.createElement(tz,null),T&&r.createElement(sg,{scrollContainer:e,selectionProperties:n.selectionProperties}),P&&r.createElement(tG,{appModel:n.appModel,colorFormat:n.colorFormat,dropdownShown:n.dropdownShown,library:n.library,pickerShown:n.pickerShown,sceneGraphSelection:n.sceneGraphSelection,selectionPaints:n.selectionPaints,selectionProperties:n.selectionProperties,shownPanels:n.shownPanels,stylePickerListLayout:n.stylePickerListLayout}),w&&r.createElement(tY,null),N&&r.createElement(tW,null),C&&r.createElement(s9,null),I&&r.createElement(tH,{appModel:n.appModel,dropdownShown:n.dropdownShown,saveAsState:n.saveAsState}),A&&r.createElement(sE,{appModel:n.appModel,dropdownShown:n.dropdownShown,pickerShown:n.pickerShown,saveAsState:n.saveAsState,sceneGraphSelection:n.sceneGraphSelection,selectedStyleProperties:n.selectedStyleProperties,selectionProperties:n.selectionProperties}),M&&r.createElement(n.commentsPanel,null)))}function EN(e){let{dispatch:t,...n}=e,l=(0,T.iZ)(),i=(0,m.my)()===k.nT.Design,a=(0,d.Kf)({isDesign:i,isUnauth:!l});return r.createElement(r.Fragment,null,(0,K.kc)().properties_panel_refactor?r.createElement(Ew,{...n}):r.createElement(E_,{...e,inLoggedOutDesktopRevampExp:a()}))}let Ek=r.memo(function(){let e=(0,l.wA)(),t=(0,l.d4)(e=>(0,I.getPermissionsState)(e)),n=(0,v.aV)(),h=(0,g.q)(),A=(0,l.d4)(e=>e.loadingState),M=(0,l.d4)(e=>e.mirror.appModel),O=(0,a.md)(N.wm),x=(0,l.d4)(e=>e.mirror.sceneGraphSelection),R=(0,l.d4)(e=>e.mirror.selectionPaints),L=(0,l.d4)(e=>e.mirror.selectionProperties),F=(0,l.d4)(e=>e.mirror.selectedStyleProperties),D=(0,l.d4)(e=>e.currentUserOrgId),V=(0,l.d4)(e=>e.dropdownShown),K=(0,l.d4)(e=>e.fonts),U=(0,l.d4)(e=>e.fileVersion),B=(0,l.d4)(e=>e.installedPluginVersions),G=(0,l.d4)(e=>e.library),H=(0,l.d4)(e=>e.localPlugins),Y=(0,l.d4)(e=>e.modalShown),W=(0,l.d4)(e=>e.multiplayer),$=(0,l.d4)(e=>e.openFile),z=(0,l.d4)(e=>e.pickerShown),Q=(0,l.d4)(e=>e.pickerInStyleCreationShown),j=(0,l.d4)(e=>e.publishedPlugins),J=(0,l.d4)(e=>e.saveAsState),Z=(0,l.d4)(e=>e.selectedView),q=(0,l.d4)(e=>e.voice.showWidget),ee=(0,l.d4)(e=>e.stylePickerListLayout),et=(0,l.d4)(e=>e.stylePickerShown),en=(0,l.d4)(e=>e.stylePreviewShown),er=(0,l.d4)(e=>e.styleSets),el=(0,l.d4)(e=>e.usedKeyboardShortcuts),ei=(0,l.d4)(e=>e.user),ea=(0,l.d4)(e=>e.userFlags),eo=(0,l.d4)(e=>e.userStateLoaded),es=!!ei,ec=(0,l.d4)(e=>e.repos),ep=(0,l.d4)(e=>e.folders),ed=(0,l.d4)(e=>e.teams),eu=(0,l.d4)(e=>e.orgById),em=(0,l.d4)(e=>e.orgDraftsOwners),eE=(0,l.d4)(e=>e.orgUsersByOrgId),e_=(0,l.d4)(e=>e.userEduGracePeriods),eh=(0,l.d4)(e=>e.licenseGroups),{topLevelMode:ey}=M,eg=n?S.R.topLevelMode:ey,eS=(0,w.ut)(i.Ez5?.uiState().isRecovery,!1),eb=(0,nO.R)(),ef=(0,w.ut)(i.Ez5?.slidesToolMode(),i.EMA.SLIDES),ev=(0,w.ut)(i.Ez5?.cooperToolMode(),i.iN$.COOPER),eT=(0,th.sO)(),eP=(0,o5.cJ)(),ew=(0,c.g)(),eI=(0,p.HQ)(),eN=(0,sD.ED)(),ek=(0,m.my)()===k.nT.Design,eC=(0,T.iZ)(),eA=(0,d.Kf)({isDesign:ek,isUnauth:!eC})(),eM=(eg===i.lyf.LAYOUT||eg===i.lyf.BRANCHING||eS||es&&eg===i.lyf.PREVIEW||!es&&eg===i.lyf.PREVIEW&&eA||eb&&eg===i.lyf.HISTORY)&&!eI&&!eN,eO=(0,P.VP)(A,"edit_button_upgrading_to_edit"),ex=n||eO,eR=(0,w.ut)((0,f.aY)(),i.FAf.DESIGN),eL=(0,w.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels),eF=(0,w.J2)(i.Ez5.propertiesPanelState().strokePanelMode),eD=(0,w.J2)(i.Ez5.propertiesPanelState().strokePanelTerminalPointCount),eV=(0,w.J2)((0,y.UK)().expandedFramePresetType),eK=(0,y.Ku)(),eU=(0,y.qw)(),eB=(0,E.b)(),eG=(0,w.J2)(i.Ez5.uiState().showPropertiesPanel);(0,_.tt)();let eH=!(0,u.Oo)()&&eb&&eG,eY=(0,w.J2)((0,y.UK)().renderRulers),{isRightPanelCollapsed:eW}=(0,r.useContext)(C.t),{inProductHelpViewType:ez}=(0,X.A5)(),eQ=(0,w.J2)(i.Ez5.uiState().inProductHelpSidePanelWidth),eX=(0,b.Tn)(),ej=(0,b.qM)(),eJ=(0,r.useMemo)(()=>eP?eR===i.FAf.DESIGN||eR===i.FAf.SITE?i.FAf.SITE:eR:eT?eR===i.FAf.DESIGN||eR===i.FAf.SLIDE?ef===i.EMA.SLIDES?i.FAf.SLIDE:i.FAf.DESIGN:eR:ew?eR===i.FAf.DESIGN||eR===i.FAf.COOPER?ev===i.iN$.COOPER?i.FAf.COOPER:i.FAf.DESIGN:eR:eA?i.FAf.COMMENT:eR,[eP,eT,ew,eR,ef,ev,eA]);return(0,r.useEffect)(()=>{eJ!==eR&&f.aY()?.set(eJ)},[eJ,eR]),r.createElement(s.tH,{boundaryKey:"PropertiesPanel",fallback:s.H4.NONE_I_KNOW_WHAT_IM_DOING},eM&&h&&r.createElement(r.Fragment,null,r.createElement(EN,{recordingKey:"propertiesPanel",isCollapsed:eW,propertiesPanelTab:eJ,strokePanelMode:eF,strokePanelTerminalPointCount:eD,commentsPanel:EC,dispatch:e,isLoading:ex,shouldAnimateLoadingState:n,shouldShowBackgroundGradient:eH,shownPanels:eL,rulersVisible:eY,isInsetEditorEnabled:eB,expandedFramePresetType:eV,colorFormat:eK,propertiesPanelSplitPosition:eU,permissionsState:t,key:(0,o.tw)()??void 0,appModel:M,sceneGraph:O,sceneGraphSelection:x,selectionPaints:R,selectionProperties:L,selectedStyleProperties:F,currentUserOrgId:D,dropdownShown:V,fonts:K,fileVersion:U,allSavedPlugins:B,library:G,localPlugins:H,modalShown:Y,multiplayer:W,openFile:$,pickerShown:z,pickerInStyleCreationShown:Q,publishedPlugins:j,saveAsState:J,selectedView:Z,stylePickerListLayout:ee,stylePickerShown:et,stylePreviewShown:en,styleSets:er,usedKeyboardShortcuts:el,user:ei,userFlags:ea,userStateLoaded:eo,repos:ec,folders:ep,teams:ed,orgById:eu,orgDraftsOwners:em,orgUsersByOrgId:eE,userEduGracePeriods:e_,licenseGroups:eh,isUI3:eb,showVoiceWidget:q,hasMergedDimensionsAndAutolayout:eb,inProductHelpViewType:ez,inProductHelpSidePanelWidth:eQ,justChangedMinimizeUIValue:eX,isUIMinimized:ej}),"hidden"!==ez&&r.createElement(e$,{propertiesPanelWidth:eU,isInsetEditorEnabled:eB}),r.createElement(ir.tZ,null)))}),EC=r.memo(function(){let e=(0,w.ut)((0,f.aY)(),i.FAf.DESIGN),t=(0,l.d4)(e=>e.mirror.appModel.topLevelMode),n=!(0,h.GS)()&&(t!==i.lyf.PREVIEW&&e!==i.FAf.COMMENT||t===i.lyf.PREVIEW);return r.createElement(A.B,{stackHeader:n,hideResolve:!1})})},171447:(e,t,n)=>{n.d(t,{Mk:()=>eF,X7:()=>ex,sP:()=>eW});var r=n(411855),l=n(188507),i=n(140686),a=n(256296),o=n(427113),s=n(374626),c=n(153234),p=n(30637),d=n(939863),u=n(723081),m=n(226055),E=n(617453),_=n(848661),h=n(318812),y=n(94500),g=n(279702),S=n(498606),b=n(218973),f=n(966712),v=n(454072),T=n(809831),P=n(205135);let w=[0,0,0,0],I=r.createContext([w,()=>{}]);function N({easingFunction:e,children:t}){let[n,l]=r.useState(e||w);return r.useEffect(()=>{e&&l(e)},[e]),e?r.createElement(I.Provider,{value:[n,l]},t):r.createElement(r.Fragment,null,t)}var k=n(7959),C=n(504456),A=n(994481),M=n(91408),O=n(572206),x=n(168039),R=n(834447),L=n(616121);let F="prototype_easing_editor--springInput--PEy5a",D="prototype_easing_editor--springLabel--khIGL",V=r.memo(function(e){var t=(0,M.jz)("208px");e.isNarrowPanel&&(t=(0,M.jz)("184px"));let n=(t-100)/2,l=new O.Mi(n,n+100),i=new O.Mi(n+100,n),a=(0,x.yM)(),o=a?.colorIcon||L.PN,s=a?.colorBg||L.Vm,p=a?.colorIconTertiary||L.c7,d=a.colorIconBrand,{tempBezierValues:u,setTempBezierValues:E,updateSelectionProperties:_}=e,h=r.useRef(null),[y,g]=r.useState(null);r.useLayoutEffect(()=>{if(null!==y)return document.addEventListener("mousemove",S,!0),document.addEventListener("mouseup",b,!0),()=>{document.removeEventListener("mousemove",S,!0),document.removeEventListener("mouseup",b,!0)}}),r.useLayoutEffect(()=>{h.current&&P(h.current)});let S=e=>{if(e.stopPropagation(),null===y||!h.current)return;let t=1===y.index?new O.Mi(0,0):new O.Mi(1,1),r=K(T(new O.Mi(e.clientX,e.clientY)),y.mouseDownT,t,n,100);1===y.index?E([r.x,r.y,u[2],u[3]]):2===y.index&&E([u[0],u[1],r.x,r.y])},b=c.rf(e.recordingKey,"mouseup",e=>{if(e.stopPropagation(),null===y||!h.current)return;let t=1===y.index?new O.Mi(0,0):new O.Mi(1,1),r=K(T(new O.Mi(e.clientX,e.clientY)),y.mouseDownT,t,n,100);1===y.index?_({easingFunction:[r.x,r.y,u[2],u[3]]}):2===y.index&&_({easingFunction:[u[0],u[1],r.x,r.y]}),g(null),C.$2.trigger("activateBezierAnimation")},{recordMetadata:e=>{let t=T(new O.Mi(e.clientX,e.clientY));return{left:t.x,top:t.y}},playbackMetadata:e=>{let t=v(new O.Mi(e.left,e.top));return{clientX:t.x,clientY:t.y}}}),f=c.rf(e.recordingKey,"mousedown",e=>{e.stopPropagation();let t=T(new O.Mi(e.clientX,e.clientY)),r=U(new O.Mi(u[0],u[1]),n,100),a=U(new O.Mi(u[2],u[3]),n,100);if(5>O.Mi.distance(t,r)){g({index:1,mouseDownT:1}),C.$2.trigger("resetBezierAnimation");return}if(5>O.Mi.distance(t,a)){g({index:2,mouseDownT:1}),C.$2.trigger("resetBezierAnimation");return}if(B(t,l,10)){_({easingFunction:[0,0,u[2],u[3]]});return}if(B(t,i,10)){_({easingFunction:[u[0],u[1],1,1]});return}let[o,s]=G(t,l,r);if(o<5){g({index:1,mouseDownT:s}),C.$2.trigger("resetBezierAnimation");return}let[c,p]=G(t,i,a);if(c<5){g({index:2,mouseDownT:p}),C.$2.trigger("resetBezierAnimation");return}if(function(e,t,n,r){let[l]=G(e,n,r);return l<5}(t,0,l,i)){_({easingFunction:[0,0,1,1]});return}},{recordMetadata:e=>{let t=T(new O.Mi(e.clientX,e.clientY));return{left:t.x,top:t.y}},playbackMetadata:e=>{let t=v(new O.Mi(e.left,e.top));return{clientX:t.x,clientY:t.y}}});function v(e){let t=h.current.getBoundingClientRect();return new O.Mi(t.left+e.x,t.top+e.y)}function T(e){let t=h.current.getBoundingClientRect();return new O.Mi(e.x-t.left,e.y-t.top)}let P=e=>{let r=e.getContext("2d");if(!r)return;let a=window.devicePixelRatio||1;e.width=a*t,e.height=a*t,e.style.width=t+"px",e.style.height=t+"px",r.scale(a,a);let c=new O.Mi(l.x,i.y),m=new O.Mi(i.x,l.y),E=U(new O.Mi(u[0],u[1]),n,100),_=U(new O.Mi(u[2],u[3]),n,100);r.lineWidth=1,r.clearRect(0,0,t,t),r.strokeStyle=p,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.lineTo(m.x,m.y),r.stroke(),r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(i.x,i.y),r.stroke(),r.setLineDash([13,6]),r.lineDashOffset=6,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(i.x,i.y),r.lineTo(m.x,m.y),r.stroke(),r.fillStyle=o,r.beginPath(),r.arc(l.x,l.y,2,0,2*Math.PI,!1),r.fill(),r.beginPath(),r.arc(i.x,i.y,2,0,2*Math.PI,!1),r.fill(),r.strokeStyle=o,r.setLineDash([]),r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(E.x,E.y),r.stroke(),r.beginPath(),r.moveTo(i.x,i.y),r.lineTo(_.x,_.y),r.stroke(),r.beginPath(),r.moveTo(l.x,l.y),r.bezierCurveTo(E.x,E.y,_.x,_.y,i.x,i.y),r.stroke();let h=(e,t)=>{switch(null!==y&&e===y.index?"SELECTED":1===e?0===u[0]&&0===u[1]?"RESET":"NORMAL":1===u[2]&&1===u[3]?"RESET":"NORMAL"){case"RESET":r.strokeStyle=o,r.fillStyle=s;break;case"NORMAL":r.strokeStyle=s,r.fillStyle=o;break;case"SELECTED":r.strokeStyle=s,r.fillStyle=d}r.lineWidth=1,r.beginPath(),r.arc(t.x,t.y,4.5,0,2*Math.PI),r.fill(),r.stroke()};h(1,E),h(2,_)},w=r.createElement("div",{className:e.isNarrowPanel?"prototype_easing_editor--bezierCurveContainerNarrow--3m-Op prototype_easing_editor--bezierCurveContainer--Myl0y":"prototype_easing_editor--bezierCurveContainer--Myl0y"},r.createElement("canvas",{ref:h,onMouseDown:f}));return(0,m.GS)()?r.createElement(A.TN,{appendedClassName:R.Rk},w):w});function K(e,t,n,r,l){let i=new O.Mi((e.x-r)/l,(r+l-e.y)/l);t=Math.max(.01,t);let a=i.subtract(n).divide(new O.Mi(t,t)).add(n);return new O.Mi(Math.max(Math.min(a.x,1),0),a.y)}function U(e,t,n){return new O.Mi(t+n*e.x,t+n*(1-e.y))}function B(e,t,n){return O.Mi.distance(e,t)<n/2}function G(e,t,n){let r=O.Mi.dot(O.Mi.subtract(e,t),O.Mi.subtract(n,t))/O.Mi.distance(t,n)**2;r=Math.min(Math.max(r,0),1);let l=O.Mi.add(t,O.Mi.scale(r,O.Mi.subtract(n,t)));return[O.Mi.distance(e,l),r]}var H=n(346124),Y=n(629019),W=n.n(Y);class ${constructor(e=1,t=0){this.m00=e,this.m10=t}translate(e){return this.m10+=e,this}scale(e){return this.m00*=e,this.m10*=e,this}static fromRangeMapping(e,t,n,r){return new $().translate(-e).scale((r-n)/(t-e)).translate(n)}static fromConstant(e){return new $().scale(0).translate(e)}static invert(e){return new $(1/e.m00,-e.m10/e.m00)}transformValue(e){return e*this.m00+this.m10}transformDirection(e){return e*this.m00}}class z{constructor(e,t){this.transform1=e,this.transform2=t}transformValue(e){return this.transform2.transformValue(this.transform1.transformValue(e))}}class Q{constructor({hardLimit:e,threshold:t,initialValue:n,slowFunction:r,slowFunctionInverse:l}){this.slowFunction=r,this.slowFunctionInverse=l,this.mapToSlowSpace=$.fromRangeMapping(t,e,0,-1),this.mapToSlowSpaceInverse=$.invert(this.mapToSlowSpace),this.initialValueInSlowSpace=this.mapToSlowSpace.transformValue(n)}transformValue(e){let t=this.mapToSlowSpace.transformValue(e);t>this.initialValueInSlowSpace&&(this.initialValueInSlowSpace=t);let n=this.slowFunctionInverse(this.initialValueInSlowSpace)-this.initialValueInSlowSpace;return this.mapToSlowSpaceInverse.transformValue(this.slowFunction(t+n))}}function X(e){return e>=0?e:1/(1-e)-1}function j(e){return e>=0?e:1-1/(e+1)}class J extends Q{constructor({hardLimit:e,threshold:t,initialValue:n}){super({hardLimit:e,threshold:t,initialValue:n,slowFunction:X,slowFunctionInverse:j})}}var Z=n(623711),q=n(708918);let ee="prototype_easing_spring_curve--springvisHandle--0mFVz",et="prototype_easing_spring_curve--springvisHandleActive--5RaLT";function en(e){return{x:(0,H.clamp)(e.x,0,1),y:(0,H.clamp)(e.y,0,2)}}function er(e,t){return(0,Z._J)((0,Z.my)(en(e),t),Z.kM)}function el(e){return{handle:e,offset:null}}function ei(e){let[t,n]=r.useState({width:e.isNarrowPanel?182:215,height:e.isNarrowPanel?114:128}),i=t.width,a=t.height,o=(0,r.useRef)(null),s=(0,m.GS)();r.useEffect(()=>{let e=new ResizeObserver(e=>{for(let t of e){let{width:e,height:r}=t.contentRect;n({width:e,height:r})}});return s&&o.current&&e.observe(o.current),()=>{e.disconnect()}},[s]);let c=$.fromRangeMapping(0,1,8,i-8),p=$.fromRangeMapping(2,0,8,a-8),d=$.invert(c),u=$.invert(p),E=d.transformDirection(1),[_,h]=(0,r.useState)(null),y=(0,l.wA)(),g=(0,r.useCallback)(e=>{let t=o.current.getBoundingClientRect();return{x:d.transformValue(e.clientX-t.left),y:u.transformValue(e.clientY-t.top)}},[d,u]),S=e.value,b=(0,q.Y1)(S),f=b&&en((0,Z.im)(S)),v=b&&(0,Z.xX)(S);(0,r.useEffect)(()=>{if(!_)return;let t=t=>{t.stopPropagation();let n=g(t);if(f){if(_.offset)e.onInput(er({x:_.offset.x.transformValue(n.x),y:_.offset.y.transformValue(n.y)},S));else if("SPRING_HANDLE"===_.handle){let e={x:new $().translate(f.x-n.x),y:new $().translate(f.y-n.y)};h({..._,offset:{x:new z(e.x,new J({hardLimit:0,threshold:.15,initialValue:f.x})),y:new z(e.y,new J({hardLimit:2,threshold:1.8,initialValue:f.y}))}})}else if("SCALE_BACKGROUND"===_.handle){let e=n.x>f.x?{x:new $().scale(f.x/n.x),y:$.fromConstant(f.y)}:{x:new $().translate(f.x-n.x),y:$.fromConstant(f.y)};h({..._,offset:{x:new z(e.x,new J({hardLimit:0,threshold:.08,initialValue:f.x})),y:e.y}})}else if("DURATION_HANDLE"===_.handle&&v){let e={x:new $().translate(v-n.x).scale(f.x/v),y:$.fromConstant(f.y)};h({..._,offset:{x:new z(e.x,new J({hardLimit:0,threshold:.08,initialValue:f.x})),y:e.y}})}}else e.onInput(er(n,S)),h({..._,handle:"SPRING_HANDLE"})},n=t=>{t.stopPropagation(),h(null),(0,q.Y1)(S)&&e.onChange(S,_.handle)},r=e=>{e.stopPropagation()},l=e=>{e.stopPropagation()};return document.addEventListener("pointermove",t),document.addEventListener("pointerup",n),document.addEventListener("mousemove",l,!0),document.addEventListener("mouseup",r,!0),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n),document.removeEventListener("mousemove",l,!0),document.removeEventListener("mouseup",r,!0)}},[_,S,f,v,e,y,g]);let T=(0,r.useCallback)(t=>{let n=er(g(t),S);e.onChange(n,"DOUBLE_CLICK")},[e,S,g]),P={cursor:"ew-resize"};return r.createElement("div",{onMouseDown:e=>{e.stopPropagation()},className:"prototype_easing_spring_curve--springvisContainer--6iDnn",style:(0,m.GS)()?void 0:{width:i,height:a},ref:o},r.createElement("svg",{width:i,height:a,viewBox:`0 0 ${i} ${a}`,xmlns:"http://www.w3.org/2000/svg",onDoubleClick:T},r.createElement("line",{className:"prototype_easing_spring_curve--springvisGuideline--aYSpJ",x1:c.transformValue(0),y1:p.transformValue(1),x2:c.transformValue(1),y2:p.transformValue(1)}),b&&f&&v&&r.createElement(r.Fragment,null,r.createElement("path",{className:"prototype_easing_spring_curve--springvisSpringCurve--aOLEK",fill:"none",style:{transition:"none"},d:function(e,t,n,r){let l=`M ${t.transformValue(0)},${n.transformValue(0)}`;for(let i=0;i<=1;i+=r){let r=(0,q.Zp)(e,i);if(isNaN(r))return"";l+=`L ${t.transformValue(i)},${n.transformValue(r)}`}return l}(S,c,p,E)}),r.createElement("rect",{className:W()(ee,_&&("DURATION_HANDLE"===_.handle||"SCALE_BACKGROUND"===_.handle)&&et),x:c.transformValue(v)-2.5,y:p.transformValue(1)-7.5,width:5,height:15,rx:2.5,ry:2.5}),r.createElement("circle",{className:W()(ee,_&&"SPRING_HANDLE"===_.handle&&et),cx:c.transformValue(f.x),cy:p.transformValue(f.y),r:5})),r.createElement("rect",{x:0,y:0,width:i,height:a,fill:"transparent",style:P,onPointerDown:()=>{h(el("SCALE_BACKGROUND")),C.BG.trigger("resetSpringAnimation")}}),v&&r.createElement(r.Fragment,null,r.createElement("circle",{cx:c.transformValue(v),cy:p.transformValue(1),r:20,fill:"transparent",style:P,onPointerDown:()=>{h(el("DURATION_HANDLE")),C.BG.trigger("resetSpringAnimation")}})),f&&r.createElement(r.Fragment,null,r.createElement("circle",{cx:c.transformValue(f.x),cy:p.transformValue(f.y),r:20,fill:"transparent",onPointerDown:()=>{h(el("SPRING_HANDLE")),C.BG.trigger("resetSpringAnimation")}}))))}function ea(e){if(!(0,q.Y1)(e)){let t=e[q.hD.STIFFNESS],n=e[q.hD.DAMPING];e[q.hD.MASS]>0||(e[q.hD.MASS]=1),t>0||(e[q.hD.STIFFNESS]=Z.wH.MIN_STIFFNESS),n>0||(e[q.hD.DAMPING]=Z.wH.MIN_DAMPING)}return e}let eo=r.memo(function(e){let t=(0,l.wA)(),n=(0,m.GS)(),i=(0,T.cJ)(),a=t=>{e.updateSelectionProperties({easingFunction:t}),C.$2.trigger("activateBezierAnimation")},o=(n,r,l)=>{let i=(0,q.J5)(n);e.updateSelectionProperties({easingFunction:n,transitionDuration:i}),C.BG.trigger("restartSpringAnimation"),l===g.zk.YES&&t((0,y._P)({name:"Prototype Spring Animations Set Custom Value",params:{editedValue:r,...(0,Z.F4)(n)}}))},s=(t,l)=>{let i=r.createElement(ei,{value:t,onInput:l,onChange:(e,t)=>{o(e,t,g.zk.YES)},recordingKey:c.Pt(e,"springCurve"),isNarrowPanel:e.isNarrowPanel});return n?r.createElement(A.TN,{appendedClassName:R.Rk},i):r.createElement("div",{className:"prototype_easing_editor--springCurveContainer--mNWzA"},i)},p=l=>{let i=r.createElement(b.$j,{id:"easing-editor-spring-stiffness-input",className:F,"data-tooltip-type":S.Ib.TEXT,min:Z.wH.MIN_STIFFNESS,max:Z.wH.MAX_STIFFNESS,bigNudgeAmount:10,smallNudgeAmount:1,"data-tooltip":(0,d.t)("proto.easing_editor.spring_stiffness"),tooltipForScreenReadersOnly:!0,value:l[q.hD.STIFFNESS],onValueChange:(e,t)=>{let n=ea(l.slice());n[q.hD.STIFFNESS]=e,o(n,"STIFFNESS",t)},recordingKey:c.Pt(e,"springStiffnessInput"),dispatch:t}),a=(0,d.tx)("proto.easing_editor.spring_stiffness");return n?r.createElement(A.cS,{label:a,input:i}):r.createElement(k.fI,null,r.createElement(k.JU,{className:D,htmlFor:"easing-editor-spring-stiffness-input"},a),i)},u=l=>{let i=r.createElement(b.$j,{id:"easing-editor-spring-damping-input",className:F,"data-tooltip-type":S.Ib.TEXT,min:Z.wH.MIN_DAMPING,max:Z.wH.MAX_DAMPING,bigNudgeAmount:10,smallNudgeAmount:1,"data-tooltip":(0,d.t)("proto.easing_editor.spring_damping"),tooltipForScreenReadersOnly:!0,value:l[q.hD.DAMPING],onValueChange:(e,t)=>{let n=ea(l.slice());n[q.hD.DAMPING]=e,o(n,"DAMPING",t)},recordingKey:c.Pt(e,"springDampingInput"),dispatch:t}),a=(0,d.tx)("proto.easing_editor.spring_damping");return n?r.createElement(A.cS,{label:a,input:i}):r.createElement(k.fI,null,r.createElement(k.JU,{className:D,htmlFor:"easing-editor-spring-damping-input"},a),i)},E=l=>{let i=r.createElement(b.$j,{id:"easing-editor-spring-mass-input",className:F,"data-tooltip-type":S.Ib.TEXT,min:Z.wH.MIN_MASS,max:Z.wH.MAX_MASS,bigNudgeAmount:10,smallNudgeAmount:1,"data-tooltip":(0,d.t)("proto.easing_editor.spring_mass"),tooltipForScreenReadersOnly:!0,value:l[q.hD.MASS],onValueChange:(e,t)=>{let n=ea(l.slice());n[q.hD.MASS]=e,o(n,"MASS",t)},recordingKey:c.Pt(e,"springMassInput"),dispatch:t}),a=(0,d.tx)("proto.easing_editor.spring_mass");return n?r.createElement(A.cS,{label:a,input:i}):r.createElement(k.fI,null,r.createElement(k.JU,{className:D,htmlFor:"easing-editor-spring-mass-input"},a),i)},_=t=>{let l=r.createElement(P.nA,{className:"prototype_easing_editor--input--2fhlq",formatter:v.n,property:t,onChange:a,recordingKey:c.Pt(e,"cubicBezierFunctionInput")});return n?r.createElement(A.cS,{label:(0,d.tx)("proto.easing_behavior.bezier"),input:l}):r.createElement(k.fI,null,l)},h=(t,n)=>r.createElement(V,{tempBezierValues:t,setTempBezierValues:n,updateSelectionProperties:e.updateSelectionProperties,recordingKey:c.Pt(e,"cubicBezierCurve"),isNarrowPanel:e.isNarrowPanel}),w=i&&(0,f.kc)().sts_interaction_interop;return r.createElement(I.Consumer,null,([t,n])=>r.createElement("div",null,"CUSTOM_BEZIER"===e.easingType?w?r.createElement(r.Fragment,null,_(t),h(t,n)):r.createElement(r.Fragment,null,h(t,n),_(t)):"CUSTOM_SPRING"===e.easingType?w?r.createElement(r.Fragment,null,p(t),u(t),E(t),s(t,n)):r.createElement(r.Fragment,null,s(t,n),p(t),u(t),E(t)):null))});var es=n(102165),ec=n(276660),ep=n(538697),ed=n(843709),eu=n(837746);let em="prototype_animation_panel--transitionRightCol--3L083",eE="prototype_animation_panel--input--p60KV",e_="prototype_animation_panel--chevron--cje-0";var eh=n(558021),ey=n(46202),eg=n(23966),eS=n(266785),eb=n(172413),ef=n(992386),ev=n(630282),eT=n(28669),eP=["LINEAR","SELECT_DIVIDER","EASE_IN","EASE_OUT","EASE_IN_AND_OUT","EASE_IN_BACK","EASE_OUT_BACK","EASE_IN_AND_OUT_BACK","CUSTOM_BEZIER","SELECT_DIVIDER","GENTLE","QUICK","BOUNCY","SLOW","CUSTOM_SPRING"];let ew={scrollTo:["INSTANT","SCROLL_ANIMATE"],nonScrollTo:["INSTANT","DISSOLVE","SMART_ANIMATE","SELECT_DIVIDER","MOVE","MOVE_OUT","PUSH","SLIDE","SLIDE_OUT"]};function eI(e,t,n){let r="DRAG"!==e||"INSTANT"!==n&&"DISSOLVE"!==n,l=!1;switch(t){case"NAVIGATE":l="SCROLL_ANIMATE"!==n;break;case"OVERLAY":l=["INSTANT","DISSOLVE","MOVE"].indexOf(n??"")>=0;break;case"SCROLL_TO":l=["INSTANT","SCROLL_ANIMATE"].indexOf(n??"")>=0;break;case"SWAP":l=["INSTANT","DISSOLVE","MOVE","SMART_ANIMATE"].indexOf(n??"")>=0;break;case"SWAP_STATE":l=["INSTANT","DISSOLVE","SMART_ANIMATE"].indexOf(n??"")>=0}return l&&r}let eN="RIGHT";function ek(e){switch(e.behavior){case"INSTANT":return{transitionType:"INSTANT_TRANSITION"};case"DISSOLVE":return{transitionType:"DISSOLVE"};case"FADE":return{transitionType:"FADE"};case"PUSH":case"SLIDE":case"MOVE":if(!e.direction)return{transitionType:`${e.behavior}_FROM_${eN}`};return{transitionType:`${e.behavior}_FROM_${e.direction}`};case"SLIDE_OUT":case"MOVE_OUT":if(!e.direction)return{transitionType:`${e.behavior}_TO_${eN}`};return{transitionType:`${e.behavior}_TO_${e.direction}`};case"SMART_ANIMATE":return{transitionType:"SMART_ANIMATE"};case"SCROLL_ANIMATE":return{transitionType:"SCROLL_ANIMATE"};default:return{}}}function eC(e){switch(e.easing){case"EASE_IN":return{easingType:"IN_CUBIC"};case"EASE_OUT":return{easingType:"OUT_CUBIC"};case"EASE_IN_AND_OUT":return{easingType:"INOUT_CUBIC"};case"LINEAR":return{easingType:"LINEAR"};case"EASE_IN_BACK":return{easingType:"IN_BACK_CUBIC"};case"EASE_OUT_BACK":return{easingType:"OUT_BACK_CUBIC"};case"EASE_IN_AND_OUT_BACK":return{easingType:"INOUT_BACK_CUBIC"};case"CUSTOM_BEZIER":return{easingType:"CUSTOM_CUBIC"};case"GENTLE":return{easingType:"GENTLE_SPRING"};case"QUICK":return{easingType:"SPRING_PRESET_ONE"};case"BOUNCY":return{easingType:"SPRING_PRESET_TWO"};case"SLOW":return{easingType:"SPRING_PRESET_THREE"};case"CUSTOM_SPRING":return{easingType:"CUSTOM_SPRING"};default:return{}}}function eA(e){return"GENTLE"===e||"QUICK"===e||"BOUNCY"===e||"SLOW"===e||"CUSTOM_SPRING"===e}function eM(e,t){switch(e.easing){case"EASE_IN":return{easingFunction:[.42,0,1,1]};case"EASE_OUT":return{easingFunction:[0,0,.58,1]};case"EASE_IN_AND_OUT":return{easingFunction:[.42,0,.58,1]};case"LINEAR":return{easingFunction:[0,0,1,1]};case"EASE_IN_BACK":return{easingFunction:[.3,-.05,.7,-.5]};case"EASE_OUT_BACK":return{easingFunction:[.45,1.45,.8,1]};case"EASE_IN_AND_OUT_BACK":return{easingFunction:[.7,-.4,.4,1.4]};case"CUSTOM_BEZIER":return!(0,_.hS)(e.easingFunction)||t?{easingFunction:[0,0,.58,1]}:{easingFunction:e.easingFunction};case"GENTLE":return{easingFunction:[1,100,15,0]};case"QUICK":return{easingFunction:[1,300,20,0]};case"BOUNCY":return{easingFunction:[1,600,15,0]};case"SLOW":return{easingFunction:[1,80,20,0]};case"CUSTOM_SPRING":return!(0,_.hS)(e.easingFunction)||t?{easingFunction:[1,100,15,0]}:{easingFunction:(0,q.w_)(e.easingFunction)};default:return{}}}function eO(e,t){if((0,_.hS)(e.easing)){if(eA(e.easing)){let n=eM(e,t).easingFunction;if(n&&(0,_.hS)(n))return{transitionDuration:(0,q.J5)(n)}}else if(t)return{transitionDuration:.3}}if((0,_.hS)(e.duration))return e.duration?{transitionDuration:e.duration}:{}}function ex({transition:e,interactionType:t,navigationType:n,recordingKey:p,isNarrowPanel:u,stateManagementVersion:f,updateSelectionProperties:v}){let T=(0,l.wA)(),P=(0,h.Um)(),w=(0,E.EU)(),M=(0,s.md)(es.x),O=(0,m.GS)(),x=(t,n)=>{let r=e.easingFunction;if((0,_.hS)(r)){let e=(0,Z.PQ)(t,(0,q.w_)(r)),l=(0,q.J5)(e);v({easingFunction:e,transitionDuration:l}),C.BG.trigger("restartSpringAnimation"),n===g.zk.YES&&T((0,y._P)({name:"Prototype Spring Animations Set Custom Value",params:{editedValue:"DURATION",...(0,Z.F4)(e)}}))}},R=(0,_.E7)(e.behavior),L=(0,_.E7)(n),F="NAVIGATE"===L,D="INSTANT"!==e.behavior&&"DISSOLVE"!==e.behavior&&"SMART_ANIMATE"!==e.behavior&&"SCROLL_ANIMATE"!==e.behavior,V="INSTANT"!==e.behavior&&eI(t,L,(0,_.E7)(e.behavior)),K=V&&!M;V=eI(t,L,(0,_.E7)(e.behavior));let U=!e.isSpringTransition||"INSTANT"===e.behavior,B="INSTANT"===e.behavior,G=r.createElement(eG,{className:"prototype_animation_panel--transitionLeftCol--33VAT",property:e.easing,dispatch:T,dropdownShown:P,onChange:t=>{T((0,y._P)({name:"Prototype Transition Easing Changed",params:{newEasing:t}}));let n={...e,easing:t},r=e.easing,l=!(0,_.hS)(r)||eA(t)!==eA(r);v({...eC(n),...eM(n,l),...eO(n,l)}),setTimeout(()=>{eA(t)?C.BG.trigger("restartSpringAnimation"):C.$2.trigger("activateBezierAnimation")},0)},recordingKey:c.Pt(p,"easingDropdown")}),H=r.createElement(r.Fragment,null,U&&r.createElement(b.W4,{className:O?ed.Lp:em,inputClassName:O?ed.Gl:void 0,dispatch:T,value:e.duration,onValueChange:t=>{T((0,y._P)({name:"Prototype Transition Duration Changed",params:{newDuration:t}})),v({...eO({...e,duration:t})})},wheelMultiplier:w/10,scrubMultiplier:.004166666666666667,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,d.t)("proto.animation_panel.easing_duration_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:c.Pt(p,"durationInput")},O?r.createElement(o.A,null):void 0),!B&&(0,_.hS)(e.easing)&&eA(e.easing)&&(0,_.hS)(e.easingFunction)&&r.createElement(I.Consumer,null,([e])=>r.createElement(b.W4,{className:O?ed.Lp:em,inputClassName:O?ed.Gl:void 0,dispatch:T,value:(0,Z.xX)((0,q.w_)(e)),onValueChange:x,wheelMultiplier:w/10,scrubMultiplier:.004166666666666667,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,d.t)("proto.animation_panel.easing_duration_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:c.Pt(p,"springDurationInput")},O?r.createElement(o.A,null):void 0))),Y=O?r.createElement(r.Fragment,null,r.createElement(A.cS,{label:(0,d.tx)("proto.curve"),input:G}),r.createElement(A.cS,{label:(0,d.tx)("proto.duration"),input:H})):r.createElement(k.fI,null,G,H),W=r.createElement(eK,{className:O?void 0:D?"prototype_animation_panel--shortSelect--Hcoa7":"prototype_animation_panel--longSelect--JgkKH",interactionType:t,navigationType:L,property:e.behavior,dispatch:T,dropdownShown:P,onChange:t=>{T((0,y._P)({name:"Prototype Transition Type Changed",params:{newType:t,oldType:(0,_._W)(e.behavior,"MIXED"),smartAnimateMatchingLayers:(0,_._W)(e.shouldSmartAnimate,null)}}));let n={...e,behavior:t};v({...ek(n),...eC(n),...eM(n),...eO(n),...function(e,t){if((0,_.hS)(e.preserveScroll)&&1!==t)return{transitionPreserveScroll:e.preserveScroll}}(n,f),...function(e){if((0,_.hS)(e.resetVideoPosition))return{transitionResetVideoPosition:e.resetVideoPosition}}(n)})},recordingKey:c.Pt(p,"behaviorDropdown")}),$=D?r.createElement(eW,{className:"prototype_animation_panel--transitionDirection--Nmb6Y",property:e.direction?e.direction:null,onChange:t=>{T((0,y._P)({name:"Prototype Transition Direction Changed",params:{newDirection:t,oldDirection:(0,_._W)(e.direction,"MIXED")}})),v({...ek(e.direction?{...e,direction:t}:{...e,direction:t,behavior:"MOVE"})})},recordingKey:c.Pt(p,"directionControl")}):null,z=O?D?r.createElement(r.Fragment,null,r.createElement(A.cS,{label:(0,d.tx)("proto.animation"),input:W})):r.createElement(A.cS,{label:(0,d.tx)("proto.animation"),input:W}):r.createElement(k.fI,null,W,$),Q=D&&r.createElement(A.cS,{label:(0,d.tx)("proto.direction"),input:$}),X=r.createElement(i.S,{onChange:t=>{let n=(0,_.E7)(e.behavior);T((0,y._P)({name:"Smart Animate Changed",params:{newValue:t,transitionType:n}})),v({...function(e){if((0,_.hS)(e.shouldSmartAnimate))return{transitionShouldSmartAnimate:e.shouldSmartAnimate}}({...e,shouldSmartAnimate:t})})},checked:!0===e.shouldSmartAnimate,mixed:(0,_.gl)(e.shouldSmartAnimate),recordingKey:c.Pt(p,"transition-should-smart-animate"),label:r.createElement(a.J,null,(0,d.tx)("proto.animation_panel.animate_matching_layers"))}),j=O?r.createElement(A.TN,null,X):r.createElement(k.fI,{className:"prototype_animation_panel--checkboxRow----O-1 checkbox--_checkboxRow--oEhow","data-tooltip-type":S.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":(0,d.t)("proto.animation_panel.smart_animate_matching_layers_tooltip")},X);return r.createElement(k.Zk,{className:"prototype_animation_panel--animationPanel--9dIh2"},z,V&&!B&&F&&("MOVE"==R||"MOVE_OUT"==R||"PUSH"==R||"SLIDE"==R||"SLIDE_OUT"==R)&&j,O&&Q,r.createElement(N,{easingFunction:(0,_.hS)(e.easingFunction)?e.easingFunction:null},V&&!B&&Y,V&&!B&&("CUSTOM_BEZIER"===e.easing||"CUSTOM_SPRING"===e.easing)&&(0,_.hS)(e.easingFunction)&&r.createElement(eo,{easingType:e.easing,easingFunction:e.easingFunction,duration:e.duration,updateSelectionProperties:v,recordingKey:c.Pt(p,"easingEditor"),isNarrowPanel:u})),K&&r.createElement("div",{className:"prototype_animation_panel--previewPane--q9Wvl"},!U&&r.createElement(C.SA,{transition:e,isNarrowPanel:u,isUI3:O}),U&&r.createElement(C.ub,{transition:e,isNarrowPanel:u,isUI3:O})))}class eR extends ep.l6{}class eL extends ep.c${}class eF{formatImpl(e,t){if(null==e)return"";switch(e){case"LINEAR":return(0,d.t)("proto.easing_behavior.linear");case"EASE_IN":return(0,d.t)("proto.easing_behavior.bezier_ease_in");case"EASE_OUT":return(0,d.t)("proto.easing_behavior.bezier_ease_out");case"EASE_IN_AND_OUT":return(0,d.t)("proto.easing_behavior.bezier_ease_in_and_out");case"EASE_IN_BACK":return(0,d.t)("proto.easing_behavior.bezier_ease_in_back");case"EASE_OUT_BACK":return(0,d.t)("proto.easing_behavior.bezier_ease_out_back");case"EASE_IN_AND_OUT_BACK":return(0,d.t)("proto.easing_behavior.bezier_ease_in_and_out_back");case"CUSTOM_BEZIER":return t?(0,d.t)("proto.easing_behavior.bezier_custom"):(0,d.t)("proto.easing_behavior.bezier_custom_short");case"GENTLE":return(0,d.t)("proto.easing_behavior.spring_gentle");case"QUICK":return(0,d.t)("proto.easing_behavior.spring_quick");case"BOUNCY":return(0,d.t)("proto.easing_behavior.spring_bouncy");case"SLOW":return(0,d.t)("proto.easing_behavior.spring_slow");case"CUSTOM_SPRING":return t?(0,d.t)("proto.easing_behavior.spring_custom"):(0,d.t)("proto.easing_behavior.spring_custom_short");default:return new u._r().format(e)}}format(e){return this.formatImpl(e,!1)}formatExtended(e){return{text:this.formatImpl(e,!0)}}}let eD=new eF,eV=new u.el;class eK extends r.PureComponent{render(){let e="SCROLL_TO"===this.props.navigationType?ew.scrollTo:ew.nonScrollTo;return r.createElement(eR,{id:`animation-behavior-select-${this.props.recordingKey}`,className:this.props.className,chevronClassName:e_,inputClassName:eE,dropdownWidth:eu.DxS,property:this.props.property,formatter:eV,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:c.Pt(this.props,"select"),dataTestId:"transition-select",hideDropdownWhenContainerMoves:!(0,p.nl)(),dataOnboardingKey:"transition_behavior_select_onboarding_key"},e.map((e,t)=>"SELECT_DIVIDER"===e?r.createElement(ep.sK,{key:t}):r.createElement(eL,{key:e,value:e,disabled:!eI(this.props.interactionType,this.props.navigationType,e),recordingKey:c.Pt(this.props,e)})))}}eK.displayName="TransitionBehaviorDropdown";class eU extends ep.l6{}class eB extends ep.c${}class eG extends r.PureComponent{render(){return r.createElement(eU,{id:`easing-type-select-${this.props.recordingKey}`,className:this.props.className,chevronClassName:e_,inputClassName:eE,dropdownWidth:eu.DxS,property:this.props.property,formatter:eD,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:c.Pt(this.props,"select"),dataOnboardingKey:"easing"},eP.map((e,t)=>"SELECT_DIVIDER"===e?r.createElement(ep.sK,{key:t}):r.createElement(eB,{key:t,value:e,disabled:!1,recordingKey:c.Pt(this.props,e)})))}}eG.displayName="TransitionEasingDropdown";class eH extends ec.I{}class eY extends ec.Y{}class eW extends r.PureComponent{render(){return r.createElement(eH,{className:this.props.className,property:this.props.property,onChange:this.props.onChange,recordingKey:this.props.recordingKey},r.createElement(eY,{value:"RIGHT",svg:eg.A,fallbackSvg:eS.A,recordingKey:c.Pt(this.props,"right")}),r.createElement(eY,{value:"LEFT",svg:eb.A,fallbackSvg:ef.A,recordingKey:c.Pt(this.props,"left")}),r.createElement(eY,{value:"TOP",svg:eh.A,fallbackSvg:ey.A,recordingKey:c.Pt(this.props,"top")}),r.createElement(eY,{value:"BOTTOM",svg:ev.A,fallbackSvg:eT.A,recordingKey:c.Pt(this.props,"bottom")}))}}eW.displayName="TransitionDirectionControl"},623711:(e,t,n)=>{n.d(t,{F4:()=>y,PQ:()=>h,_J:()=>u,im:()=>c,kM:()=>d,my:()=>p,wH:()=>i,xX:()=>E});var r=n(346124),l=n(708918);class i{}i.MAX_W0=1e3,i.MIN_W0=.1,i.MAX_ZETA=1,i.MIN_ZETA=1e-4,i.MIN_MASS=.01,i.MIN_STIFFNESS=.01,i.MIN_DAMPING=.01,i.MAX_MASS=100,i.MAX_STIFFNESS=1e4,i.MAX_DAMPING=1e3;let a=Math.PI/i.MAX_W0;function o(e){let t=e[l.hD.STIFFNESS],n=e[l.hD.DAMPING],r=e[l.hD.MASS];return{frequency:Math.sqrt(t/r),zeta:n/(2*Math.sqrt(t*r))}}function s({frequency:e,zeta:t},n){let a=n[l.hD.MASS]>0?(0,r.clamp)(n[l.hD.MASS],i.MIN_MASS,i.MAX_MASS):1,o=e*e*a,s=2*t*Math.sqrt(o*a),c=n.slice();return c[l.hD.MASS]=a,c[l.hD.STIFFNESS]=o,c[l.hD.DAMPING]=s,c}function c(e){return function({frequency:e,zeta:t}){return{x:Math.max(Math.PI/e,0),y:2-2*Math.pow((0,r.clamp)(t,0,1),.87)}}(o(e))}function p(e,t){return s({frequency:(0,r.clamp)(Math.PI/Math.max(a,e.x),i.MIN_W0,i.MAX_W0),zeta:(0,r.clamp)(Math.pow((2-e.y)/2,1.1494252873563218),i.MIN_ZETA,i.MAX_ZETA)},t)}let d=3;function u(e,t){return e[l.hD.STIFFNESS]=m(e[l.hD.STIFFNESS],t),e[l.hD.DAMPING]=m(e[l.hD.DAMPING],t),e}function m(e,t){return+e.toPrecision(t)}function E(e){let{frequency:t,zeta:n}=o(e);return _/(t*n)}let _=6;function h(e,t){let n=o(t).zeta;return u(s({frequency:_/e/n,zeta:n},t),4)}function y(e){let t=c(e),n=E(e);return{mass:e[l.hD.MASS],stiffness:e[l.hD.STIFFNESS],damping:e[l.hD.DAMPING],handleX:t.x,handleY:t.y,duration:n}}},708918:(e,t,n)=>{function r(e,t){return function(e,t,n,r,l){let i,a,o;let s=Math.sqrt(t/e),c=n/(2*Math.sqrt(t*e));return c<1?(i=s*Math.sqrt(1-c*c),a=1,o=(c*s+-r)/i):(i=0,a=1,o=-r+s),1-(l=c<1?Math.exp(-l*c*s)*(a*Math.cos(i*l)+o*Math.sin(i*l)):(a+o*l)*Math.exp(-l*s))}(e[0],e[1],e[2],e[3],t)}function l(e){return function(e,t){let n=e[1],r=e[2],l=e[0],i=e[3],a=Math.sqrt(n/l),o=Math.min(.9999,r/(2*Math.sqrt(n*l))),s=a*Math.sqrt(1-o*o);return(-Math.log(.001)+Math.log(1+(o*a+Math.abs(i))/s))/(o*a)}(e,0)}n.d(t,{J5:()=>l,Y1:()=>a,Zp:()=>r,hD:()=>i,w_:()=>o});var i=(e=>(e[e.MASS=0]="MASS",e[e.STIFFNESS=1]="STIFFNESS",e[e.DAMPING=2]="DAMPING",e[e.INITIAL_VELOCITY=3]="INITIAL_VELOCITY",e))(i||{});function a(e){let t=e[1],n=e[2],r=e[0];return t>0&&n>0&&r>0}function o(e){return a(e)?e:[1,100,10,0]}},102165:(e,t,n)=>{n.d(t,{x:()=>r});let r=(0,n(38580).eU)(!1)},630978:(e,t,n)=>{n.d(t,{q:()=>M});var r=n(411855),l=n(188507),i=n(69107),a=n(648839),o=n(587670),s=n(629019),c=n.n(s),p=n(939683),d=n(163023),u=n(46481),m=n(939863),E=n(617453),_=n(848661),h=n(555074),y=n(279702),g=n(498606),S=n(218973),b=n(760066),f=n(952675),v=n(538697),T=n(377835),P=n(893606),w=n(692142),I=n(221537),N=n(12519),k=n(329652),C=n(30562);let A="STACK_COUNTER_SPACING";function M({focusOnMount:e,source:t,onCanvasUI:n,...s}){let M=(0,l.wA)(),{smallNudgeAmount:O,bigNudgeAmount:x}=(0,E.sT)(),[R,L]=(0,h.lJ)("stackCounterSpacing"),F=(0,h.kl)("stackCounterSpacingSynced"),[D,V]=(0,h.lJ)("stackCounterAlignContent"),K=(0,p.am)(),U=(0,r.useRef)(!1),B=(0,P.R)(),G=(0,_.gl)(D)?_.oV:"SPACE_BETWEEN"===D?_.Q8:R,H=(0,r.useRef)(null);r.useEffect(()=>{e&&(H.current?.focus(),H.current?.select())},[e]);let{boundVariable:Y,consumedVariable:W}=(0,w.O)(A,o.rXF.FLOAT);(0,r.useEffect)(()=>{Y&&"SPACE_BETWEEN"===D&&V("AUTO",y.zk.NO)},[Y,D,V]);let{clearVariableConsumption:$}=(0,w.O)(A,o.rXF.FLOAT),z=(0,I.lW)({smallNudgeAmount:O,bigNudgeAmount:x,min:0,allowEmpty:!0}),Q=(e,n)=>{n&&(K("autolayout_counter_spacing_changed",{source:t,input:U.current?"scrub":"textfield",value:(0,_.SX)(e)?"Auto":e}),o.glU.temporarilyHideOverlay(o.hJs.SELECTION)),"number"==typeof e||null===e?(V("AUTO",y.zk.NO),L(e,n)):($(),V("SPACE_BETWEEN",n))},X=(0,m.t)("fullscreen.properties_panel.stack_panel.gap_rows_vertical"),j="spacing-rows-vertical-icon",J=[r.createElement(v.c$,{key:"value",value:(0,i.isNumber)(R)?R:x}),r.createElement(v.c$,{key:"auto",value:_.Q8})],Z=F&&"SPACE_BETWEEN"!==D;if(!n){let e=r.createElement(u.U,{svg:C.A},r.createElement(a.W,null));return r.createElement(f.ow,{value:{select:B?N.pW:void 0,inputComponent:B?N.gm:void 0}},r.createElement(v.tV,{value:{chevron:B?T.t:void 0}},r.createElement(w.S,{id:"stackCounterSpacing",options:J,mixedMathHandler:I.lL,inputRef:H,inputClassName:s.inputClassName,outerClassName:c()(s.outerClassName,{[k.Sz]:B}),value:Z?void 0:G,scrubStartValue:Z?G:void 0,formatter:z,onChange:Q,noBorderOnFocus:s.noBorderOnFocus,noLeftBorder:s.noLeftBorder,squareRightBorder:s.squareRightBorder,tooltipText:X,iconId:j,onFocus:s.onFocus,onBlur:s.onBlur,onMouseEnter:s.onMouseEnter,onMouseLeave:s.onMouseLeave,onScrubBegin:s.onScrubBegin,onScrubEnd:s.onScrubEnd,onKeyDown:s.onKeyDown,onPaste:s.onPaste,onNudge:s.onNudge,recordingKey:s.recordingKey,inputTestId:s.inputTestId,icon:e,variableField:A,source:t,placeholder:Z&&(0,_.hS)(G)?z.format(G):void 0,allowEmpty:!0,shiftVariableOptionToAlign:!0,dropdownWidth:140})))}return r.createElement(b.sA,{recordingKey:s.recordingKey,inputClassName:s.outerClassName,fields:[A],currentFieldValue:(0,_.hS)(R)?R:void 0,resolvedType:o.rXF.FLOAT,disableEntryPoint:n},r.createElement(S.Se,{noBorderOnHover:!0,isTokenizable:!0,forwardedRef:H,inputClassName:c()(k.hF,s.inputClassName),value:Z?void 0:G,scrubStartValue:Z?G:void 0,allowEmpty:!0,wheelMultiplier:O,scrubMultiplier:O,smallNudgeAmount:O,bigNudgeAmount:x,onValueChange:Q,mixedMathHandler:I.bd,dispatch:M,noBorderOnFocus:s.noBorderOnFocus,noLeftBorder:s.noLeftBorder,squareRightBorder:s.squareRightBorder,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":X,"data-tooltip-proxy-element-id":W?j:void 0,onFocus:s.onFocus,onBlur:s.onBlur,onMouseEnter:s.onMouseEnter,onMouseLeave:s.onMouseLeave,onScrubBegin:e=>{U.current=!0,s.onScrubBegin?.(e)},onScrubEnd:e=>{U.current=!1,s.onScrubEnd?.(e)},onKeyDown:s.onKeyDown,onPaste:s.onPaste,onNudge:s.onNudge,recordingKey:s.recordingKey,dataTestId:s.inputTestId,min:0,placeholder:Z&&(0,_.hS)(G)?z.format(G):void 0},r.createElement(d.B,{className:c()(k.QK,s.svgClassName),svg:C.A,"data-tooltip-type":W?g.Ib.TEXT:void 0,"data-tooltip":W?X:void 0,id:j})))}},695342:(e,t,n)=>{n.d(t,{s:()=>T,U:()=>P});var r=n(411855),l=n(188507),i=n(459401),a=n(587670),o=n(629019),s=n.n(o),c=n(46481),p=n(617453),d=n(848661),u=n(279702),m=n(498606),E=n(218973),_=n(760066),h=n(893606),y=n(564092),g=n(358145),S=n(683859);function b({setShowSinglePaddingControl:e,containsFocus:t}){let n=(0,r.useContext)(S.p),l=n?.isShowingBindingUI,i=(0,g.ZC)(l),a=(0,g.ZC)(t);return(0,r.useEffect)(()=>{i&&!l&&e?.(!1)},[l,e,i]),(0,r.useEffect)(()=>{t||!a||l||e?.(!1)},[t,a,l,e]),null}var f=n(221537),v=n(329652);function T({paddingSelection:e,focusOnMount:t,source:n,disableVariablesEntryPoint:o,setShowSinglePaddingControl:g,...S}){let T=(0,l.wA)(),[P,I]=(0,f.HF)(e),{smallNudgeAmount:N,bigNudgeAmount:k}=(0,p.sT)(),C=(0,r.useRef)(!1),A=(0,h.R)(),M=f.e2[e],O=f.C8[e],x=`stack-padding-input-icon-${e}`,R=(0,f.wH)(e),L=(0,r.useRef)(null);r.useEffect(()=>{t&&(L.current?.focus(),L.current?.select())},[e,t]);let F=r.useMemo(()=>(0,f.Jj)(e),[e]),D=w(e),{consumedVariable:V}=(0,y.u3)(D),K=s()(v.QK,S.svgClassName),[U,B]=r.useState(!1),G=r.useCallback(()=>{B(!0)},[B]),H=r.useCallback(e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||B(!1)},[B]);return r.createElement(_.sA,{recordingKey:S.recordingKey,fields:D,disableEntryPoint:o,resolvedType:a.rXF.FLOAT,inputClassName:S.outerClassName,currentFieldValue:(0,d.hS)(P)&&(0,i.areAllEqual)(P)?P[0]:void 0,onClickDetachButton:()=>{g?.(!1)},onFocus:G,onBlur:H},r.createElement(b,{setShowSinglePaddingControl:g,containsFocus:U}),r.createElement(E.ig,{noBorderOnHover:!0,isTokenizable:!0,forwardedRef:L,inputClassName:s()(v.hF,S.inputClassName),value:P,wheelMultiplier:N,scrubMultiplier:N,smallNudgeAmount:N,bigNudgeAmount:k,onValueChange:(e,t)=>{t===u.zk.YES&&a.glU.temporarilyHideOverlay(a.hJs.SELECTION),I(e,t,{source:n,input:C.current?"scrub":"textfield"})},mixedMathHandler:F,dispatch:T,noBorderOnFocus:S.noBorderOnFocus,noLeftBorder:S.noLeftBorder,squareRightBorder:S.squareRightBorder,"data-tooltip-type":m.Ib.TEXT,"data-tooltip":R,"data-tooltip-proxy-element-id":V?x:void 0,"data-tooltip-show-on-target-only":A||void 0,onFocus:S.onFocus,onBlur:S.onBlur,onNudge:S.onNudge,onMouseEnter:S.onMouseEnter,onMouseLeave:S.onMouseLeave,onClick:S.onClick,onKeyDown:S.onKeyDown,onPaste:S.onPaste,onScrubBegin:e=>{C.current=!0,S.onScrubBegin?.(e)},onScrubEnd:e=>{C.current=!1,S.onScrubEnd?.(e)},recordingKey:S.recordingKey,dataTestId:S.inputTestId},r.createElement(c.U,{className:K,svg:M,"data-tooltip-type":V?m.Ib.TEXT:void 0,"data-tooltip":V?R:void 0,id:x},r.createElement("div",{className:K,"data-tooltip-type":V?m.Ib.TEXT:void 0,"data-tooltip":V?R:void 0,id:x},r.createElement(O,null)))))}function P(){let e=w(f.mx.HORIZONTAL),{consumedVariable:t}=(0,y.u3)(e),n=w(f.mx.VERTICAL),{consumedVariable:r}=(0,y.u3)(n);return!(0,d.hS)(t)||!(0,d.hS)(r)}function w(e){switch(e){case f.mx.TOP:return["STACK_PADDING_TOP"];case f.mx.RIGHT:return["STACK_PADDING_RIGHT"];case f.mx.BOTTOM:return["STACK_PADDING_BOTTOM"];case f.mx.LEFT:return["STACK_PADDING_LEFT"];case f.mx.HORIZONTAL:return["STACK_PADDING_LEFT","STACK_PADDING_RIGHT"];case f.mx.VERTICAL:return["STACK_PADDING_TOP","STACK_PADDING_BOTTOM"];case f.mx.ALL:return["STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP"]}}},504456:(e,t,n)=>{n.d(t,{H_:()=>T,SA:()=>N,ub:()=>A,$2:()=>w,BG:()=>I});var r=n(411855),l=n(172601),i=n(91408),a=n(433011),o=n(454072),s=n(226055),c=n(848661),p=n(993285);function d(){return performance.now()}var u=n(708918);let m="transition_preview--previewPanel--Gp-aI",E="transition_preview--belowInactive--DBGgj transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",_="transition_preview--belowActive--69cT1 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",h="transition_preview--blueHeaderShort--FqI0m transition_preview--_blueHeader--Xlxtt transition_preview--_previewItem--o2gce",y="transition_preview--blueHeaderTall--atMMg transition_preview--_blueHeader--Xlxtt transition_preview--_previewItem--o2gce",g="transition_preview--screenBorder--Fz-dz transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",S="transition_preview--screenBorderNarrow--EB6kk transition_preview--screenContainerNarrow--ugQN- transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",b="transition_preview--smartAnimateRowItem--aMXQ8",f="transition_preview--ui3Container--2qKB0";var v=(e=>(e[e.BLANK=0]="BLANK",e[e.ACTIVE=1]="ACTIVE",e[e.INACTIVE=2]="INACTIVE",e[e.ACTIVE_RESETTABLE=3]="ACTIVE_RESETTABLE",e))(v||{}),T=(e=>(e[e.STATIC=0]="STATIC",e[e.ANIMATING=1]="ANIMATING",e[e.RETURN_TO_START=2]="RETURN_TO_START",e))(T||{});let P=(0,i.jz)("40px"),w=new l.b("activateBezierCustomAnimationPreview"),I=new l.b("activateSpringCustomAnimationPreview");function N({transition:e,isNarrowPanel:t}){let[n,l,i,a,o]=function(e,t={delayBeforeAnimation:0,delayAfterAnimation:0}){let{delayBeforeAnimation:n=0,delayAfterAnimation:l=0}=t,i=(0,u.w_)(e),[a,o,s,c]=function(e){let[t,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(0),[a,o]=(0,r.useState)(0);return(0,p.N)((0,r.useCallback)(()=>{let t=(d()-l)/1e3;t>e?(o(e),n(!1)):o(t)},[l,o,n,e]),t),[a,t,(0,r.useCallback)(()=>{n(!0),i(d()),o(0)},[i,n,o]),(0,r.useCallback)(()=>{n(!1),o(0)},[n,o])]}(n+(0,u.J5)(i)+l);return[a<n?0:(0,u.Zp)(i,a-n),a,o,s,c]}((0,c._W)(e.easingFunction,[1,100,10,0]),{delayBeforeAnimation:.1,delayAfterAnimation:1}),E=(0,s.GS)();r.useEffect(()=>{I.on("restartSpringAnimation",()=>{a()});let e=()=>{o()};return I.on("resetSpringAnimation",e),()=>{I.removeListener("resetSpringAnimation",e)}},[a,o]);let[_,h]=r.useState(t?80:124),y=r.useRef(null);r.useEffect(()=>{let e=new ResizeObserver(e=>{for(let t of e){let{width:e}=t.contentRect;h(e-2*P-54)}});return E&&y.current&&e.observe(y.current),()=>{e.disconnect()}},[E]);let g={transform:`translateX(${n*_}px)`,transition:"none"};0!==l&&i||(g={transform:"none",transition:"transform 0.2s ease-out"});let S=(0,r.useCallback)(()=>{i||a()},[i,a]),b=r.createElement("div",{className:"transition_preview--springBoxItem--Uej9X",style:g});return r.createElement("div",{className:m,onMouseEnter:S,onMouseLeave:o},E?r.createElement("div",{ref:y,className:"transition_preview--ui3ContainerSpring--5ReEi"},b):b)}var k=(e=>(e[e.RESET_INSTANT=0]="RESET_INSTANT",e[e.RESET_WITH_EASE=1]="RESET_WITH_EASE",e[e.PLAY_TO_END=2]="PLAY_TO_END",e))(k||{});let C=class e extends r.PureComponent{constructor(t){super(t),this.executor=new a.W,this.cursorIsOverUs=!1,this.transitionToNextFrame=()=>{if(1===this.state.frameIndex&&!this.cursorIsOverUs){this.executor.scheduleOnce(()=>{this.setState({status:2})},2);return}let e=(this.state.frameIndex+1)%2;this.setState({status:1,frameIndex:e});let t=1e3*(0===this.state.frameIndex?(0,c._W)(this.props.transition.duration,1):2);this.executor.scheduleOnce(this.transitionToNextFrame,t)},this.startAnimation=()=>{this.setState({status:1,frameIndex:0}),this.executor.reset(),this.executor.scheduleOnce(()=>{this.setState({status:1,frameIndex:1}),this.transitionToNextFrame()},0)},this.onMouseEnter=()=>{this.cursorIsOverUs=!0,this.startAnimation()},this.onMouseLeave=()=>{this.cursorIsOverUs=!1,this.executor.reset(),this.setState({status:2})},this.startAnimationNew=()=>{this.setAnimationStateNew(0),this.executor.scheduleOnce(()=>{this.setAnimationStateNew(2),this.executor.scheduleOnce(()=>{this.setAnimationStateNew(1)},1e3*(0,c._W)(this.props.transition.duration,0)+e.BEZIER_RETURN_TO_START_WAIT_TIME)},e.BEZIER_BEFORE_ANIMATION_WAIT_TIME)},this.resetAnimationNew=()=>{this.setAnimationStateNew(1)},this.setAnimationStateNew=e=>{this.executor.reset(),this.setState({status:0===e?1:3,frameIndex:2===e?1:0})},this.isAnimationRunningNew=()=>!((3===this.state.status||1===this.state.status||2===this.state.status)&&0===this.state.frameIndex),this.onMouseEnterNew=()=>{this.isAnimationRunningNew()||this.startAnimationNew()},this.onMouseLeaveNew=()=>{this.resetAnimationNew()},this.isAnyTransitionInfoMixed(t.transition)?this.state={status:0,frameIndex:0}:this.state={status:3,frameIndex:0},w.on("activateBezierAnimation",this.startAnimationNew),w.on("resetBezierAnimation",this.resetAnimationNew)}buildKeyFramesForNonSmartTransition(e){let t={top:0,left:0,opacity:1};switch(e.behavior){case"SMART_ANIMATE":throw Error(`Invalid transition behavior ${e.behavior}`);case"INSTANT":case"DISSOLVE":return[{below:t,above:{...t,opacity:0}},{below:{...t,opacity:0},above:t}];case"SCROLL_ANIMATE":return[{below:t,above:{...t,left:1}},{below:{...t,left:-.25,opacity:.25},above:t}];case"SLIDE":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:{...t,left:.25,opacity:.25},above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:{...t,left:-.25,opacity:.25},above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:{...t,top:.25,opacity:.25},above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:{...t,top:-.25,opacity:.25},above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"SLIDE_OUT":switch(e.direction){case"LEFT":return[{below:{...t,left:-.25,opacity:.25},above:t},{below:t,above:{...t,left:1}}];case"RIGHT":return[{below:{...t,left:.25,opacity:.25},above:t},{below:t,above:{...t,left:-1}}];case"TOP":return[{below:{...t,top:-.25,opacity:.25},above:t},{below:t,above:{...t,top:1}}];case"BOTTOM":return[{below:{...t,top:.25,opacity:.25},above:t},{below:t,above:{...t,top:-1}}];default:throw Error(`Invalid direction: ${e.direction}`)}case"PUSH":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:{...t,left:1},above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:{...t,left:-1},above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:{...t,top:1},above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:{...t,top:-1},above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"MOVE":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:t,above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:t,above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:t,above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:t,above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"MOVE_OUT":switch(e.direction){case"LEFT":return[{below:t,above:t},{below:t,above:{...t,left:1}}];case"RIGHT":return[{below:t,above:t},{below:t,above:{...t,left:-1}}];case"TOP":return[{below:t,above:t},{below:t,above:{...t,top:1}}];case"BOTTOM":return[{below:t,above:t},{below:t,above:{...t,top:-1}}];default:throw Error(`Invalid direction: ${e.direction}`)}default:throw Error(`Invalid behavior: ${e.behavior}`)}}cssEasingFunction(e){if("INSTANT"!==e.behavior)switch(e.easing){case"EASE_IN":return"ease-in";case"EASE_OUT":return"ease-out";case"EASE_IN_AND_OUT":return"ease-in-out";case"LINEAR":return"linear";case"EASE_IN_BACK":return"cubic-bezier(0.3, -0.05, 0.7, -0.5)";case"EASE_OUT_BACK":return"cubic-bezier(0.45, 1.45, 0.8, 1)";case"EASE_IN_AND_OUT_BACK":return"cubic-bezier(0.7, -0.4, 0.4, 1.4)";case"CUSTOM_BEZIER":let t=(0,c.E7)(e.easingFunction);if(t&&4===t.length)return"cubic-bezier("+o.n.format(t)+")"}return""}cssDuration(e){return"INSTANT"===e.behavior?0:(0,c._W)(e.duration,.3)}rectangleStateToCSSStyle(t,n,r,l,i){let a=this.cssEasingFunction(t),o=this.cssDuration(t);return{transition:2===r?e.BEZIER_RETURN_TO_START_EASING:0===r?"unset":`all ${o}s ${a}`,top:18+60*n.top,left:(l?i?79:65:i?79:81)+54*n.left,opacity:n.opacity}}isAnyTransitionInfoMixed(e){let t=!(0,c.hS)(e.behavior),n=!(0,c.hS)(e.easing),r=!(0,c.hS)(e.duration),l=!(0,c.hS)(e.direction);return t||n||r||l}UNSAFE_componentWillReceiveProps(e){this.isAnyTransitionInfoMixed(e.transition)?(this.executor.reset(),this.setState({status:0})):this.props.transition&&this.props.transition.behavior===e.transition.behavior&&this.props.transition.easing===e.transition.easing&&this.props.transition.duration===e.transition.duration&&this.props.transition.direction===e.transition.direction||this.startAnimationNew()}componentWillUnmount(){w.removeListener("activateBezierAnimation",this.startAnimationNew),w.removeListener("resetBezierAnimation",this.resetAnimationNew),this.executor.reset()}renderSimpleScreenToScreenAnimationPreview(t,n,l,i,a,o,s,c){let p=h,d=y,u=this.props.transition.behavior;("MOVE_OUT"===u||"SLIDE_OUT"===u)&&(p=y,d=h);let E=r.createElement("div",{className:p}),_=r.createElement("div",{className:d}),b=null;if(this.props.transition.shouldSmartAnimate){E=null,_=null;let t=this.cssEasingFunction(a),n=this.cssDuration(a),l={transition:2===o?e.BEZIER_RETURN_TO_START_EASING:0===o?"unset":`all ${n}s ${t}`};b=r.createElement("div",{className:this.state.frameIndex?y:h,style:l})}("DISSOLVE"===u||"INSTANT"===u)&&(_=E=b=null);let v=c?S:g,T=r.createElement(r.Fragment,null,r.createElement("div",{className:t,style:n},E),r.createElement("div",{className:l,style:i},_),r.createElement("div",{className:c?"transition_preview--screenContainerNarrow--ugQN- transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":"transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce"},b),r.createElement("div",{className:v}));return r.createElement("div",{className:m,onMouseEnter:this.onMouseEnterNew,onMouseLeave:this.onMouseLeaveNew},s?r.createElement("div",{className:f},T):T)}renderSmartAnimateTransition(t){let n=1===this.state.frameIndex?1:3===this.state.status?2:0,l=this.cssDuration(this.props.transition),i=this.cssEasingFunction(this.props.transition),a=2===n?e.BEZIER_RETURN_TO_START_EASING:0===n?"unset":`all ${l}s ${i}`,o=t?"transition_preview--smartAnimateContainerNarrow--0x3xY transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":"transition_preview--smartAnimateContainer--SuYj0 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",s=t?S:g;if(0===this.state.frameIndex){let e=r.createElement(r.Fragment,null,r.createElement("div",{className:o},r.createElement("div",{className:b,style:{transition:a,height:12,background:"rgba(0, 0, 0, 0.06)"}}),r.createElement("div",{className:b}),r.createElement("div",{className:b})),r.createElement("div",{className:s}));return r.createElement("div",{className:m,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.isUI3?r.createElement("div",{className:f},e):e)}if(1===this.state.frameIndex){let e=r.createElement(r.Fragment,null,r.createElement("div",{className:o},r.createElement("div",{className:b,style:{transition:a,height:20,background:"var(--color-bg-brand)"}}),r.createElement("div",{className:b}),r.createElement("div",{className:b})),r.createElement("div",{className:s}));return r.createElement("div",{className:m,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.isUI3?r.createElement("div",{className:f},e):e)}throw Error("Invalid state.frameIndex")}render(){let e=0===this.state.status||2===this.state.status?E:_,t="PUSH"===this.props.transition.behavior,n=0===this.state.status||2===this.state.status?t?E:"transition_preview--aboveInactive--b8PZf transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":t?_:"transition_preview--aboveActive--Wbtj2 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce";if(0===this.state.status||(0,c.gl)(this.props.transition.behavior))return null;if("SMART_ANIMATE"===this.props.transition.behavior)return this.renderSmartAnimateTransition(this.props.isNarrowPanel);{let t=this.buildKeyFramesForNonSmartTransition(this.props.transition)[this.state.frameIndex],r=1===this.state.frameIndex?1:3===this.state.status?2:0;return this.renderSimpleScreenToScreenAnimationPreview(e,this.rectangleStateToCSSStyle(this.props.transition,t.below,r,this.props.isNarrowPanel,this.props.isUI3),n,this.rectangleStateToCSSStyle(this.props.transition,t.above,r,this.props.isNarrowPanel,this.props.isUI3),this.props.transition,r,this.props.isUI3,this.props.isNarrowPanel)}}};C.displayName="TransitionPreview",C.BEZIER_BEFORE_ANIMATION_WAIT_TIME=100,C.BEZIER_RETURN_TO_START_WAIT_TIME=1500,C.BEZIER_RETURN_TO_START_EASING="all ease-out 200ms";let A=C}}]);

//# debugId=2b4ddf11-677f-5961-8e23-ad4375ecfc3e

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8887574dce1aaeb789ffaa634abd9f947a84d5fd/7512-ebe7f05b1235824a.min.js.map