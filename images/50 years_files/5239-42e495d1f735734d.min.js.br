"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a808ac18-35d2-569a-a74d-3824fa837b56")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[5239],{822907:(e,t,a)=>{a.d(t,{$g:()=>m,DI:()=>c,Eh:()=>l,GK:()=>n,J1:()=>s,KV:()=>o,b:()=>r,cr:()=>f,jG:()=>d,kz:()=>_,nW:()=>p,o8:()=>u,u1:()=>i,wv:()=>g});let r="universal_upgrade_sequence--closeButton--S-6M2",n="universal_upgrade_sequence--modalTitle--1nrY9 text--fontPos18--rYXJb text--_fontBase--QdLsd",o="universal_upgrade_sequence--modalSubtitle--cMqzE text--fontPos14--OL9Hp text--_fontBase--QdLsd",l="universal_upgrade_sequence--createTeamInput--MuDzz basic_form--labeledInputGroup--aeD6L text--fontPos14--OL9Hp text--_fontBase--QdLsd",i="universal_upgrade_sequence--spinner--K-cVF",s="universal_upgrade_sequence--tileUpgradeButton--xeNnN",c="universal_upgrade_sequence--nextButtonSmall--LG9cZ universal_upgrade_sequence--nextButton--jDx3Q",m="universal_upgrade_sequence--createTeamSection--V3vtF",d="universal_upgrade_sequence--scrollContainer--8KeVt",_="universal_upgrade_sequence--scrollContainerTopBorder--Aeveh",u="universal_upgrade_sequence--scrollContainerBottomBorder--dWxc4",p="universal_upgrade_sequence--teamTileContainer--uef0R org_self_serve--teamLargeTileContainer--5eyHQ",f="universal_upgrade_sequence--teamTile--giMxy org_self_serve--teamTileLarge--n-y0u text--fontPos14--OL9Hp text--_fontBase--QdLsd",g="universal_upgrade_sequence--lastTeamTile--jYkbS universal_upgrade_sequence--teamTile--giMxy org_self_serve--teamTileLarge--n-y0u text--fontPos14--OL9Hp text--_fontBase--QdLsd"},123904:(e,t,a)=>{a.d(t,{Ds:()=>m,Kk:()=>l,Qn:()=>E,Qs:()=>s,SN:()=>d,Tj:()=>h,Tn:()=>i,Ub:()=>f,a4:()=>w,aj:()=>u,by:()=>c,jT:()=>r,kL:()=>n,lq:()=>_,qr:()=>p,vb:()=>b,wx:()=>o,xM:()=>g});let r="pro_trial_form_modal--modalContainer--mKui2",n="pro_trial_form_modal--container--Wv6Lg",o="pro_trial_form_modal--header--yEBLV",l="pro_trial_form_modal--icon--CKqnw",i="pro_trial_form_modal--titleTextContainer--Whf8N",s="pro_trial_form_modal--content--cB6wt text--fontPos13--xW8hS text--_fontBase--QdLsd",c="pro_trial_form_modal--teamSelectContainer--S4x5O",m="pro_trial_form_modal--teamContainer--tLBf7",d="pro_trial_form_modal--teamContainerSelected--Meavl pro_trial_form_modal--teamContainer--tLBf7",_="pro_trial_form_modal--teamContainerHead--EvWS5",u="pro_trial_form_modal--teamNameContainer--cwtSb",p="pro_trial_form_modal--footer--xDAGh",f="pro_trial_form_modal--footerCTA--bb-GE",g="pro_trial_form_modal--teamTypeCardContainer--HEdI4",E="pro_trial_form_modal--teamTypeCardContainerSelected--kq22n pro_trial_form_modal--teamTypeCardContainer--HEdI4",h="pro_trial_form_modal--proTrialFeatureContainer--RI3Vx",b="pro_trial_form_modal--proTrialFeatureSelectContainer--8j6DA",w="pro_trial_form_modal--proTrialFeatureContainerSelected--t69-D pro_trial_form_modal--proTrialFeatureContainer--RI3Vx"},696677:(e,t,a)=>{a.d(t,{Rr:()=>o,aG:()=>n,hd:()=>r});let r="plan_switcher--planSwitcherRow--pzSwY",n="plan_switcher--createTeamRow--PtMLo",o="plan_switcher--createTeamSeparator--a6Gs8"},80889:(e,t,a)=>{a.d(t,{I:()=>_});var r=a(411855),n=a(946689),o=a(355819),l=a(939863),i=a(101505),s=a(672517),c=a(243987),m=a(928491),d=a(822907);function _({customUpgradeText:e,eligibleTeams:t,selectTeam:a,numDesignFilesPerTeam:_,showEditorCount:u=!0}){let[p,f]=(0,r.useState)(!1),[g,E]=(0,r.useState)(!1);r.useEffect(()=>{f(t.length>=5)},[t]);let h=`${d.jG}`;p&&(h+=` ${d.o8}`),g&&(h+=` ${d.kz}`);let b=t[t.length-1],w=_&&_.length===t.length;return r.createElement(o.P,{onScroll:(e,a)=>{let r=t.length>=5,n=r&&0!==e,o=r&&e+a.trackHeight!==a.scrollHeight;o!==p&&f(o),n!==g&&E(n)},className:h,scrollingDisabled:!1},r.createElement("div",{className:d.nW},t.map((t,o)=>r.createElement(s.jm,{key:t.id,className:t===b?d.wv:d.cr,onClick:()=>a(t),trackingProperties:{teamId:t.id,trackingDescriptor:i.c.UPGRADE},innerText:"Upgrade"},r.createElement("div",{className:"org_self_serve--teamInfo--xNtY0"},r.createElement(m.Ro,{className:"org_self_serve--teamIcon--H4ZjA",entity:t,size:40,shape:"SQUARE"}),r.createElement("div",{className:"org_self_serve--teamText--Xvk6X"},r.createElement("p",{className:"org_self_serve--teamName---V8nF text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.name),r.createElement("p",{className:"org_self_serve--teamEditors--SfrdT text--fontPos11--2LvXf text--_fontBase--QdLsd"},!w&&u&&(0,l.tx)("universal_upgrade.select_team.editor_count.seat_rename",{editors:t.editors}),w&&_&&(0,l.tx)("universal_upgrade.select_team.files_per_team_figma_files_used",{numFilesUsed:_[o],numFreeFilesAllowed:c.WW})))),r.createElement(n.nR,{className:d.J1,dataTestId:"select_team.upgrade"},e??(0,l.tx)("universal_upgrade.select_team.upgrade"))))))}},408462:(e,t,a)=>{a.d(t,{q:()=>l});var r=a(898719),n=a(237870);let o=r.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(2512),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(4772),a.e(4683),a.e(6320),a.e(9634),a.e(8259),a.e(5239),a.e(3727),a.e(2026),a.e(6094),a.e(3630),a.e(4765),a.e(1839),a.e(7600),a.e(2794),a.e(7748)]).then(a.bind(a,681268)).then(e=>e.EduUpgradeModal),(0,n.Ij)("EduUpgradeModal")),l=(0,n.Ju)(o,"EDU_UPGRADE_MODAL")},647400:(e,t,a)=>{a.r(t),a.d(t,{CREATE_TEAM_ONBOARDING_KEY:()=>e1,FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT:()=>w,TEAM_FILES_ONBOARDING_KEY:()=>e0,USER_FLAG_V2:()=>N,default:()=>rv});var r=a(411855),n=a(966712),o=a(563706),l=a(374626),i=a(946689),s=a(939863),c=a(746806),m=a(63666);function d(e){return r.createElement("div",{className:"custom_sections_onboarding_modal--overlay---qTEB"},r.createElement(m.CR,{width:360,dismissModal:e.onClickPrimaryCta,targetKey:"custom-sections-nudge-modal",topPadding:4,arrowPosition:c.F_.LEFT_TITLE,pointerBackgroundColor:"var(--color-bg, $figmaBGWhite)"},r.createElement("h1",{className:"custom_sections_onboarding_modal--header--Z4mnG"},(0,s.tx)("favorited_resources.custom_sections_nudge_header")),r.createElement("p",null,(0,s.tx)("favorited_resources.custom_sections_nudge_body",{ellipses:r.createElement("strong",null,(0,s.tx)("favorited_resources.ellipses")),plus:r.createElement("strong",null,(0,s.tx)("favorited_resources.plus"))})),r.createElement("div",{className:"custom_sections_onboarding_modal--footerContainerButtonRight--EToy- custom_sections_onboarding_modal--footerContainer---KhkM"},r.createElement(i.vd,{onClick:e.onClickPrimaryCta},(0,s.tx)("rcs.file_browser.got_it")))))}var _=a(672517),u=a(251960),p=a(456104),f=a(582947),g=a(397065),E=a(147829),h=a(463546);let b="seen_custom_sections_nudge",w="favorites-count-crossed-threshold",y=(0,f.r1)(b);function x(){let e=(0,l.md)(y),t=(0,p.e)({overlay:h.LB2,priority:g.N.OVERRIDING_MODAL},[e]);return(0,u.E)(t.uniqueId,w,()=>{t.show({canShow:e=>!e})}),r.createElement(E.M,{isShowing:t.isShowing,userFlagOnShow:b},r.createElement(_.fu,{name:"Custom Sections Nudge"},r.createElement(d,{onClickPrimaryCta:t.complete})))}var T=a(320063),C=a(723239),v=a(776008),k=a(907159);let N="seen_whats_new_v2_modal",S=(0,f.r1)(N),I=(0,C.tH)("last_figjam_at");function A(){let e=(0,l.md)(f.GW),t=(0,l.md)(C.mp),a=(0,l.md)(I),n=(0,l.md)(S),o=(0,l.md)(C.NT),i=(0,l.md)(C.Ot),{show:s,isShowing:c,complete:m}=(0,p.e)({overlay:h.I3H,priority:g.N.DEFAULT_MODAL},[e,t,n,i,o]);return(0,T.h)(()=>{s({canShow:(e,t,r,n)=>e&&!n&&(0,v.f)({lastUsedFigjamDate:a,userCreatedAt:t,hasSeenOverlayV2:r})})}),r.createElement(k.xZ,{context:"file_browser",jobTitle:(0,v.E)(o,["education"]),isShowing:c,onClose:m})}var O=a(188507),R=a(799569),D=a(271779),P=a(901536),L=a(488578),M=a(414598);function F(e){return r.createElement(_.fu,{name:"jamboard_importer_onboarding_modal"},r.createElement(L.Nb,{className:M.Tw,size:"fitContent",hide:e.onDismiss,disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,tintedModalBackground:!0},r.createElement(D.i,{displayAs:D.C.Block},r.createElement("div",{className:P.cx.flex.bRadius8.overflowHidden.$},r.createElement("div",{className:"jamboard_importer_onboarding_modal--leftContainer--EJ7FQ"},r.createElement("div",{className:"jamboard_importer_onboarding_modal--textContainer--GBP-a"},r.createElement("img",{className:"jamboard_importer_onboarding_modal--googleIcon--QW7W3",alt:(0,s.t)("rcs.jamboard.google_drive_icon.alt"),src:"https://static.figma.com/uploads/aab6d002fd18a545784da803e83ce7e38673a9b9.png"}),r.createElement("span",{className:"jamboard_importer_onboarding_modal--titleText--Yr42T text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},(0,s.tx)("rcs.jamboard.bring_jamboard_into_figjam.title")),r.createElement("span",{className:"jamboard_importer_onboarding_modal--descText--Eq-w- text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},(0,s.tx)("rcs.jamboard.bring_jamboard_into_figjam.desc"))),r.createElement("div",{className:P.cx.flex.justifyStart.gap8.flexWrap.$},r.createElement(i.vd,{onClick:e.onConnect},(0,s.tx)("rcs.jamboard.connect_google_drive")),r.createElement(i.tM,{onClick:e.onLater},(0,s.tx)("rcs.jamboard.later")))),r.createElement("div",{className:"jamboard_importer_onboarding_modal--rightContainer--UXTLt"},r.createElement("img",{className:"jamboard_importer_onboarding_modal--image--p5hXO",src:"https://static.figma.com/uploads/87349c3f414f211c94ca3846c952dc7c50fc9aef.png",alt:(0,s.t)("rcs.jamboard.import_button_image.alt")}),r.createElement(R.Jn,{className:"jamboard_importer_onboarding_modal--closeButton--vHQbu",onClick:e.onDismiss,trackingProperties:{text:"dismiss"}}))))))}var U=a(507877),B=a(662275),j=a(931828),z=a(860178),G=a(425569);let $="seen_figjam_jamboard_import_onboarding",W=(0,f.r1)($),H=(0,f.r1)("signed_up_from_figjam_jamboard"),q=(0,f.r1)("file_browser_onboarded");function K({onManualDismiss:e,onClickPrimaryCta:t}){let a=(0,O.wA)(),n=(0,z.iZ)();return(0,r.useEffect)(()=>{a(j.b({[$]:!0}))},[a]),r.createElement("div",{"data-testid":"JamboardFileBrowserOnboarding"},r.createElement(F,{onConnect:()=>{let e=n?.drafts_folder_id;e&&a(U.gN(e)),a((0,B.to)({type:G.Qn,data:{onImportCompleted:()=>t()}}))},onLater:t,onDismiss:e}))}function V(){let e=(0,l.md)(W),t=(0,l.md)(H),a=(0,l.md)(q),n=(0,l.md)(C.zN),o=(0,p.e)({overlay:h.I5n,priority:g.N.OVERRIDING_MODAL},[e,t,a,n]);return(0,T.h)(()=>{o.show({canShow:(e,t,a,r)=>!e&&t&&a&&!r})}),r.createElement(E.M,{isShowing:o.isShowing},r.createElement(K,{onManualDismiss:o.complete,onClickPrimaryCta:o.complete}))}var Y=a(611978),X=a(309798),J=a(218997),Q=a(984032);let Z="seen_figjam_mobile_signup_redirect_modal",ee="seen_general_mobile_signup_redirect_shelf",et=(0,f.r1)(Z),ea=(0,f.r1)(ee);function er(){let e=(0,l.md)(C.g5),t=(0,l.md)(et),a=(0,l.md)(ea),n="recentsAndSharing"===(0,Y.z3)(),o=(0,p.e)({overlay:h.jQF,priority:g.N.HIGH_PRIORITY_MODAL},[e,t,a]),i=(0,X.f)("signed_up_from_figjam_page");(0,r.useEffect)(()=>{n&&o.show({canShow:(e,t,a)=>!(!e||e.getTime()<Date.now()-6e4)&&(i?!t:!a)})},[o,i,n]);let s=i?Q.IG:Q.BO;return r.createElement(J.h,{isShowing:o.isShowing,modalType:s.modalType,type:s.type,trackingContextName:s.trackingContextName,element:s.element,userFlagOnShow:i?Z:ee,onClickPrimaryCta:o.complete,onClose:o.complete,onManualDismiss:o.complete})}var en=a(358145),eo=a(860601),el=a(286640),ei=a(195847),es=a(594524),ec=a(378260),em=a(205548),ed=a(833629),e_=a(143678),eu=a(916108),ep=a(766717),ef=a(15839),eg=a(70964),eE=a(304516);let eh="File Browser Onboarding -";function eb(e){return r.createElement(eg.wz,null,r.createElement("div",{className:"file_browser_rcs_steps--takeTourModal--vuKR0 pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz"},r.createElement("h1",null,(0,s.tx)("rcs.take_tour.take_a_quick_tour_of_the_file_browser")),r.createElement(R.Jn,{className:"file_browser_rcs_steps--closeButtonExtraSpacing--ijSe9",onClick:e.dismissModal,svg:eE.A}),r.createElement("p",null,(0,s.tx)("rcs.take_tour.see_how_to_create_files_learn_about_drafts_and_teams_ways_to_access_community_and_more")),r.createElement("div",{className:"file_browser_rcs_steps--footerButtons--7ivv7"},r.createElement(_.$z,{className:"file_browser_rcs_steps--dismissButton--6xjcV",onClick:e.dismissModal},(0,s.tx)("rcs.take_tour.no_thanks")),r.createElement(i.vd,{className:"file_browser_rcs_steps--nextButton--TfaGE",onClick:e.onClickPrimaryCta},(0,s.tx)("rcs.take_tour.let_s_go")))))}function ew(e){return r.createElement(J.h,{testId:"TakeTourOfFileBrowserOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Take tour`,element:eb,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ey(e){return r.createElement(J.h,{testId:"AccountSettingsOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Account settings`,element:e=>r.createElement(ep.Rx,{dismissModal:e.dismissModal,onClickPrimaryCta:e.onClickPrimaryCta,forceRender:e.forceRender,step:5,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ex=a(187134),eT=a(889754),eC=a(635412),ev=a(738269);function ek(e){let t=(0,O.wA)(),a=(0,O.d4)(e=>e.user?.drafts_folder_id);return r.useEffect(()=>(a&&t(ev.j7({type:(0,eC.p)(a)})),()=>{t(ev.oB())}),[t,a]),r.createElement(ex.o,{eventListeners:["onMouseDown"]},r.createElement(m.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eT.l,topPadding:12,alignPointerToLeft:!0},(0,n.kc)().figjam_3p_file_importer?(0,s.tx)("rcs.create_files.create_files_from_scratch_import_designs_from_sketch_or_jamboard_or_start_from_templates"):(0,s.tx)("rcs.create_files.create_files_from_scratch_import_designs_from_sketch_or_start_from_templates"),r.createElement(ep.IY,{onClick:e.onClickPrimaryCta,step:1,totalSteps:6})))}function eN(e){return r.createElement(J.h,{testId:"CreateFilesOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Create files`,element:ek,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eS=a(576996);function eI(e){return r.createElement(m.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eS.u,topPadding:8,alignPointerToLeft:!0},(0,s.tx)("rcs.create_files.files_are_great_for_collaboration_while_your_drafts_are_more_personal_if_you_share_them_they_re_view_only"),r.createElement(ep.IY,{onClick:e.onClickPrimaryCta,step:2,totalSteps:6}))}function eA(e){return r.createElement(J.h,{testId:"DraftsOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Drafts`,element:eI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eO=a(177131),eR=a(195907),eD=a(201165);function eP(e){let t=(0,O.wA)(),a=(0,l.md)(eO.A);return r.createElement(m.NJ,{dismissModal:e.dismissModal,width:247,targetKey:eR.vM,alignPointerToLeft:!0,topPadding:12},(0,s.tx)("rcs.account_switching.explore_files_plugins_and_widgets_created_by_the_figma_community"),r.createElement(ep.IY,{onClick:()=>{a&&t(ev.j7({type:eD.B,data:{targetRect:a}})),e.onClickPrimaryCta()},step:4,totalSteps:6}))}function eL(e){return r.createElement(J.h,{testId:"ExploreCommunityOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Community Hub`,element:eP,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function eM(){return r.createElement("div",null,r.createElement(eg.Gv,{src:"https://static.figma.com/app/onboarding/page-4.gif"}),r.createElement(eg.ak,null,(0,s.tx)("rcs.import.one_of_the_coolest_things_about_figma_is_that_you_don_t_have_to_start_from_scratch_to_get_to_work"),r.createElement("br",null),r.createElement("br",null),(0,s.tx)("rcs.import.just_drag_your_sketch_files_onto_the_browser_and_we_ll_convert_them_to_figma_for_you")))}function eF(e){return r.createElement(J.h,{testId:"ImportOverlay",modalType:ef.q3.DRAGGABLE,title:()=>(0,s.t)("rcs.import.import_sketch_files"),trackingContextName:"Import Sketch File Onboarding Modal",element:eM,onboardingKey:"import",userFlagOnShow:"import_file_onboarded",currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function eU(e){return r.createElement(J.h,{testId:"NotificationsOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Notifications`,element:e=>r.createElement(ep.q9,{dismissModal:e.dismissModal,onClickPrimaryCta:e.onClickPrimaryCta,forceRender:e.forceRender,step:6,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eB=a(38329),ej=a(119198),ez=a(974105),eG=a(945020);function e$(e){return r.createElement(J.h,{testId:"OpenFileOverlay",modalType:ef.q3.DRAGGABLE,title:()=>(0,s.t)("rcs.open_file.edit_a_file"),ctaText:(0,s.tx)("rcs.open_file.create_file"),trackingContextName:"Edit a File Onboarding Modal",element:()=>r.createElement(eg.ak,null,(0,s.tx)("rcs.open_file.open_a_file_to_learn_more_about_figma_s_powerful_editing_features")),currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,isShowing:e.isShowing,onClickPrimaryCta:()=>{e.onClickPrimaryCta(),function(){let e=eB.D.getState();eB.D.dispatch(ej.uM((0,ez.xA)(e,eG.ai.SAME_TAB)))}()},onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eW=a(723245),eH=a(801387),eq=a(996887);function eK(){let e=(0,O.d4)(e=>e.currentUserOrgId),t=(0,O.d4)(e=>e.orgById),a=e&&t[e],n=(0,eH.c4)(e).data??!1,o=(0,s.tx)("rcs.org_welcome.click_on_the_organization_button_on_the_left_to_find_teams_to_join");return(0,eW.D6)(e)?o=n?(0,s.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join"):(0,s.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join"):a&&(o=(0,s.tx)("rcs.org_welcome.click_the_current_org_name_span_button_on_the_left_to_find_teams_to_join",{orgName:r.createElement("span",{className:eq.Cr},a.name)})),r.createElement("div",null,r.createElement(eg.Gv,{src:"https://static.figma.com/uploads/6f3307f82aeddf6f609eaf97ee9e66e788d485c1",width:215,margin:"14px 0px 14px 27px"}),r.createElement(eg.ak,null,r.createElement("p",null,(0,s.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")),o))}function eV(e){return r.createElement(J.h,{testId:"OrgWelcomeOverlay",modalType:ef.q3.DRAGGABLE,title:()=>(0,s.t)("rcs.org_welcome.welcome_to_your_figma_organization"),trackingContextName:"Orgs Welcome Onboarding Modal",highlightOnlyKey:"new-team-icon",element:eK,width:376,userFlagOnShow:"orgs_onboarded",currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eY=a(317372),eX=a(942244);function eJ(e){let t=(0,O.wA)(),a=(0,l.md)(eY.A);return r.useEffect(()=>{a&&t(ev.j7({type:eX.ER,data:{targetRect:a}}))},[t,a]),r.createElement(m.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eX.KC,topPadding:8,alignPointerToLeft:!0,className:"plan_spaces_overlay--planSpacesPointerModal--aClGx pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz"},(0,s.tx)("rcs.plan_spaces.file_browser_onboarding_step.seat_rename"),r.createElement(ep.IY,{onClick:()=>{t(ev.oB()),e.onClickPrimaryCta()},step:3,totalSteps:6}))}function eQ(e){return r.createElement(J.h,{testId:"PlanSpacesOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Plan Spaces`,element:eJ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eZ=a(984968);let e0="TEAM_FILES_ONBOARDING_KEY",e1="create-team-link";function e4(e){let t=(0,O.d4)(e=>(0,eZ._L)(e.user,e.roles,e.teams).length>0);return r.createElement(m.NJ,{dismissModal:e.dismissModal,width:228,targetKey:t?e0:e1,topPadding:t?8:void 0,alignPointerToLeft:!0},t?(0,s.tx)("rcs.team_files.files_in_teams_are_accessible_by_team_members_and_shareable_with_other_editors.seat_rename"):(0,s.tx)("rcs.team_files.create_a_team_to_co_edit_files_with_your_teammates"),r.createElement(ep.IY,{onClick:e.onClickPrimaryCta,step:3,totalSteps:6}))}function e8(e){return r.createElement(J.h,{testId:"TeamFilesOverlay",modalType:ef.q3.SELF_CONTAINED,trackingContextName:`${eh} Team files`,element:e4,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function e3(e){return r.createElement(r.Fragment,null,r.createElement(eg.ak,null,(0,s.tx)("rcs.welcome_step.welcome_to_figma"),r.createElement("br",null),r.createElement("br",null),(0,s.tx)("rcs.welcome_step.we_re_different_from_other_design_tools_in_some_really_special_ways_so_we_d_like_to_take_you_through_them")),r.createElement(eg.iy,null,r.createElement(i.vd,{onClick:e.onClickPrimaryCta},(0,s.tx)("rcs.welcome_step_view.next"))))}function e6(e){let t=(0,O.d4)(e=>e.user?.name),a=t?(0,s.t)("rcs.welcome_step.welcome_user_name",{userFirstName:t}):(0,s.t)("rcs.welcome_step.welcome");return r.createElement(J.h,{testId:"WelcomeOnboardingOverlay",modalType:ef.q3.DRAGGABLE,title:()=>a,trackingContextName:"Welcome Onboarding Modal",element:e3,userFlagOnShow:"welcome_onboarded",disableFooter:!0,currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let e2=(0,f.r1)("file_browser_onboarded"),e7=["seen_sidebar_workspace_onboarding","seen_search_workspace_onboarding","seen_libraries_workspace_onboarding"],e9=e=>["file_browser_onboarded","community_hub_onboarded","variants_onboarded","account_switcher_onboarded","seen_account_profile_switcher_onboarding","seen_shared_files_onboarding",...e?e7:[]],e5=()=>{let e=(0,el.DN)();try{return!!e.get(ei.zl)}catch(e){}return!1};function te(){let e=(0,O.wA)(),t=(0,l.md)(f.qG),a=(0,l.md)(e2),o=(0,en.ZC)(a),i=(0,l.md)(C.d2),s=(0,O.d4)(e=>e.currentUserOrgId),c=(0,ec.UC)(s),m=(0,l.md)(c),d=(0,p.e)({overlay:h.Ob5,priority:g.N.OVERRIDING_MODAL},[t,i,m]),[_,E]=(0,r.useState)([]),[b,w]=(0,r.useState)([]),y=(0,r.useCallback)(e=>{d.show({canShow:(t,a,r)=>{let o=(function({userFlags:e,userSpace:t,isReset:a}){let r=t===e_.qo.ORG,o=(0,em.of)(e),l=(0,n.kc)().ps_benchmark,i=(0,n.kc)().limited_plan_spaces&&(0,n.Ay)().is_limited_team_plan,s=(0,em.mW)(e,"not_gen_0"),c=(0,em.mW)(e,"welcome_onboarded"),m=(0,em.mW)(e,"file_browser_onboarded"),d=[eV,eF,(0,ed._q)(e)?null:e$],_=[eN,eA,l?eQ:e8,eL,ey,eU],u=[ew,..._];return i?[]:a||s||r?!a&&(r||s)&&m?[]:r?d:o?u:s?e5()||c?[ew,..._]:[e6,..._]:u:m?[]:u})({userFlags:t,userSpace:a,isReset:e}).filter(e=>!!e);return!!o.length&&(E(o),w(e9(a===e_.qo.ORG&&r)),!0)}})},[d]);(0,T.h)(()=>{y(!1)}),(0,u.E)(d.uniqueId,"Reset Onboarding",()=>y(!0)),r.useEffect(()=>{d.isShowing&&o?.status==="loaded"&&o?.data===!1&&a?.status==="loaded"&&a?.data===!0&&d.complete()},[d,a,o]);let x=r.useCallback(()=>{let t={};for(let e of b)t[e]=!0;e(j.b(t)),d.complete()},[e,d,b]);return d.isShowing&&0!==_.length?r.createElement(tt,{steps:_,onComplete:x}):null}function tt(e){let{steps:t,onComplete:a}=e,n=(0,es.A)({numSteps:t.length,onComplete:a});return r.createElement(eu.U,{currentStep:n.currentStep,isShowing:!0,children:r.useMemo(()=>t.map((e,o)=>r.createElement(e,{onClickPrimaryCta:n.next,onClose:eo.lQ,onManualDismiss:a,isShowing:!0,currentStepIndex:o,totalNumSteps:t.length})),[t,n,a])})}var ta=a(101505),tr=a(394828),tn=a(740280),to=a(864114),tl=a(960884),ti=a(698812);function ts(){let e=(0,O.d4)(e=>e.currentUserOrgId),t=(0,l.md)(tl.Z),a=(0,ti.RG)(),n=(0,s.tx)("rcs.org_welcome.click_on_the_organization_button_on_the_left_to_find_teams_to_join");return(0,eW.D6)(e)?n=a?(0,s.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join"):(0,s.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join"):t&&(n=(0,s.tx)("rcs.org_welcome.click_the_current_org_name_span_button_on_the_left_to_find_teams_to_join",{orgName:r.createElement("span",{className:P.cx.fontBold.$},t.name)})),r.createElement(r.Fragment,null,r.createElement("p",{className:P.cx.pb8.$},(0,s.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")),n)}let tc="orgs_onboarded",tm=(0,f.r1)(tc);function td(){let e=(0,l.md)(C.d2),t=(0,l.md)(tm),a=(0,p.e)({overlay:h.X5_,priority:g.N.OVERRIDING_MODAL},[e,t]);return(0,T.h)(()=>{a.show({canShow:(e,t)=>e===e_.qo.ORG&&!t})}),r.createElement(tn.X,{width:350,isShowing:a.isShowing,title:(0,s.tx)("rcs.org_welcome.welcome_to_your_figma_organization"),description:r.createElement(ts,null),media:r.createElement(tr.y,{src:"https://static.figma.com/uploads/87621fc5a99a1d24beb515288cf764febb8f01e9.png",alt:"A screenshot of the teams list with cursor hovering over the 'Request to Join' link",aspectRatio:1.75}),primaryCta:{label:(0,s.tx)("rcs.rcs_shared.done"),type:"button",onClick:a.complete,ctaTrackingDescriptor:ta.c.DONE},trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:tc,position:to.Q.CENTER,onClose:a.complete})}var t_=a(459401),tu=a(675678),tp=a(776621),tf=a(284111),tg=a(38580),tE=a(391388),th=a(279453);let tb=(0,l.Iz)(({orgId:e,eventType:t})=>(0,tf.Z1)(th._ob.Query({orgId:e,eventType:t}),e=>!!e.currentUser.baseOrgUser?.orgUserFlag?.id)),tw=(0,l.Iz)(e=>(0,tg.eU)(t=>{let a=t(ec._s);return a?t(tb({orgId:a,eventType:e})):tE.Qw.disabled()}));var ty=a(556261),tx=a(56099),tT=a(379791),tC=a(629019),tv=a.n(tC),tk=a(776250),tN=a(768137),tS=a(355819),tI=a(615923),tA=a(694687),tO=a(928491);let tR="workspace_selector";function tD({workspaces:e,onModalClose:t}){let[a,n]=r.useState(null),o=(0,O.wA)(),l=(0,O.d4)(({selectedView:e})=>e),i=(0,tA.sZ)();if(!i)throw Error("org is not defined");("fullscreen"===l.view||"prototype"===l.view)&&t();let c=r.createElement("div",{className:P.cx.flexShrink0.flex.flexColumn.itemsCenter.gap8.$},r.createElement("img",{className:P.cx.w100.h100.$,src:"https://static.figma.com/uploads/b907892c6132bbea2173d8e95c096187288f54f9",alt:"",width:100,height:100}),r.createElement("span",{className:P.cx.textHeadingLarge.colorText.$},(0,s.tx)("onboarding.workspace_step.title")),r.createElement("span",{className:P.cx.textBodyLarge.colorText.$},r.createElement("div",{className:"workspace_selector--descriptionContainer---ZBF1"},(0,s.tx)("onboarding.workspace_step.subtitle_v2",{orgName:i.name,tipText:r.createElement("span",{className:P.cx.textBodyLargeStrong.$},(0,s.tx)("onboarding.workspace_step.tip"))})))),m=r.createElement(tS.P,{className:P.cx.flexShrink1.minH200.mt24.$,innerClassName:P.cx.flex.flexColumn.gap12.p16.pt2.$},e.map(e=>r.createElement(tP,{key:e.id,workspace:e,onClick:()=>n(e),isSelected:a?.id===e.id}))),d=r.createElement("div",{className:P.cx.flex.justifyEnd.p16.colorBorder.bSolid.bt1.$},r.createElement("div",{className:P.cx.flex.gap10.$},r.createElement(tN.tM,{onClick:t,trackingProperties:{trackingDescriptor:ta.c.SKIP}},(0,s.tx)("onboarding.skip")),r.createElement(tN.vd,{onClick:()=>{a&&(o(tI.x({workspace:a})),t())},disabled:null===a,trackingProperties:{trackingDescriptor:ta.c.JOIN}},(0,s.tx)("onboarding.workspace_step.join"))));return r.createElement(_.fu,{name:tR},r.createElement(L.Nb,{className:P.cx.relative.$,size:680,height:576,padding:0,tintedModalBackground:!0,hide:e=>{(0,tk.sx)("Modal Close",{source:e,trackingContext:tR}),t()},disableClickOutsideToHide:!0},r.createElement("div",{className:P.cx.flex.flexColumn.hFull.$},r.createElement(tS.P,{className:P.cx.flexGrow1.$,innerClassName:P.cx.borderBox.hFull.flex.flexColumn.itemsCenter.alignCenter.px32.pt32.$},c,m),d),r.createElement(R.Jn,{className:P.cx.absolute.top0.right0.mt8.mr8.$,onClick:t,trackingProperties:{trackingDescriptor:ta.c.CLOSE_BUTTON}})))}function tP({workspace:e,isSelected:t,onClick:a}){return r.createElement("button",{className:tv()("workspace_selector--workspaceOptionButton--hqNFy",{"workspace_selector--workspaceOptionButtonSelected--9bqpX":t}),onClick:a,type:"button"},r.createElement(tO.z6,{entity:e,size:32}),r.createElement("span",{className:P.cx.flexGrow1.truncate.textBodyLarge.colorText.ml16.$},e.name),r.createElement("div",{className:tv()("workspace_selector--radioButton--So7uS",{"workspace_selector--radioButtonSelected--6Dl1H":t})}))}let tL="workspace_selector_seen",tM=tw(tL),tF=(0,l.Iz)(e=>(0,tf.Z1)(th.saW.Query({orgId:e}),e=>{if(!e.org?.workspaces)return null;let t=e.org.workspaces.filter(e=>e.canView);return(0,t_.sortAlphabeticallyByProperty)(t,"name"),t})),tU={migrationGroup:tx.L.GROUP_3,component:"OrgSelectWorkspaceOverlay"};function tB(){let e=(0,ty.wy)({...tU,attribute:"currentOrgId",legacy:(e,t)=>t?.org_id??null,migrated:e=>e?.planKey.parentId??null}),t=(0,ty.wy)({...tU,attribute:"orgUserId",legacy:(e,t)=>t?.id,migrated:e=>e?.key.parentId??void 0}),a=(0,l.md)(C.d2),n=(0,l.md)(ec.uA),o=(0,eH.Au)(e),i=(0,l.md)(tF(e)),s=(0,l.md)(tM),{show:c,complete:m,isShowing:d}=(0,p.e)({overlay:h.USq,priority:g.N.HIGH_PRIORITY_MODAL},[a,n,o,i,s]);return((0,T.h)(()=>{c({canShow:(e,t,a,r,n)=>e===e_.qo.ORG&&!!t&&!a&&!!r&&0!==r.length&&!n,onShow:()=>{tT.G.postOrgUserFlags({orgUserId:t,flags:{[tL]:!0}})}})}),d&&"loaded"===i.status)?i.data?r.createElement(E.M,{isShowing:!0,testId:"org-select-workspace-overlay"},r.createElement(tD,{onModalClose:m,workspaces:i.data})):((0,tp.$D)(tu.FigmaTeam.SCALE,Error("workspaceSelectorOptionsAtomQuery.data not present after OrgSelectWorkspace overlay is showing")),m(),null):null}var tj=a(218881),tz=a(485858),tG=a(372038),t$=a(807749),tW=a(196495),tH=a(168039),tq=a(417908),tK=a(147206),tV=a(567088),tY=a(116135),tX=a(493364),tJ=a(737947),tQ=a(809840);let tZ=(e,t)=>e?r.createElement(tQ.E,{fontSize:20,fontWeight:"medium"},(0,s.tx)("rcs.plan_spaces.drafts_have_a_new_home")):t?r.createElement(tQ.E,{fontSize:20,fontWeight:"medium"},(0,s.tx)("rcs.plan_spaces.a_simpler_switcher_menu")):r.createElement(tQ.E,{fontSize:20,fontWeight:"medium"},(0,s.tx)("rcs.plan_spaces.changes_to_your_drafts")),t0=(e,t)=>e?r.createElement(tQ.E,{fontSize:14},(0,s.tx)("rcs.plan_spaces.drafts_lived_in_separate_area")):t?r.createElement(tQ.E,{fontSize:14},(0,s.tx)("rcs.plan_spaces.a_simpler_switcher_menu.description")):r.createElement(tQ.E,{fontSize:14},(0,s.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_description")),t1=(e,t)=>e?r.createElement(tQ.E,{fontSize:14},(0,s.tx)("rcs.plan_spaces.nothing_else_has_changed")):t?r.createElement(tQ.E,{fontSize:14,color:"secondary"},(0,s.tx)("rcs.plan_spaces.user_help_migrating_drafts_awareness")):r.createElement(tQ.E,{fontSize:14},(0,s.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_body")),t4=(e,t)=>r.createElement(tQ.E,{fontSize:13},(0,s.tx)(t||e?"rcs.plan_spaces.got_it":"rcs.plan_spaces.show_me_what_changed")),t8=r.memo(({hasOrgPlan:e,assetSrc:t,onClickPrimaryCTA:a,hasOnlyOneStarterPlan:n})=>r.createElement(t3,{onClickPrimaryCTA:a,titleText:tZ(n,e),descriptionText:t0(n,e),secondaryDescriptionText:t1(n,e),primaryButtonText:t4(n,e),assetSrc:t,hasOnlyOneStarterPlan:n})),t3=r.memo(({titleText:e,descriptionText:t,onClickPrimaryCTA:a,secondaryDescriptionText:n,primaryButtonText:o,assetSrc:l,hasOnlyOneStarterPlan:c})=>{let m=r.useCallback(()=>{tJ.Ay.unsafeRedirect("https://www.figma.com/blog/updates-to-how-drafts-work/","_blank")},[]);return r.createElement("div",{className:"plan_spaces_launch_modal_components--container--rGlQs"},r.createElement("div",{className:"plan_spaces_launch_modal_components--textContainer--PGuuG"},r.createElement("p",{className:"plan_spaces_launch_modal_components--titleProperties--rAj1j"},e),r.createElement("div",{className:P.cx.pb16.$},t),r.createElement("div",null,n),r.createElement("div",{className:"plan_spaces_launch_modal_components--ctaRow--3DVA8"},r.createElement(i.nD,{onClick:a},o),r.createElement(i.$9,{onClick:m},r.createElement(tQ.E,{fontSize:13},(0,s.tx)("rcs.plan_spaces.learn_more"))))),c?r.createElement("img",{src:l,alt:"An illustration of the Figma sidebar",width:364}):r.createElement(eg.GV,{width:364,src:l}))}),t6=new Date("2024-05-15T20:00:00.000Z").getTime();function t2(){return r.createElement(t7,null)}function t7(){let e=(0,O.d4)(e=>e.plans),t=(0,O.d4)(e=>e.teams),a=(0,O.d4)(e=>e.user),o=(0,O.d4)(e=>e.userFlags.personal_draft_migration_scheduled),{getDynamicConfig:i}=(0,tj.Fj)("ps_personal_draft_migration_org"),c=e.filter(e=>e.plan_type===tV.O.TEAM).map(e=>t[e.plan_id]).filter(e=>!!e),m=(0,O.wA)(),d=(0,tH.DP)(),_=(0,l.md)(C.mp),u=e.some(e=>e.plan_type===tV.O.ORG),f=1===c.length&&c[0].starter_team&&!u,E=!!(0,n.kc)().ps_starter_only_onboarding_translation,b=function(e,t,a){let r={darkMode:{org:"https://static.figma.com/uploads/35339bd6f100fd7c2dca24546e4ded3f7397d137",teams:"https://static.figma.com/uploads/055e7f20c52382bdb565fbe89f04d9673952663a",starter:"https://static.figma.com/uploads/6327332cd808163a39e7093c9c388f6e16927cc4"},lightMode:{org:"https://static.figma.com/uploads/d26daa4a5677426d2b01aa43677bf4c65f50b0bd",teams:"https://static.figma.com/uploads/1c1ca856971dff41eff57240862cf81437cb4dce",starter:"https://static.figma.com/uploads/b425061637a5821d58f2ce45dee702f544ea52d6"}},n=e?"darkMode":"lightMode";return a?r[n].starter:t?r[n].org:r[n].teams}("dark"===d,u,f&&E),w=(0,tG.j0)(),y=!!(0,n.kc)().ps_benchmark,x=(0,tq.d)(),T=i().get("denylistOrgIds",[]),v=a?.external_restricted_org_id?parseInt(a?.external_restricted_org_id):void 0,k=!!v&&T.includes(v),N=!!(0,n.kc)().ps_personal_draft_migration&&y&&!o&&(f||(0,tK.GU)(a))&&!k,S=!N&&w>0,{currentStep:I,next:A}=(0,es.A)({numSteps:2,onComplete:eo.lQ}),R=[{title:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.drafts_in_a_team"),description:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.private_drafts_folder"),trackingContextName:"Plan spaces onboarding - Team drafts folder",targetKey:eS.u,emphasized:!0,pointToLeftEdge:!0,disableHighlight:!0},{title:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.new_space_for_teams"),description:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.switch_between_teams"),trackingContextName:"Plan spaces onboarding - A new way to access teams",targetKey:t$.U,emphasized:!0,shouldCenterArrow:tX.EL.BEST_EFFORT,disableHighlight:!0}];S&&R.push({title:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.lets_move_these_files"),description:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.finding_the_right_home"),trackingContextName:"Plan spaces onboarding - Drafts to move",targetKey:tz.P,emphasized:!0,disableHighlight:!0,pointToLeftEdge:!0});let{show:D,isShowing:P,complete:L}=(0,p.e)({overlay:h.sqw,priority:g.N.DEFAULT_MODAL+1},[_]);(0,r.useEffect)(()=>{y&&!x&&D({canShow:e=>!!e&&(e.getTime()<=t6||w>0)})},[y,x,w,D]);let M=!!e&&e.length>0;(0,r.useEffect)(()=>{N&&M&&m(tW.FY())},[m,N,M]);let F=(0,r.useCallback)(e=>r.createElement(t8,{hasOrgPlan:u,hasOnlyOneStarterPlan:f&&E,assetSrc:b,onClickPrimaryCTA:e.onClickPrimaryCta}),[u,b,f,E]);return e.length?r.createElement(eu.U,{currentStep:I,isShowing:P},r.createElement(J.h,{isShowing:P,element:F,modalType:ef.q3.FEATURE_UPDATE,userFlagOnShow:"seen_limited_spaces_onboarding",trackingContextName:"plan_spaces_launch_modal",onClose:eo.lQ,onClickPrimaryCta:u?L:A,onManualDismiss:L,disableClickOutsideToHide:!0,closeButtonStyle:ef.M_.ON_LIGHT}),r.createElement(tY.WZ,{steps:R,isShowing:P,onComplete:L})):null}var t9=a(340514);let t5="seen_plan_spaces_new_starter_team_modal",ae=(0,f.r1)(t5),at=(0,f.r1)("has_planless_user_backfilled_team");function aa(){let e=!!(0,n.kc)().ps_benchmark,t=(0,l.md)(ae),a=(0,l.md)(at),o=(0,p.e)({overlay:h.Duq,priority:g.N.DEFAULT_MODAL},[t,a]);return(0,T.h)(()=>{o.show({canShow:(t,a)=>!t&&!e&&a})}),r.createElement(t9.rq,{isShowing:o.isShowing,userFlagOnShow:t5,onClose:o.complete,arrowPosition:tX.F_.LEFT_TITLE,targetKey:e0,title:(0,s.tx)("rcs.plan_spaces_new_starter_team.title"),description:r.createElement("p",null,(0,s.tx)("rcs.plan_spaces_new_starter_team.text")),emphasized:!0,testId:"PlanSpacesNewStarterTeamOverlay",trackingContextName:"plan_spaces_new_starter_team_modal"})}let ar="saw_recreated_starter_team_onboarding",an=(0,f.r1)(ar),ao=(0,f.r1)("had_recreated_starter_team");function al(){let e=!!(0,n.kc)().ps_benchmark,t=(0,l.md)(an),a=(0,tq.d)(),o=(0,l.md)(ao),{show:i,isShowing:c,complete:m}=(0,p.e)({overlay:h.yjU,priority:g.N.DEFAULT_MODAL},[t,o]);return(0,T.h)(()=>{a||i({canShow:(t,a)=>!t&&e&&a})}),r.createElement(t9.rq,{isShowing:c,userFlagOnShow:ar,onClose:m,arrowPosition:tX.F_.LEFT_TITLE,targetKey:t$.U,title:(0,s.tx)("rcs.plan_spaces_new_starter_team.title"),description:r.createElement("p",null,(0,s.tx)("rcs.plan_spaces_new_starter_team.text")),emphasized:!0,testId:"PlanSpacesRecreatedStarterTeamOverlay",trackingContextName:"plan_spaces_recreated_starter_team_modal"})}var ai=a(915440),as=a(760824),ac=a(349410),am=a(212957),ad=a(700886),a_=a(573821);let au="seen_pro_onboarding_team_member_welcome_modal",ap=(0,f.r1)(au);function af(){let e=(0,eZ.ol)();return e&&e.pro_team&&am.S.isRecentlyUpgraded(e)?r.createElement(ag,{teamId:e.id}):null}function ag({teamId:e}){let t=(0,z.iZ)(),a=(0,l.md)(ap),o=(0,O.d4)(e=>e.userTeamFlags),i=(0,ai.Rs)(th.kQI,{id:e}),c=(0,Y._6)(),m=(0,ac.kO)(),{show:d,isShowing:_,complete:u}=(0,p.e)({overlay:h.syA,priority:g.N.DEFAULT_MODAL,experiment:{check:m,predicate:e=>e,postCheck:e=>!e}},[a,i]),f=(0,O.d4)(e=>!!e.modalShown),E=(0,O.wA)();if((0,T.h)(()=>{f||o[e]?.[a_.UA]||d({canShow:(e,t)=>!!t.team?.hasPermission})}),!_||!t)return null;let b=r.createElement(r.Fragment,null,(0,s.tx)("pro_onboaridng.you_ve_been_upgraded_to_a_professional_plan"),r.createElement(a_.L0,null)),w=()=>{E(as.bE({all_team_flags:[{team_id:e,flags:{[a_.UA]:!0}}]})),u()},y=(0,n.kc)().ps_benchmark;return r.createElement(ad._l,{isShowing:_,userFlagOnShow:au,title:r.createElement(a_._,{user:t}),description:b,media:r.createElement(a_.fS,null),primaryCta:{type:"button",label:r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_onboarding.get_started")),ctaTrackingDescriptor:ta.c.GET_STARTED,onClick:()=>{if(w(),"team"!==c.view||c.teamId!==e){if(y){let a={userId:t.id,teamId:e,orgId:null};E(U._l({workspace:a,view:{view:"allProjects"}}))}else E(ev.$T({view:"team",teamId:e}))}}},trackingContextName:"Pro Onboarding Team Member Welcome Modal",trackingProperties:am.S.getTrackingProperties(e),onClose:w,closeButtonColor:"light"})}var aE=a(7e3),ah=a(746869),ab=a(175290),aw=a(896474);function ay({title:e,leftComponent:t,isExpanded:a,onClick:n,children:o}){let[l,i]=(0,r.useState)(a??!1);return(0,r.useEffect)(()=>{void 0!==a&&i(a)},[a]),r.createElement(ab.Y,{verticalAlignItems:"start",width:"100%",height:"hug-contents"},t,r.createElement(ab.Y,{direction:"vertical"},r.createElement("div",{tabIndex:0,className:P.cx.wFull.$,role:"button",onClick:()=>{n&&n(l),i(e=>!e)}},r.createElement(ab.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center"},r.createElement("div",{className:P.cx.font14.fontMedium.$},e),r.createElement(aw.In,{icon:l?"chevron-up-32":"chevron-down-32"}))),l&&r.createElement("div",{className:P.cx.font13.$},o)))}var ax=a(163023),aT=a(924614),aC=a(734105),av=a(243987),ak=a(888870),aN=a(237870),aS=a(721015),aI=a(577789);function aA(){let[e,t]=(0,r.useState)(),a=(0,r.useMemo)(()=>[{title:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.title",{maxNumOfFiles:av.WW,maxNumOfProjects:av.Wf})),children:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.description")),leftComponent:r.createElement(ab.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8}},r.createElement(ax.B,{svg:aS.A,className:P.cx.colorIconDanger.$}))},{title:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.title")),children:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.description")),leftComponent:r.createElement(ab.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8}},r.createElement(ax.B,{svg:aI.A,className:P.cx.colorIconDanger.$}))},{title:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.title")),children:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.description")),leftComponent:r.createElement(ab.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8}},r.createElement(ax.B,{svg:aI.A,className:P.cx.colorIconDanger.$}))}],[]);return r.createElement(ab.Y,{width:"100%",direction:"vertical",spacing:24,padding:{top:32}},a.map(({title:a,children:n,leftComponent:o},l)=>r.createElement(ab.Y,{key:l,height:"hug-contents",strokeColor:"default",strokeWidth:{left:0,top:0,right:0,bottom:1},padding:{bottom:24}},r.createElement(ay,{leftComponent:o,title:a,isExpanded:e===l,onClick:e=>{e?t(void 0):t(l)}},n))))}let aO=(0,aN.Ju)(function({teamId:e}){let t=(0,O.wA)(),a=(0,r.useCallback)(()=>{t(B.Ce())},[t]),n=(0,r.useCallback)(()=>{a(),t(as.bE({all_team_flags:[{team_id:e,flags:{[ah.u_]:!1}}]}))},[t,a,e]);return r.createElement(aT.t,{trackingName:ak.Mm,hideModal:a},r.createElement(aC.$,{titleText:r.createElement(tQ.E,{fontSize:24,fontWeight:"bold"},(0,s.tx)("pro_trials_v3.downgrade_modal.title")),descriptionText:r.createElement(tQ.E,{color:"secondary",fontSize:13},(0,s.tx)("pro_trials_v3.downgrade_modal.description")),middleContent:r.createElement(aA,null),ctaOnClick:a,ctaDisabled:!1,ctaText:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.cta.text")),textCtaOnClick:n,textCtaText:r.createElement(tQ.E,null,(0,s.tx)("pro_trials_v3.downgrade_modal.text_cta.text")),hideModal:a}))},"ProTrialDowngradeModal");var aR=a(378459),aD=a(995852),aP=a(421276);function aL(e){let{hideModal:t}=e,a=(0,O.wA)(),n=r.createElement(r.Fragment,null,r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_trials_v3.entry_modal_explanation")),r.createElement(aB,null)),o=r.createElement(i.nD,{onClick:()=>{t(),a((0,B.to)({type:aR.m}))},trackingProperties:ah.ng.getTrackingProperties("Start professional trial")},r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_trials_v3.entry_modal_cta_text")));return r.createElement(aU,{titleText:r.createElement(tQ.E,{fontSize:24,fontWeight:"bold"},(0,s.tx)("pro_trials_v3.entry_modal_title")),descriptionText:n,ctaButton:o,imgSrc:"https://static.figma.com/uploads/4323e87513cec17f5decef84ebf66c12c0d2ea59"})}function aM(e){let{teamId:t,hideModal:a}=e,n=(0,O.wA)(),o=r.createElement(r.Fragment,null,r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_trials_v3.team_welcome_modal_explanation")),r.createElement(aB,null)),l=r.createElement(i.nD,{onClick:()=>{a(),n(ev.$T({view:"team",teamId:t}))},trackingProperties:ah.ng.getTrackingProperties("Team welcome to Professional trial")},r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_trials_v3.team_welcome_modal_cta")));return r.createElement(aU,{descriptionText:o,titleText:r.createElement(tQ.E,{fontSize:24,fontWeight:"bold"},(0,s.tx)("pro_trials_v3.team_welcome_modal_title")),imgSrc:"https://static.figma.com/uploads/4323e87513cec17f5decef84ebf66c12c0d2ea59",ctaButton:l})}function aF(e){let{hideModal:t,teamId:a}=e,n=(0,O.wA)(),o={view:"team",teamId:a},l=r.createElement(i.nD,{onClick:()=>{t(),n(aD.WX({teamId:a,selectedView:o}))},trackingProperties:ah.ng.getTrackingProperties("Upgrade from Pro trial expiry modal")},r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_trials_v3.expiry_modal_cta_text"))),c=r.createElement(i.$9,{onClick:()=>{n((0,B.to)({type:aO,data:{teamId:a}}))},trackingProperties:ah.ng.getTrackingProperties("Go back to Starter from Pro trial expiry modal")},r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_trials_v3.expiry_modal_secondary_cta_text")));return r.createElement(aU,{titleText:r.createElement(tQ.E,{fontSize:24,fontWeight:"bold"},(0,s.tx)("pro_trials_v3.expiry_modal_title")),descriptionText:r.createElement(tQ.E,{fontSize:13},(0,s.tx)("pro_trials_v3.expiry_modal_explanation")),ctaButton:l,secondaryCtaButton:c,imgSrc:"https://static.figma.com/uploads/47a15784276e736195c9794a0c47c4d02c4c3ca4"})}function aU(e){let{titleText:t,descriptionText:a,ctaButton:n,imgSrc:o,secondaryCtaButton:l}=e;return r.createElement("div",{className:"pro_trials_v3_modal_components--container--vGyv-"},r.createElement("div",{className:"pro_trials_v3_modal_components--textContainer--jYLvj"},r.createElement("p",null,t),r.createElement("div",null,a),r.createElement("div",{className:"pro_trials_v3_modal_components--ctaRow--ENAnk"},n,l)),r.createElement(eg.Gv,{width:313,src:o}))}function aB(){return r.createElement("div",{className:"pro_trials_v3_modal_components--proFeatureCheckBullets--B5Jb5"},r.createElement(aP.X,{bulletLabel:(0,s.t)("pro_trials_v3.entry_modal_bullet_pt_1")}),r.createElement(aP.X,{bulletLabel:(0,s.t)("pro_trials_v3.entry_modal_bullet_pt_2")}),r.createElement(aP.X,{bulletLabel:(0,s.t)("pro_trials_v3.entry_modal_bullet_pt_3")}))}function aj(){let e=(0,p.e)({overlay:h.MwQ,priority:g.N.DEFAULT_MODAL}),t=(0,O.wA)();return(0,T.h)(()=>{e.show()}),r.createElement(J.h,{isShowing:e.isShowing,element:()=>r.createElement(aL,{hideModal:e.complete}),modalType:ef.q3.FEATURE_UPDATE,trackingContextName:"pro_trials_entry_modal",trackingProperties:ah.ng.getTrackingProperties(),onClose:()=>{t(j.b({[ah.Jy]:!0})),e.complete()},onClickPrimaryCta:e.complete,onManualDismiss:e.complete,width:700,height:404,disableClickOutsideToHide:!0,closeButtonStyle:ef.M_.ON_DARK})}function az(e){let t=(0,p.e)({overlay:h.NdL,priority:g.N.DEFAULT_MODAL}),{proTrial:a}=e,n=a.teamId,o=(0,O.wA)();(0,T.h)(()=>{t.show()});let l=r.useCallback(()=>o(as.bE({all_team_flags:[{team_id:n,flags:{[ah.u_]:!0}}]})),[o,n]);return r.createElement(J.h,{isShowing:t.isShowing,element:()=>r.createElement(aF,{teamId:n,hideModal:t.complete}),modalType:ef.q3.FEATURE_UPDATE,trackingContextName:"pro_trials_expiry_modal",trackingProperties:ah.ng.getTrackingProperties(),onClose:()=>{l(),t.complete()},onClickPrimaryCta:t.complete,onManualDismiss:t.complete,width:700,height:404,disableClickOutsideToHide:!0,closeButtonStyle:ef.M_.ON_LIGHT})}function aG(e){let t=(0,p.e)({overlay:h.bGx,priority:g.N.DEFAULT_MODAL}),{proTrial:a}=e,n=a.teamId,o=(0,O.wA)();(0,T.h)(()=>{t.show()});let l=r.useCallback(()=>o(as.bE({all_team_flags:[{team_id:n,flags:{[ah.v$]:!0}}]})),[o,n]);return r.createElement(J.h,{isShowing:t.isShowing,element:()=>r.createElement(aM,{teamId:n,hideModal:t.complete}),modalType:ef.q3.FEATURE_UPDATE,trackingContextName:"pro_trials_v3_team_welcome_modal",trackingProperties:ah.ng.getTrackingProperties(),onClose:()=>{l(),t.complete()},onClickPrimaryCta:t.complete,onManualDismiss:t.complete,width:700,height:404,disableClickOutsideToHide:!0,closeButtonStyle:ef.M_.ON_DARK})}function a$(){let e=(0,Y._6)(),t=(0,O.d4)(e=>e.userTeamFlags),a=(0,O.d4)(e=>!!e.modalShown),n=(0,X.f)(ah.Jy),o=(0,aE.xX)(),{ongoingTrials:l,expiredTrials:i}=(0,aE.j9)(),s=ah.ng.entryEnabled()&&o.length>0&&!n,c=l.find(e=>{let a=t[e.teamId]?.[ah.v$];return!e.isOwner&&!a&&e.daysLeft>0}),m=i.find(e=>{if(!ah.ng.canSeeProTrialExpiryUx(e))return!1;let a=t[e.teamId]?.[ah.u_];return e.isOwner&&!a}),d=r.useCallback(()=>s?r.createElement(aj,null):m?r.createElement(az,{proTrial:m}):c?r.createElement(aG,{proTrial:c}):null,[s,m,c]);return!ah.ng.isEligibleTrialEntryView(e)||a?null:r.createElement("div",{"data-testid":"proTrialsV3FileBrowserOverlayWrapper"},d())}var aW=a(988261),aH=a(529928);let aq=(0,tg.eU)(()=>{let e=(0,el.UG)();try{return e.get(aW.Bq)}catch(e){console.error("Failed to get show modal cookie",e)}return!1}),aK=(0,aH.bt)(e=>null!=e.payment.promo);var aV=a(543312);function aY({dismissModal:e}){let t=(0,O.d4)(({payment:e})=>e.promo);return((0,T.h)(()=>{(0,aW.lc)()}),(0,r.useEffect)(()=>{null==t&&e()},[e,t]),null==t)?null:r.createElement(m.NJ,{targetKey:e1,dismissModal:e,width:301,shouldScrollTargetIntoView:!0},r.createElement("div",{className:eq.Hj},(0,s.tx)("rcs.promo_new_team_create_pointer.first_create_a_team")),(0,s.tx)("rcs.promo_new_team_create_pointer.to_get_professional_free_for_days_you_ll_need_to_set_up_a_new_team_first_it_ll_take_less_than_a_minute",{days:parseInt(t.promo_value)}))}function aX(){let e=(0,l.md)(aV.I),t=(0,l.md)(aq),a=(0,l.md)(aK),n=(0,p.e)({overlay:h.Qlc,priority:g.N.OVERRIDING_MODAL},[e]),o=(0,r.useCallback)(()=>{t&&a&&n.show({canShow:e=>!e})},[t,a,n]);return(0,T.h)(()=>{o()}),r.createElement(J.h,{element:aY,isShowing:n.isShowing,modalType:ef.q3.SELF_CONTAINED,onClickPrimaryCta:n.complete,onClose:n.complete,onManualDismiss:n.complete,trackingContextName:"Redeem Promo Code > Create Team"})}var aJ=a(80889),aQ=a(758259),aZ=a(594901),a0=a(428467);function a1(e){let t=(0,O.wA)(),a=e.promo,n="",o=parseInt(a.promo_value);if(a.claims_end_at){let e=new Date(Date.parse(a.claims_end_at));n=a.is_multi_redeemable?(0,s.t)("promo.select_team.multi_redeem_w_deadline_promo_str.seat_rename",{days:o,date:e}):(0,s.t)("promo.select_team.single_redeem_w_deadline_promo_str.seat_rename",{days:o,date:e})}else n=a.is_multi_redeemable?(0,s.t)("promo.select_team.multi_redeem_without_deadline_promo_str.seat_rename",{days:o}):(0,s.t)("promo.select_team.single_redeem_without_deadline_promo_str.seat_rename",{days:o});return r.createElement(L.Nb,{hide:e.dismissModal,size:437,className:"promo_code_select_team_content--modal--20aUA"},r.createElement("div",{className:"promo_code_select_team_content--promoSelectTeamTitle--f1dSV text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,s.tx)("promo.select_team.choose_teams_to_upgrade")),r.createElement("div",{className:"promo_code_select_team_content--promoSelectTeamDescription--pHb18 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n),r.createElement(R.Jn,{className:"promo_code_select_team_content--closeButton--iQ6-4",onClick:e.dismissModal,innerText:"close"}),r.createElement(i.Kz,{multiple:2}),r.createElement(aJ.I,{eligibleTeams:e.starterTeams,selectTeam:a=>{t(aQ.g_({teamId:a.id,teamName:a.name,previousView:e.previousView}))},numDesignFilesPerTeam:e.filesPerStarterTeam}))}function a4({dismissModal:e}){let t=(0,O.d4)(({payment:e})=>e.promo),a=(0,O.d4)(({selectedView:e})=>e),n=(0,O.d4)(e=>e.teams),o=(0,aZ.FC)(),l=r.useMemo(()=>Object.values(n).filter(e=>!(0,av.w5)(e)&&(0,a0.canEditTeam)(e.id,o)),[n,o]),i=[],s=r.useMemo(()=>l.map(e=>({teamId:e.id})),[l]);return((0,ai.p)(th.bel,s).forEach(e=>{i.push(e.result.data?.team?.teamFileCounts?.designFileCount??0)}),(0,T.h)(()=>{(0,aW.lc)()}),(0,r.useEffect)(()=>{(null==t||0===l.length)&&e()},[e,t,l]),null==t||0===l.length)?null:r.createElement(a1,{starterTeams:l,promo:t,filesPerStarterTeam:i,dismissModal:e,previousView:a})}function a8(){let e=(0,l.md)(aV.I),t=(0,l.md)(aq),a=(0,l.md)(aK),n=(0,p.e)({overlay:h.I$z,priority:g.N.OVERRIDING_MODAL},[e]),o=(0,r.useCallback)(()=>{t&&a&&n.show({canShow:e=>e})},[t,a,n]);return(0,T.h)(()=>{o()}),r.createElement(J.h,{element:a4,isShowing:n.isShowing,modalType:ef.q3.WELCOME,onClickPrimaryCta:n.complete,onClose:n.complete,onManualDismiss:n.complete,trackingContextName:"Redeem Promo Code > Select Team"})}var a3=a(644800),a6=a(344339),a2=a(402609),a7=a(796933);let a9="seen_team_project_link_overlay",a5=(0,f.r1)(a9);function re(){let e=(0,l.md)(a5),t=(0,ac.fn)(),a=()=>t===ac.ih.CONTROL,{show:n,isShowing:o,complete:i}=(0,p.e)({overlay:h.BTz,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>a(),predicate:e=>!e,postCheck:e=>!e}},[e]);return(0,T.h)(()=>{n({canShow:e=>!e})}),r.createElement(t9.rq,{arrowPosition:c.F_.LEFT_TITLE,description:(0,s.tx)("team_project_link.overlay.description"),emphasized:!0,isShowing:o,onClose:i,targetKey:a7.Jo,trackingContextName:"Team Project Link Overlay",userFlagOnShow:a9,zIndex:to.R.MODAL})}var rt=a(634732),ra=a(646240),rr=a(370456),rn=a(538918);let ro=(0,tg.eU)(!1);function rl(){let e=(0,l.md)(C.NT),t=(0,l.md)(f.$B),a=(0,l.md)(C.g5),o=(0,ra.Xr)(ro),{show:i,isShowing:s,complete:c}=(0,p.e)({overlay:h.s7O,priority:g.N.OVERRIDING_MODAL},[t,e,a]),m=(0,r.useCallback)((e,t,a)=>!e&&!(0,rn.d2)({emailValidatedAt:a,jobTitle:t}),[]);(0,T.h)(()=>i({canShow:m}));let d=r.useCallback(()=>{c()},[c]);return s?(0,n.kc)().show_unified_dynamic_preview_nux?r.createElement(rr.b,{trackingContextName:"Gen 0 NUX",isShowing:s,onOverlayClose:()=>{o(!0),d()},dataTestId:"NuxDynamicPreviewOverlay-MobileOnboardFileBrowser"}):r.createElement(rn.vm,{onClickPrimaryCta:d,onClose:()=>{o(!0),d()},isShowing:s}):null}var ri=a(720750),rs=a(882980),rc=a(650322),rm=a(454984);function rd(){let e=(0,l.md)(f.qG),t=(0,l.md)(C.Qm),a=(0,l.md)(C.zN),r=(0,O.wA)(),n=(0,p.e)({overlay:h.Ult,priority:g.N.HIGH_PRIORITY_MODAL},[e,t,a]);return(0,T.h)(()=>{n.show({canShow:(e,t,a)=>!(0,em.mW)(e,"seen_edu_offboarding_modal")&&(0,rc.x$)(t,a)!==1/0,onShow:()=>{r((0,B.to)({type:rm.ZL})),r(j.b({seen_edu_offboarding_modal:!0})),n.complete()}})}),null}var r_=a(129318);let ru={key:"createEduTeam",value:"1"},rp={key:"upgradeEduTeam",value:"1"};var rf=a(408462);function rg(){let e=(0,p.e)({overlay:h.kmq,priority:g.N.HIGH_PRIORITY_MODAL}),t=(0,O.wA)();return(0,T.h)(()=>{let a=(0,r_.QL)(ru.key),r=(0,r_.QL)(rp.key);a===ru.value?e.show({onShow:()=>{t(U.Dw({isEduTeam:!0})),(0,r_.EM)(ru.key)}}):r===rp.value&&e.show({onShow:()=>{t((0,B.to)({type:rf.q})),(0,r_.EM)(rp.key)}})}),null}let rE=(0,f.Fu)("seen_plan_spaces_launch_modal"),rh=(0,f.Fu)("seen_limited_spaces_onboarding"),rb=new Date("2024-10-30T20:00:00.000Z").getTime();function rw(){let e=(0,O.d4)(e=>e.plans),t=(0,l.md)(C.mp),a=(0,l.md)(rE),o=(0,l.md)(rh),i=e.some(e=>e.plan_type===tV.O.TEAM&&e.is_guest),c=!!(0,n.kc)().limited_plan_spaces&&i,{show:m,isShowing:d,complete:_}=(0,p.e)({overlay:h.Sgd,priority:g.N.HIGH_PRIORITY_MODAL},[t,a,o]);return(r.useEffect(()=>{c&&m({canShow:(e,t,a)=>!!t&&!a&&e.getTime()<=rb})},[c,m]),e.length)?r.createElement(t9.rq,{isShowing:d,testId:"limited_plan_spaces_onboarding_test_id",targetKey:t$.U,primaryCta:{label:(0,s.tx)("rcs.got_it"),type:"button",onClick:_,ctaTrackingDescriptor:ta.c.GOT_IT},arrowPosition:tX.F_.RIGHT_TITLE,title:(0,s.tx)("rcs.limited_spaces.find_shared_projects"),description:(0,s.tx)("rcs.limited_spaces.external_projects"),trackingContextName:"Limited Spaces Onboarding Overlay",onClose:_,disableHighlight:!0,emphasized:!0}):null}var ry=a(656107),rx=a(898211),rT=a(206193);function rC(){let e=(0,O.wA)(),t=(0,l.md)(C.d2),a=(0,p.e)({overlay:h.Wb3,priority:g.N.URGENT_ALERT},[t]);return(0,T.h)(()=>{switch((0,r_.QL)("upgrade")){case"pro":a.show({canShow:e=>e===e_.qo.PERSONAL,onShow:()=>{let t={dispatch:e,plan:rx.In.PRO,upsellSource:rT.b.UNIVERSAL_UPGRADE_SEQUENCE_MACHINE};e((0,B.to)({type:rx.dR,data:{...t}})),a.complete()}});break;case"plan_comparison":a.show({canShow:e=>e===e_.qo.PERSONAL,onShow:()=>{e((0,B.to)({type:ry.V,data:{upsellSource:rT.b.DEEPLINK}})),a.complete()}})}}),null}function rv(){let e=(0,ty.rO)()===a6.OL.ORG;return r.createElement(r.Fragment,null,r.createElement(a2.p,null,r.createElement(rC,null)),r.createElement(a2.p,null,r.createElement(rg,null)),r.createElement(a2.p,{featureFlag:"edu_offboarding_experience"},r.createElement(rd,null)),(o.XN||!o.rr)&&r.createElement(r.Fragment,null,r.createElement(a2.p,null,r.createElement(rs.$l,null)),r.createElement(a2.p,null,r.createElement(ri.L,null)),r.createElement(a2.p,null,r.createElement(te,null)),r.createElement(a2.p,{featureFlag:"figjam_3p_file_importer"},r.createElement(V,null)),r.createElement(a2.p,null,r.createElement(rt.P,null))),!o.XN&&o.nW&&r.createElement(r.Fragment,null,r.createElement(a2.p,null,r.createElement(rs.$l,null)),r.createElement(a2.p,null,r.createElement(rl,null))),r.createElement(a2.p,{featureFlag:"pro_trials_v3_ux"},r.createElement(a$,null)),r.createElement(a2.p,null,r.createElement(t2,null),r.createElement(rw,null)),r.createElement(a2.p,null,r.createElement(aa,null),r.createElement(al,null)),r.createElement(a2.p,null,r.createElement(re,null)),r.createElement(a2.p,null,r.createElement(aX,null),r.createElement(a8,null)),r.createElement(a2.p,null,r.createElement(A,null)),r.createElement(a2.p,null,r.createElement(x,null)),e&&r.createElement(a2.p,null,r.createElement(tB,null)),r.createElement(a2.p,null,r.createElement(td,null)),(0,n.kc)().mobile_sign_up_redirect&&o.rr&&r.createElement(a2.p,null,r.createElement(er,null)),r.createElement(a2.p,null,r.createElement(af,null)),r.createElement(a2.p,{featureFlag:"scrub_file_browser_search_results"},r.createElement(a3.b0,null)))}},889754:(e,t,a)=>{a.d(t,{l:()=>L,U:()=>M});var r=a(411855),n=a(188507),o=a(634832),l=a(308548),i=a(363137),s=a(305821),c=a(302586),m=a(954244),d=a(115630),_=a(629019),u=a.n(_),p=a(966712),f=a(498750),g=a(268537),E=a(939863),h=a(386079),b=a(738269),w=a(507877),y=a(119198),x=a(672517),T=a(875847),C=a(544949),v=a(594901),k=a(102310),N=a(99506),S=a(945020),I=a(298543),A=a(896026);let O="new_file_dropdown--icon--cXM0y",R="new_file_dropdown--iconDisabled--hnVxk",D="new_file_dropdown--optionSubtext--nmTrl",P=(0,x.tf)(g.c$),L="CREATE_FILES_ONBOARDING_KEY";function M({from:e,anchorRef:t,lean:a,team:o,folder:l}){let i=(0,k.B)(l.id),s=(0,v.Xx)(i?.currentOrgId),c=!!(i?.currentOrgId&&i?.orgById[i.currentOrgId]?.is_slides_disabled),{canCreateSlidesFile:m}=l,d=(0,r.useRef)(null),_=(0,n.wA)(),[u,E]=(0,r.useState)(null),h=t.current;if((0,r.useLayoutEffect)(()=>{if(!h)return;let e=h.getBoundingClientRect();e.y+=4,E(e)},[h]),!u)return null;let x=(t,a)=>{let r={state:i,editorType:a,team:o,folderId:l.id,isDraftsFolder:(0,T.T9)(l),from:e,openNewFileIn:(0,f.oJ)(t)?S.ai.NEW_TAB:S.ai.SAME_TAB};_(y.zE(r)),_(b.oB())};return r.createElement(r.Fragment,null,r.createElement(I.Cf,{leanPadding:8,lean:a,targetRect:u,ref:d,className:"new_file_dropdown--newFileDropdown--fQGwc",onboardingKey:(0,T.T9)(l)?L:void 0,propagateCloseClick:!0},r.createElement(F,{type:A.R.DESIGN,onClick:e=>x(e,N._Y.DESIGN),isDisabled:!l.canCreateDesignFile}),r.createElement(F,{type:A.R.WHITEBOARD,onClick:e=>x(e,N._Y.WHITEBOARD),isDisabled:!l.canCreateFigjamFile,isOrgDisabled:s}),(0,p.kc)().piper?r.createElement(F,{type:A.R.SLIDES,onClick:e=>x(e,N._Y.SLIDES),isDisabled:!m,isOrgDisabled:c}):null,r.createElement(g.wv,null),r.createElement(F,{type:A.R.IMPORT,onClick:()=>{_(w.gN(l.id)),_((0,C.L)())},isDisabled:!l.canCreateDesignFile&&!l.canCreateFigjamFile})))}function F({type:e,showRequestUpgradeModal:t,isDisabled:a,isOrgDisabled:n,onClick:_}){let f,g;let b="design",w=e===A.R.IMPORT,y=w?h._:void 0,x=e===A.R.SLIDES;switch(e){case A.R.DESIGN:f=(0,E.t)("file_browser.tool_bar.new_design_file"),g=r.createElement(l.k,{className:a?R:O}),b="design";break;case A.R.WHITEBOARD:f=(0,E.t)("file_browser.tool_bar.new_figjam_board"),g=r.createElement(i.D,{className:a?R:O}),b="whiteboard";break;case A.R.SLIDES:f=(0,E.t)("file_browser.tool_bar.new_slide_deck"),g=r.createElement(s.l,{className:a?R:O}),b="piper";break;case A.R.SITES:f=(0,E.t)("sites.toolbar.new_site_file"),g=r.createElement(c.Y,{className:a?R:O}),b="seascape";break;case A.R.IMPORT:f=(0,E.t)("file_browser.folder.import"),g=r.createElement(m.R,{className:a?R:O});break;case A.R.COOPER:f=(0,E.t)("file_browser.tool_bar.new_cooper_file"),g=r.createElement(m.R,{className:a?R:O});break;default:(0,o.assertNever)(e)}return r.createElement(d.v,{mode:b},r.createElement(P,{disabled:a,key:e,onboardingKey:y,onPointerUp:e=>_(e),className:u()({"new_file_dropdown--dropdownOption--5UeSh":!0,"new_file_dropdown--genericHoverOption--2y1CP":!a,"new_file_dropdown--importHoverOption--ADpsj":w&&!a})},g,r.createElement("div",{className:"new_file_dropdown--dropdownOptionGroup--IT44M"},r.createElement("div",{className:"new_file_dropdown--fileOptionContainer--MxCcc"},r.createElement("span",null,f),n?r.createElement("span",{className:D},(0,E.tx)("sidebar.disabled_by_your_organization")):t?r.createElement("span",{className:D},(0,E.tx)("sidebar.need_an_upgrade_to_create")):null),(0,p.kc)().omnicreate_slides_beta_tag&&x&&r.createElement("div",{className:"new_file_dropdown--betaTag--s61c1 text--fontPos9--naThA text--_fontBase--QdLsd"},(0,E.t)("file_browser.creation_buttons.beta")))))}},386079:(e,t,a)=>{a.d(t,{_:()=>d,o:()=>_});var r=a(188507);if(443==a.j)var n=a(860601);var o=a(939863),l=a(896026),i=a(349410),s=a(544949),c=a(498606),m=a(895379);let d="import";function _(e){let t=(0,r.wA)(),a=(0,i.Yz)()(!!e.isTeamLocked),d=!!e.disabled||a,_=d?n.lQ:()=>{t((0,s.L)())},u=d?(0,o.t)("locked_team.label.tooltip"):void 0,p=d?c.Ib.TEXT:void 0;return{disabled:d,onClick:_,dataTooltip:u,dataTooltipType:p,displayText:(0,o.t)("file_browser.folder.import"),dataTestId:"file-import-button",key:m.D.IMPORT,listOptionType:l.R.IMPORT}}},317372:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(38580).eU)(void 0)},378459:(e,t,a)=>{a.d(t,{m:()=>I});var r=a(411855),n=a(188507),o=a(459401),l=a(881388),i=a(939863),s=a(924614),c=a(738269),m=a(662275),d=a(758259),_=a(7e3),u=a(888870),p=a(237870),f=a(175290),g=a(809840),E=a(734105),h=a(672517),b=a(746869),w=a(123904);function y(e){let{selectedFeatures:t,setSelectedFeatures:a,shuffledFeaturesContent:n,hideModal:o,onClickCTA:l,onBack:s}=e;return r.createElement(h.fu,{name:u.iX[u.iX.SELECT_FEATURES]},r.createElement(E.$,{stepProps:{currentStep:u.iX.SELECT_FEATURES,totalSteps:u.h3},titleText:r.createElement(g.E,{fontSize:24,fontWeight:"bold"},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.what_are_you_excited")),descriptionText:r.createElement(g.E,{fontSize:13},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.you_have_14_days",{proTrialDuration:b.$g})),middleContent:r.createElement("div",{className:w.vb},n.map(({featureType:e,featureText:n})=>r.createElement(x,{featureIcon:u.bo[e],featureText:n,key:e,onClick:()=>{t.has(e)?a(new Set([...t].filter(t=>e!==t))):a(new Set([...t,e]))},isSelected:t.has(e)}))),ctaOnClick:l,ctaDisabled:0===t.size,ctaText:r.createElement(g.E,null,(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.finish")),textCtaOnClick:s,textCtaText:r.createElement(g.E,{fontSize:13},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")),hideModal:o}))}function x(e){let{featureIcon:t,featureText:a,onClick:n,isSelected:o}=e;return r.createElement(h.jm,{role:"button",className:o?w.a4:w.Tj,onClick:n},r.createElement(f.Y,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",spacing:"12px"},r.createElement(f.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",width:32,height:32},t),a))}function T(e){let{selectedTeamName:t,setSelectedTeamType:a,selectedTeamType:n,shuffledTeamTypeContent:o,hideModal:l,onClickCTA:s,onBack:c}=e;return r.createElement(h.fu,{name:u.iX[u.iX.SELECT_TEAM_TYPE]},r.createElement(E.$,{stepProps:{currentStep:u.iX.SELECT_TEAM_TYPE,totalSteps:u.h3},titleText:r.createElement(g.E,{fontSize:24,fontWeight:"bold"},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.what_type_of_team",{teamName:t})),descriptionText:r.createElement(g.E,{fontSize:13},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.not_being_nosy")),middleContent:r.createElement(f.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:"12px"},o.map(({teamType:e,imageAltText:t,descriptionText:o})=>r.createElement(C,{key:e,isSelected:e===n,onClick:()=>{e!==n?a(e):a(void 0)},image:r.createElement("img",{src:u.$Q[e],alt:t(),height:110}),text:o}))),ctaOnClick:s,ctaDisabled:void 0===n,ctaText:r.createElement(g.E,null,(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.continue")),textCtaOnClick:c,textCtaText:r.createElement(g.E,{fontSize:13},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")),hideModal:l}))}function C(e){let{image:t,text:a,onClick:n,isSelected:o}=e;return r.createElement(h.jm,{role:"button",className:o?w.Qn:w.xM,onClick:n},r.createElement(f.Y,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",spacing:8,padding:{horizontal:12},height:195},t,a))}var v=a(67294),k=a(134279);function N(e){let{teams:t,setSelectedTeamID:a,selectedTeamID:n,hideModal:o,onClickCTA:l,onBack:s}=e;return r.createElement(h.fu,{name:u.iX[u.iX.SELECT_TEAM]},r.createElement(E.$,{stepProps:{currentStep:u.iX.SELECT_TEAM,totalSteps:u.h3},titleText:r.createElement(g.E,{fontSize:24,fontWeight:"bold"},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.pick_a_team")),descriptionText:r.createElement(g.E,{fontSize:13},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.everyone_will_be_upgraded")),middleContent:r.createElement("div",{className:w.by},t.map(e=>r.createElement(S,{team:e,key:e.id,onClick:()=>{e.id!==n?a(e.id):a(void 0)},isSelected:e.id===n}))),ctaOnClick:l,ctaDisabled:void 0===n,ctaText:r.createElement(g.E,null,(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.upgrade_to_pro")),textCtaOnClick:s,textCtaText:r.createElement(g.E,{fontSize:13},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.cancel")),hideModal:o}))}function S(e){let{team:t,onClick:a,isSelected:n}=e;return r.createElement(h.jm,{role:"button",className:n?w.SN:w.Ds,onClick:a},r.createElement("div",{className:w.lq},r.createElement(v.nl,{team:t,size:k.P.LARGE}),r.createElement("div",{className:w.aj},r.createElement(g.E,{children:t.name,fontSize:14,truncate:"end",fontWeight:"medium"}))),r.createElement(g.E,{color:"secondary",fontSize:14,fontWeight:"medium"},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.editors.seat_rename",{numEditors:t.editors})))}let I=(0,p.Ju)(function(){let[e,t]=(0,r.useState)(u.iX.SELECT_TEAM),[a,p]=(0,r.useState)(),[f,g]=(0,r.useState)(),[E,h]=(0,r.useState)(new Set),[b,w]=(0,r.useState)(u.TB),[x,C]=(0,r.useState)(u.PG),v=(0,_.xX)(),k=(0,n.wA)(),S=(0,r.useCallback)(()=>v.find(e=>e.id===a)?.name??(0,i.t)("pro_trials_v3.pro_trial_initiation_modal.your_team"),[v,a]),I=(0,r.useCallback)(()=>k(m.Ce()),[k]),A=(0,i.t)("payments.pro_trial.start_pro_trial_error");(0,r.useEffect)(()=>{w((0,o.shuffle)(u.TB)),C((0,o.shuffle)(u.PG))},[]);let O=(0,r.useCallback)(()=>{void 0===a?t(u.iX.SELECT_TEAM):v.find(e=>e.id===a)?k((0,d.cw)({teamId:a,surveyResult:{teamId:a,teamType:f,features:Array.from(E)}})):(k(c.$T({view:"recentFiles"})),k(l.s.error(A))),I()},[v,k,I,a,f,E,A]);return 0===v.length&&I(),r.createElement(s.t,{trackingName:u.NN,trackingProperties:{currentStage:u.iX[e],teamId:a,selectedTeamType:f??null,selectedFeatures:E.size>0?Array.from(E).join(" "):null},hideModal:I},e===u.iX.SELECT_TEAM&&r.createElement(N,{teams:v,setSelectedTeamID:p,selectedTeamID:a,hideModal:I,onClickCTA:()=>t(u.iX.SELECT_TEAM_TYPE),onBack:I}),e===u.iX.SELECT_TEAM_TYPE&&r.createElement(T,{selectedTeamName:S(),setSelectedTeamType:g,selectedTeamType:f,shuffledTeamTypeContent:b,hideModal:I,onClickCTA:()=>t(u.iX.SELECT_FEATURES),onBack:()=>{t(u.iX.SELECT_TEAM),g(void 0)}}),e===u.iX.SELECT_FEATURES&&r.createElement(y,{selectedFeatures:E,setSelectedFeatures:h,shuffledFeaturesContent:x,hideModal:I,onClickCTA:O,onBack:()=>{t(u.iX.SELECT_TEAM_TYPE),h(new Set)}}))},"ProTrialInitiationModal")},924614:(e,t,a)=>{a.d(t,{t:()=>s});var r=a(411855),n=a(672517),o=a(746869),l=a(488578),i=a(123904);function s({hideModal:e,trackingName:t,trackingProperties:a,children:s}){return r.createElement(n.fu,{name:t,properties:{...a,...o.ng.getTrackingProperties()}},r.createElement(l.Nb,{hide:e,size:"any",className:i.jT},s))}},734105:(e,t,a)=>{a.d(t,{$:()=>_});var r=a(411855),n=a(799569),o=a(946689),l=a(163023),i=a(939863),s=a(809840),c=a(746869),m=a(123904);if(443==a.j)var d=a(694953);function _(e){let{stepProps:t,titleText:a,descriptionText:_,middleContent:u,ctaOnClick:p,ctaDisabled:f,ctaText:g,textCtaOnClick:E,textCtaText:h,hideModal:b}=e;return r.createElement("div",{className:m.kL},r.createElement("div",{className:m.wx},r.createElement(l.B,{svg:d.A,className:m.Kk,useOriginalSrcFills_DEPRECATED:!0}),r.createElement(n.Jn,{innerText:"Close",onClick:b})),r.createElement("div",{className:m.Qs},r.createElement("div",{className:m.Tn},t&&r.createElement(s.E,{color:"secondary",fontSize:13},(0,i.tx)("pro_trials_v3.pro_trial_initiation_modal.step_counter",{currentStep:t.currentStep+1,totalSteps:t.totalSteps})),a,_),u,r.createElement("div",{className:m.qr},r.createElement(o.nD,{onClick:p,className:m.Ub,disabled:f,trackingProperties:c.ng.getTrackingProperties("continue")},g),r.createElement(o.eM,{trackingProperties:c.ng.getTrackingProperties("go back"),onClick:E},h))))}},131750:(e,t,a)=>{a.d(t,{f:()=>c,C:()=>m});var r=a(411855),n=a(188507),o=a(738269),l=a(498606),i=a(227795),s=a(501191);function c(e){return r.createElement(i.Me,{svg:s.A,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,"data-tooltip-type":l.Ib.TEXT,"data-tooltip":e.data_tooltip,"data-onboarding-key":e.data_onboarding_key,"data-tooltip-show-immediately":e.disabled||void 0,innerText:e.innerText,isBackgroundTransparent:e.isBackgroundTransparent,className:"addition_button--button--X9H6b",disabled:e.disabled})}function m(e){let t=(0,n.wA)(),a=r.useCallback(()=>{t(o.j7({type:e.dropdownType}))},[t,e.dropdownType]),l=(0,n.d4)(e=>e.dropdownShown);return r.createElement("div",null,r.createElement(c,{onClick:a,data_tooltip:e.data_tooltip,data_onboarding_key:e.data_onboarding_key,innerText:e.innerText}),l?.type===e.dropdownType&&e.children)}},576996:(e,t,a)=>{a.d(t,{u:()=>g,s:()=>E});var r=a(411855),n=a(966712),o=a(448169),l=a(939863),i=a(896474),s=a(809840),c=a(408409),m=a(635412),d=a(948118),_=a(919114),u=a(738269),p=a(507877),f=a(93536);let g="DRAFT_FOLDER_LINK_ONBOARDING_KEY";function E(e){let[t,a]=r.useState(!1),[E,h]=r.useState(!1),b=!(0,n.kc)().pdr_trashed_section&&"deletedFiles"===e.selectedView.view;return r.createElement(o.Y,{isDragTarget:e=>{let t=new f.le(e);return!!(t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles())},onTargetDragEnter:()=>{a(!0)},onTargetDragLeave:()=>{a(!1)},onTargetDrop:t=>{let r=new f.le(t);(0,c.A)(e.dispatch,e.folder,null,r),e.dispatch(_.T()),a(!1)},draggable:!1,onMouseOver:()=>{h(!0)},onMouseLeave:()=>{h(!1)}},r.createElement(d.Z,{rowClassName:t?"draft_folder_link--dropBorder--e3RmP":void 0,isSelected:"folder"===e.selectedView.view&&e.selectedView.folderId===e.folder.id||b,onClick:t=>{let a=e.folder;t.metaKey||t.ctrlKey||0!==t.button||(e.dispatch(p.gN(a.id)),e.dispatch(u.Oe({clickedResourceType:"drafts",resourceIdOrKey:a.id})))},"data-onboarding-key":g,icon:r.createElement(i.In,{icon:"page-16"}),text:r.createElement(s.E,{truncate:!0},(0,l.tx)("sidebar.drafts")),badge:e.shouldHideCreateFileButton?void 0:r.createElement(m.h,{folder:e.folder,isUserDraftFolder:!0,isContainerHovered:E})}))}},485858:(e,t,a)=>{a.d(t,{P:()=>h,r:()=>w});var r=a(411855),n=a(188507),o=a(737947),l=a(966712),i=a(281381),s=a(901536),c=a(939863),m=a(392592),d=a(896474),_=a(809840),u=a(296447),p=a(948118),f=a(738269),g=a(931828),E=a(372038);let h="drafts_to_move_onboarding_key",b=new Date("2024-06-03");function w(e){let t=e.dispatch,a=(0,n.d4)(e=>e.userFlags),w=(0,E.j0)(),y="draftsToMove"===e.selectedView.view;!function(e){let t=(0,n.d4)(e=>e.userFlags),a=(0,l.kc)().ps_draft_migration_toasts,{personal_draft_migration_scheduled:i,personal_draft_migration_completed:s,long_running_draft_migration_toast_shown:d,draft_migration_completed_toast_shown:_}=t,u=(0,r.useCallback)(()=>{e(m.F.enqueue({message:(0,c.t)("file_browser.drafts_to_move.long_running_draft_migration"),button:{text:(0,c.t)("file_browser.drafts_to_move.long_running_draft_migration_learn_more"),action:()=>{o.Ay.unsafeRedirect("https://figma.com/blog/updates-to-how-drafts-work","_blank")}},type:"long-running-draft-migration",timeoutOverride:1/0,onDismiss:()=>{}})),e(g.b({long_running_draft_migration_toast_shown:!0}))},[e]),p=(0,r.useCallback)(()=>{e(m.F.dequeue({matchType:"long-running-draft-migration"})),e(m.F.enqueue({message:(0,c.t)("file_browser.drafts_to_move.long_running_draft_migration_completed")})),e(g.b({draft_migration_completed_toast_shown:!0}))},[e]);r.useEffect(()=>{if(!a||!i)return;if(s&&s.updatedAt>i.updatedAt){if(s.updatedAt<b||_&&_.updatedAt>s.updatedAt)return;p();return}if(d&&d.updatedAt>i.updatedAt)return;let e=new Date().getTime()-new Date(i.updatedAt).getTime();e>3e5?u():setTimeout(()=>{u()},3e5-e)},[a,s,u,p,d,_,i])}(t);let x=a.seen_drafts_to_move_notice_icon?w>0?r.createElement(i.Ex,{text:w>99?"99+":`${w}`,color:y?i.zE.TOOLBAR_SELECTED:i.zE.DEFAULT,className:s.cx.mr8.if(!y,s.cx.colorBgBrandTertiary.colorText).$}):void 0:r.createElement(u.EG,{className:s.cx.mr8.$});return w>0||y?r.createElement(p.Z,{isSelected:y,onClick:e=>{e.metaKey||e.ctrlKey||0!==e.button||(t(f.$T({view:"draftsToMove"})),t(f.Oe({clickedResourceType:"draftsToMove"})),t(g.b({seen_drafts_to_move_notice_icon:!0})))},"data-onboarding-key":h,icon:r.createElement(d.In,{icon:"page-16"}),text:r.createElement(_.E,{truncate:!0},(0,c.tx)("sidebar.drafts_to_move")),badge:x,rowClassName:"drafts_to_move_folder_link--rowClassName--zK3Zf"}):null}},372038:(e,t,a)=>{a.d(t,{Gs:()=>E,j0:()=>g,rO:()=>f});var r=a(411855),n=a(188507),o=a(772841),l=a(794272),i=a(966712),s=a(915440),c=a(507877),m=a(688083),d=a(860178),_=a(279453),u=a(147206);let p=443==a.j?9e5:null;function f(e,t){return!(new Date().getTime()-e.getTime()>p)&&(!t||e.getTime()>t.getTime())}function g(){let e=(0,d.iZ)(),t=(0,n.d4)(e=>e.userFlags),a=e?.personal_drafts_folder_id??"",r=!!a,l=(0,s.Rs)(_.xO7,{projectId:a},{enabled:r});if(!r||h(e,t))return 0;let i=l.data?.project?.status!==o.tT.Loaded?[]:l.data?.project.data?.undeletedFiles??[],c=0,m=new Set;i.forEach(e=>{e.fileRepoId?m.has(e.fileRepoId)||(c++,m.add(e.fileRepoId)):c++});let u=i.filter(e=>e.trackTags?.isTemplate).length;return c===u?0:c}function E(){let{fileByKey:e,fileKeysByFolderId:t,deletedFilesByKey:a,loadedFolders:o}=(0,l.R)(e=>({fileByKey:e.fileByKey,fileKeysByFolderId:e.fileKeysByFolderId,deletedFilesByKey:e.deletedFilesByKey,loadedFolders:e.loadedFolders})),s=(0,d.iZ)(),_=(0,n.wA)(),u=(0,n.d4)(e=>e.userFlags),p=(0,i.kc)().ps_benchmark,f=s?.personal_drafts_folder_id;r.useEffect(()=>{p&&f&&_((0,m.jl)({folderId:f,loadedFolders:o}))},[p,o,_,f]),r.useEffect(()=>{p&&_(c.h3({orgId:null,teamId:null}))},[p,_]);let g=(0,r.useMemo)(()=>p&&f?(t[f]??[]).map(t=>e[t]).filter(e=>!!e):[],[p,e,t,f]);if(h(s,u))return[];let E=Object.keys(a).map(e=>a[e]).filter(e=>e.folder_id===f);return g.concat(E)}function h(e,t){if(!(0,i.kc)().ps_benchmark||(0,u.GU)(e))return!0;let{personal_draft_migration_scheduled:a,personal_draft_migration_completed:r,personal_draft_deletion_scheduled:n,personal_draft_deletion_completed:o}=t,l=a&&f(a.updatedAt,r?.updatedAt),s=n&&f(n.updatedAt,o?.updatedAt);return l||s}},408409:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(198123);function n(e,t,a,n){let o=[],l=[];if(n.isFigFiles()){if(!(o=n.getData()))return}else if(n.isRepos()){let e=n.getReposData();e&&(o=e.files,l=e.repos)}else if(n.isTiles()){let e=n.getTilesData();e&&(o=e.files,l=e.repos)}e(r.z({files:o,repos:l,folder:t,team:a}))}},635412:(e,t,a)=>{a.d(t,{h:()=>d,p:()=>m});var r=a(411855),n=a(188507),o=a(939863),l=a(889754),i=a(131750),s=a(428467),c=a(945020);let m=e=>`new-file-from-folder-link-${e}`;function d(e){let t=(0,n.d4)(e=>s.getPermissionsStateMemoized(e)),a=(0,n.d4)(e=>e.dropdownShown),d=r.useRef(null);if(!e.folder.canCreateDesignFile&&!e.folder.canCreateFigjamFile)return null;let _=e.isUserDraftFolder?c.f6.FILE_BROWSER_SIDEBAR_DRAFTS:c.f6.FILE_BROWSER_SIDEBAR_FOLDER,u=e.folder.teamId?t.teams[e.folder.teamId]:void 0,p=m(e.folder.id),f=a?.type===p;return r.createElement("div",{className:f||e.isContainerHovered?void 0:"folder_link_new_file_button--hidden--NllzU",ref:d,onClick:e=>e.stopPropagation(),role:"none"},r.createElement(i.C,{data_tooltip:(0,o.t)("sidebar.new_file"),data_onboarding_key:"new-file-icon",innerText:(0,o.t)("file_browser.creates_new_file"),dropdownType:p},r.createElement(l.U,{anchorRef:d,from:_,lean:"right",team:u,folder:e.folder})))}},807749:(e,t,a)=>{a.d(t,{U:()=>P,b:()=>L});var r=a(411855),n=a(188507),o=a(794272),l=a(966712),i=a(374626),s=a(281381),c=a(71881),m=a(758297),d=a(901536),_=a(939863),u=a(809840),p=a(317372),f=a(456652),g=a(738269),E=a(935308),h=a(411916),b=a(99506),w=a(596607),y=a(428467),x=a(741477),T=a(45623),C=a(46481),v=a(507877),k=a(607e3),N=a(765612),S=a(696677),I=a(974397),A=a(874804),O=a(247866);function R(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.dropdownShown?.data?.targetRect),a=(0,n.d4)(e=>e.user),o=(0,n.d4)(e=>(0,y.getPermissionsStateMemoized)(e)),l=a?(0,h.pZ)(o,a?.id):void 0,i=(0,n.d4)(e=>e.orgUsersByOrgId);return r.createElement(N.Uo,{items:a&&l?l.map(t=>{let n=(0,h.HE)(o,t),l=(0,h.O_)(o,t),c=!t.orgId,u=!1;t.orgId&&i[t.orgId]&&(u=i[t.orgId][t.userId]?.permission===b._D.GUEST);let p={view:"recentsAndSharing"},f=r.createElement(C.U,{svg:O.A},r.createElement(T.Z,null));return{displayText:n,itemBadge:u?r.createElement(s.Ex,{className:d.cx.ml4.$,text:(0,_.t)("navbar.navbar.guest"),color:s.zE.TOOLBAR}):void 0,icon:r.createElement(m.n,{className:d.cx.mr8.$,userId:t.userId,orgId:t.orgId,personalSpaceIcon:I.A,personalSpaceIcon1x:A.A,size:16}),subText:c&&a.external_restricted_org_id?(0,_.t)("navbar.workspaces.disabled_by_your_admins"):void 0,alternativeRightIconIfNotChecked:c&&a.external_restricted_org_id?f:void 0,isActive:l,isChecked:l,className:S.hd,callback:()=>e(v._l({workspace:t,view:p})),"data-onboarding-key":c?k.m_:void 0}}):[],onSelectItem:(t,a)=>{t.callback&&t.callback("",null,e)},parentRect:t,dispatch:e})}var D=a(942244);let P="PLAN_SWITCHER_ONBOARDING_KEY";function L(){let e=(0,n.wA)(),t=(0,n.d4)(e=>(0,y.getPermissionsStateMemoized)(e)),a=(0,o.R)(e=>(0,h.vp)(e.user,e.currentUserOrgId,e.currentTeamId)),T=w.xw(t)?.permission===b._D.GUEST,C=(0,n.d4)(e=>e.user),v=(0,n.d4)(e=>e.plans);r.useEffect(()=>{(0,l.kc)().ps_benchmark&&e((0,E.hr)({loadedPlans:v}))},[]);let k=C?(0,h.pZ)(t,C?.id):void 0,N=(0,h.HE)(t,a),S=r.useRef(null),[O,L]=(0,i.fp)(p.A);r.useLayoutEffect(()=>{L(S.current?.getBoundingClientRect())},[L]);let M=(0,l.kc)().ps_benchmark,F=M?D.ER:"FILE_BROWSER_PLAN_SWITCHER",U=(0,n.d4)((0,x.E)(F));if(!a||!k)return null;let B=M||k.length>1,j=r.createElement("div",{className:d.cx.flex.flexRow.itemsCenter.overflowHidden.if(!B,d.cx.pl4).$},r.createElement(m.n,{size:16,userId:a.userId,orgId:a.orgId,teamId:a.teamId,personalSpaceIcon:I.A,personalSpaceIcon1x:A.A}),r.createElement("div",{className:d.cx.flex.flexRow.ml8.overflowHidden.$},r.createElement(u.E,{fontSize:13,fontWeight:"medium",color:"default",truncate:!0},N)),!M&&T&&r.createElement(s.Ex,{className:d.cx.ml6.$,color:s.zE.TERTIARY,text:(0,_.t)("navbar.navbar.guest")}));if(!B)return j;let z=M?D.zt:R;return r.createElement(r.Fragment,null,r.createElement("div",{className:d.cx.flex.flexRow.itemsCenter.justifyBetween.$,"data-onboarding-key":P},r.createElement(c.g,{isShowingDropdown:U,ref:S,onClick:()=>{let t=S.current?.getBoundingClientRect();t&&!U&&e(g.j7({type:F,data:{targetRect:t}}))}},j),M&&r.createElement(f.A,{workspace:a})),S.current&&U&&r.createElement(z,null))}},942244:(e,t,a)=>{a.d(t,{ER:()=>k,KC:()=>N,zt:()=>S});var r=a(411855),n=a(188507),o=a(675678),l=a(966712),i=a(315044),s=a(776621),c=a(163023),m=a(758297),d=a(901536),_=a(939863),u=a(456652),p=a(507877),f=a(970164),g=a(988022),E=a(411916),h=a(860178),b=a(147206),w=a(428467),y=a(489291),x=a(567088),T=a(765612),C=a(696677);if(443==a.j)var v=a(559735);let k="FILE_BROWSER_PLAN_SWITCHER_V2",N="PLAN_SPACES_ONBOARDING_KEY";function S(){let e=(0,n.wA)(),t=(0,h.iZ)(),a=(0,n.d4)(e=>e.dropdownShown?.data?.targetRect),i=(0,n.d4)(e=>e.plans),m=(0,n.d4)(e=>(0,w.getPermissionsStateMemoized)(e)),u=(0,f.z)(),p=(0,b.GU)(t)&&i.length>1,g=!!(0,l.kc)().limited_plan_spaces&&i.some(e=>e.plan_type===x.O.TEAM&&e.is_guest),E=p?i.filter(e=>e.plan_type===x.O.ORG&&e.plan_id===t?.external_restricted_org_id):i,y=(0,r.useMemo)(()=>{if(g)return[];let a=[],r=E.map(a=>I(a,t,m,e));if(r.sort((e,t)=>e.displayText.localeCompare(t.displayText)),a.push(...r),p){let r=i.filter(e=>!(e.plan_type===x.O.ORG&&e.plan_id===t?.external_restricted_org_id)).map(a=>I(a,t,m,e));r.sort((e,t)=>e.displayText.localeCompare(t.displayText));let n={displayText:(0,_.t)("navbar.navbar.view_only_plans"),subText:(0,_.t)("navbar.navbar.disabled_by_your_admins"),className:d.cx.wFull.mt8.bt1.colorBorderMenu.bSolid.$,displayTextClassName:d.cx.colorTextMenuTertiary.$,disabled:!0};a.push(n,...r)}return a},[g,E,i,p,t,m,e]),k=(0,r.useMemo)(()=>{if(!g)return[];if(p){let a=i.find(e=>e.plan_type===x.O.ORG&&e.plan_id===t?.external_restricted_org_id);if(a)return[a].map(a=>I(a,t,m,e));(0,s.$D)(o.FigmaTeam.WORKFLOW,Error(`Enterprise plan not found in Plan Switcher for user ${t?.id}`),{extra:{...i}})}return i.filter(e=>!e.is_guest).map(a=>I(a,t,m,e)).sort((e,t)=>e.displayText.localeCompare(t.displayText))},[g,p,i,t,m,e]),S=(0,r.useMemo)(()=>g?p?i.filter(e=>!(e.plan_type===x.O.ORG&&e.plan_id===t?.external_restricted_org_id)).map(a=>I(a,t,m,e)).sort((e,t)=>e.displayText.localeCompare(t.displayText)):i.filter(e=>e.is_guest).map(a=>I(a,t,m,e)).sort((e,t)=>e.displayText.localeCompare(t.displayText)):[],[g,p,i,t,m,e]),A=(0,r.useMemo)(()=>{let e=[...y];if(!g)return e;let t={displayText:(0,_.t)("navbar.navbar.full_team_member_access"),className:d.cx.wFull.$,displayTextClassName:d.cx.colorTextMenuTertiary.$,disabled:!0},a={displayText:(0,_.t)("navbar.navbar.limited_team_member_access"),className:d.cx.wFull.mt8.bt1.colorBorderMenu.bSolid.$,displayTextClassName:d.cx.mt8.colorTextMenuTertiary.$,disabled:!0};if(p){let a={displayText:(0,_.t)("navbar.navbar.view_only_plans_disabled_by_admins"),className:d.cx.wFull.mt8.bt1.colorBorderMenu.bSolid.$,displayTextClassName:d.cx.colorTextMenuTertiary.$,disabled:!0};e.push(t,...k,a,...S)}else e.push(t,...k,a,...S);return e},[y,p,g,k,S]);if(!(0,b.GU)(t)){let e={displayText:"",className:C.Rr},t={displayText:(0,_.t)("navbar.navbar.create_new"),icon:r.createElement(c.B,{svg:v.A,className:d.cx.mr4.$}),className:C.aG,"data-onboarding-key":N,callback:u};A.push(e,t)}return r.createElement(T.Uo,{items:A,onSelectItem:(t,a)=>{t.callback&&t.callback("",null,e)},parentRect:a,dispatch:e})}function I(e,t,a,n){let o;let s=(0,i.O)(e,t.id),c=(0,E.HE)(a,s),_=(0,E.O_)(a,s),f=a.currentUserOrgId,h=a.currentTeamId,b=s.orgId,w=s.teamId,x=!!(0,l.kc)().limited_plan_spaces&&!!(0,l.tl)().is_limited_team_plan,T=!!(0,l.kc)().limited_plan_spaces&&!!w&&e.is_guest;return o=s.teamId&&!e.is_guest?{view:"team",teamId:s.teamId}:s.teamId&&e.is_guest?{view:"limitedTeamSharedProjects"}:{view:"org",orgId:s.orgId,orgViewTab:y.X.HOME},{displayText:c,itemBadgeV2:r.createElement(u.A,{workspace:s,isInDropdown:!0}),icon:r.createElement(m.n,{className:d.cx.mr8.$,userId:s.userId,orgId:s.orgId,teamId:s.teamId,size:16}),isActive:_,isChecked:_,className:C.hd,callback:()=>{(0,g.uE)("Plan Switcher Plan Clicked",{user:t},{currentOrgId:f,currentTeamId:h,newOrgId:b,newTeamId:w,isCurrentPlanLimitedTeamPlan:x,isNextPlanLimitedTeamPlan:T}),n(p._l({workspace:s,view:o}))}}}},456652:(e,t,a)=>{a.d(t,{A:()=>R});var r=a(411855),n=a(188507),o=a(281381),l=a(901536),i=a(939863),s=a(99506),c=a(596607),m=a(643067),d=a(428467);function _(e){let t=(0,n.d4)(e=>(0,d.getPermissionsStateMemoized)(e)),a=c.H(t,e.orgId)?.permission===s._D.GUEST,_=e.isInDropdown?o.zE.TOOLBAR:o.zE.TERTIARY;return e.isInDropdown?a?r.createElement(o.Ex,{className:l.cx.ml4.mr0.$,color:_,text:(0,i.t)("navbar.navbar.guest")}):r.createElement(o.Ex,{className:l.cx.ml4.mr0.$,color:_,text:(0,i.t)((0,m.kA)(t.orgById[e.orgId])?"navbar.navbar.enterprise":"navbar.navbar.org")}):null}var u=a(776250),p=a(966712),f=a(860601),g=a(656107),E=a(507877),h=a(662275),b=a(349410),w=a(672517),y=a(385111),x=a(7e3),T=a(243987),C=a(746869),v=a(206193),k=a(498606),N=a(832568),S=a(454542),I=a(123948);let A="plan_switcher_team_badges--warningBadgeHover--v60SF";function O(e){let t=(0,n.wA)(),a=(0,n.d4)(e=>e.user),c=(0,n.d4)(e=>e.teams)[e.teamId],m=(0,T.w5)(c),_=(0,x.TN)(e.teamId),O=(0,n.d4)(e=>(0,d.getPermissionsStateMemoized)(e)),R=(0,n.d4)(e=>e.plans),D=(0,p.kc)().limited_plan_spaces,P=!1;if(D){let t=R.find(t=>t.plan_id===e.teamId&&"team"===t.plan_type);P=!!t?.is_guest}let L=(0,N.VI)(c),[M,F]=(0,r.useState)(!1),U=(0,r.useRef)(),B=(0,b.Yz)();if(!a||!c)return null;let j=e=>{t((0,h.to)({type:g.V,data:{teamId:c.id,upsellSource:e}}))};if(D&&P&&e.isInDropdown)return r.createElement(r.Fragment,null);if(c.student_team){if(e.isInDropdown)return r.createElement(o.Ex,{color:o.zE.TOOLBAR,text:(0,i.t)("navbar.navbar.edu"),className:l.cx.ml4.mr0.noWrap.flex.$})}else if(!(0,T.oc)(c.id,O)&&(c?.restrictions_list?.includes(s.P4.FILES_LIMITED_LEGACY)||c?.restrictions_list?.includes(s.P4.WHITEBOARD_FILES_LIMITED_BETA)?0:1)){if(_&&C.ng.canSeeProTrialUx(_)){let t=(e,t,a=!1)=>r.createElement(o.Ex,{color:e,text:(0,i.t)("navbar.navbar.pro_trial"),className:`${t} ${!a&&"plan_switcher_team_badges--proTrialBadgeHover--tuLFJ"}`});return e.isInDropdown?t(o.zE.TOOLBAR,l.cx.ml4.mr0.noWrap.$,!0):r.createElement(w.fu,{name:o._Y.PRO_TRIAL,properties:{userId:a.id,teamId:c.id,...C.ng.getTrackingProperties()}},r.createElement(w.$z,{type:"button",onClick:()=>j(v.b.PRO_TRIAL_UPSELL_MODAL),className:l.cx.ml8.noWrap.$,trackingProperties:C.ng.getTrackingProperties("Badge Clicked")},r.createElement("span",{"data-tooltip-type":k.Ib.SPECIAL,"data-tooltip":I.V,"data-tooltip-pro-trials-days-left":_.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50},t(o.zE.DEFAULT,l.cx.ml4.mr0.noWrap.colorText.colorBgSelectedSecondary.flex.$))))}if(m&&e.isInDropdown)return r.createElement(o.Ex,{color:o.zE.TOOLBAR,text:(0,i.t)("navbar.navbar.pro"),className:l.cx.ml4.mr0.noWrap.flex.$});if(!m){let n=(e,t,a=!1)=>r.createElement(o.Ex,{color:e,text:(0,i.t)("navbar.navbar.free"),className:`${t} ${!a&&"plan_switcher_team_badges--freeBadgeHover--BSSXU"}`});if(e.isInDropdown)return n(o.zE.TOOLBAR,l.cx.ml4.mr0.noWrap.flex.$,!0);if((0,d.hasEditorRoleAccessOnTeam)(c.id,O)){let e={monetization_surface:y.h.MonetizationSurface.FILE_BROWSER,monetization_trigger:v.b.STARTER_TEAM_BADGE};return r.createElement("button",{onClick:r=>{r.stopPropagation(),t(E.dm(c.id)),j(v.b.STARTER_TEAM_BADGE),(0,u.sx)("Starter Team Badge Clicked",{userId:a.id,teamId:c.id,...e})},onMouseEnter:()=>{M||(U.current=setTimeout(()=>{(0,u.sx)("Starter Team Badge Viewed",{userId:a.id,teamId:c.id,...e}),F(!0)},1e3))},onMouseLeave:()=>{clearTimeout(U.current)},className:l.cx.bgTransparent.$},n(o.zE.DEFAULT,l.cx.ml4.mr0.noWrap.colorText.colorBgSelectedSecondary.flex.$))}}}else{if(c.student_team_at&&(0,p.kc)().edu_onboarding_grace_period)return null;let t=C.ng.canSeeProTrialExpiryUx(_),n=(e,t=!1)=>r.createElement(o.Ex,{color:e,text:(0,i.t)("navbar.navbar.trial_expired"),className:`${l.cx.ml4.mr0.noWrap.$} ${!t&&A}`}),s=(e,t=!1)=>r.createElement(o.Ex,{color:e,text:(0,i.t)("navbar.navbar.locked"),className:`${l.cx.ml4.mr0.noWrap.$} ${!t&&A}`});return e.isInDropdown?t?n(o.zE.WARNING,!0):s(o.zE.WARNING,!0):(0,d.hasEditorRoleAccessOnTeam)(c.id,O)?t?r.createElement(w.fu,{name:o._Y.PRO_TRIAL_EXPIRED,properties:{userId:a.id,teamId:c.id,...C.ng.getTrackingProperties()}},r.createElement(w.$z,{type:"button",onClick:()=>j(v.b.PRO_TRIAL_UPSELL_MODAL),className:l.cx.bgTransparent.$,trackingProperties:C.ng.getTrackingProperties("Badge Clicked")},r.createElement("span",{"data-tooltip-type":k.Ib.SPECIAL,"data-tooltip":S.d,"data-tooltip-show-right":!0,"data-tooltip-max-width":128,"data-tooltip-timeout-delay":50},n(o.zE.WARNING)))):r.createElement(w.fu,{name:o._Y.LOCKED,properties:{userId:a.id,teamId:c.id}},r.createElement(w.$z,{type:"button",onClick:B(!L)?f.lQ:()=>j(v.b.LOCKED_TEAM_BADGE),className:l.cx.bgTransparent.$,trackingProperties:{text:"Badge Clicked"}},s(o.zE.WARNING,B(!L)))):t?r.createElement(w.fu,{name:o._Y.PRO_TRIAL_EXPIRED,properties:{userId:a.id,teamId:c.id,...C.ng.getTrackingProperties()}},n(o.zE.WARNING)):s(o.zE.WARNING)}return null}function R({workspace:e,isInDropdown:t}){return e.orgId?r.createElement(_,{orgId:e.orgId,isInDropdown:t}):e.teamId?r.createElement(O,{teamId:e.teamId,isInDropdown:t}):null}},792199:(e,t,a)=>{a.d(t,{nC:()=>h});var r=a(776250),n=a(395900),o=a(27087),l=a(939863),i=a(582064),s=a(392592),c=a(580857),m=a(357611),d=a(971120),_=a(508567),u=a(566083),p=a(709495);let f=443==a.j?["HubFile","Plugin","Widget","FreeHubFile","FreePlugin","FreeWidget","MonetizedHubFile","MonetizedPlugin","MonetizedWidget"]:null,g=e=>e===d.L.BrowseResourceTypes.FILES?"/api/feed/files":e===d.L.BrowseResourceTypes.PLUGINS?"/api/feed/plugins":e===d.L.BrowseResourceTypes.WIDGETS?"/api/feed/widgets":"/api/feed/mixed",E="community_search_duration";function h(){let e={editor_type:m.k.Editors.ALL,following:!1,price:u.C.ALL,tags:[],pagination:null,sort_by:"popular",query:"",category:null,creators:c.Z.ALL,capability_type:void 0};function t(e,t,a,r){let n={sort_by:a.sort_by,editor_type:a.editor_type,query:a.query,price:a.price,creators:a.creators,session_id:e,query_id:t,resource_type:r.resourceType},{limit:o,isPreview:l}=r;return o&&!isNaN(o)&&(n.max_num_results=o),l&&(n.limit_associations=!0),_.$W.getCommunityResources(n)}let a={sort:t=>(e.sort_by=t,a),filter:t=>(t.sort_by&&(e.sort_by=t.sort_by||p.e.Shared.POPULAR),"editor_type"in t&&t.editor_type&&(e.editor_type=t.editor_type),"following"in t&&t.following&&(e.following=t.following),"price"in t&&t.price&&(e.price=t.price),"creators"in t&&t.creators&&(e.creators=t.creators),"tags"in t&&(e.tags=t.tags||[]),"pagination"in t&&t.pagination&&(e.pagination=t.pagination),"category"in t&&t.category&&(e.category=t.category),"capability_type"in t&&t.capability_type&&(e.capability_type=t.capability_type),"query"in t&&t.query&&(e.query=t.query),a),browse:function(t,a){let r=g(t),n=function(e){let t={sort_by:e.sort_by,tags:e.tags,pagination:e.pagination,editor_type:e.editor_type||m.k.Editors.ALL,category:e.category,price:e.price,creators:e.creators};return e.following&&(t.following=e.following),e.price&&(t.price=e.price),e.editor_type&&(t.editor_type=e.editor_type),e.creators&&(t.creators=e.creators),e.capability_type&&(t.capability_type=e.capability_type),t}(e);return r+=`?${new URLSearchParams(n).toString()}&include_tags=true&include_versions=true`,a&&(r+=`&page_size=${a}`),(0,o.k9)(r)},isMoreToFetch:function(e){if(!e?.next_page)return!1;let t=new URLSearchParams(e.next_page.split("?")[1]);return f.some(e=>!!t.get(`${e}[id_cursor]`))},searchResourcesAndProfiles:a=>(o,c)=>{let m=new n.jk(E,{});m.start();let d=c().search?.sessionId||"unattributed",u=i.MZ();return Promise.all([t(d,u,e,a),function(e,t,a,r){let{profileLimit:n}=r,o={query:a.query,sessionId:e,queryId:t,maxNumResults:n||50};return _.$W.getHubProfiles(o)}(d,u,e,a)]).then(t=>{"unattributed"!==d&&o(i.pY());let n=m.stop();return(0,r.sx)(E,{elapsedMs:n,resourceResultCount:t[0].data.meta.results.length,profileResultCount:t[1].data.meta.results.length,query:e.query,isPreview:!!a.isPreview},{forwardToDatadog:!0}),t}).catch(e=>(o(s.F.enqueue({message:e.message||(0,l.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))},searchResources:(a={resourceType:"mixed"})=>(r,n)=>{let o=n().search?.sessionId||"unattributed";return t(o,i.MZ(),e,a).then(e=>("unattributed"!==o&&r(i.pY()),e)).catch(e=>(r(s.F.enqueue({message:e.message||(0,l.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))}};return a}},65225:(e,t,a)=>{function r(){return null}a.d(t,{Vq:()=>n,XT:()=>o,_U:()=>l});let n=r,o=()=>null,l=r},359170:(e,t,a)=>{a.d(t,{u4:()=>m,$$:()=>d});var r=a(411855),n=a(629019),o=a.n(n);let l="lazy_input--lazyInput--uH0Ln";class i extends r.PureComponent{constructor(e){super(e),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)},this.onChange=e=>{this.procrastinate(),this.setState({value:e.target.value}),this.props.onChange(e)},this.state={value:this.props.value}}componentDidMount(){this.props.autoFocus&&this.props.innerRef?.current&&this.props.innerRef.current.focus()}UNSAFE_componentWillReceiveProps(e){this.updateIfNotLazy(e.value)}componentWillUnmount(){this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(e){this.procrastinating?this.setState({requestedValue:e}):this.state.value!==e&&this.setState({value:e,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let e={...this.props};return delete e.delay,delete e.innerRef,e.value=this.state.value,e.onChange&&(e.onChange=this.onChange),null==e.value&&(e.value=void 0),e.className?e.className=`${e.className} ${l}`:e.className=l,e}render(){return r.createElement("input",{...this.getProps(),ref:this.props.innerRef,dir:"auto"})}}i.displayName="LazyInput",i.defaultProps={type:"text",delay:1e3};let s=r.forwardRef((e,t)=>r.createElement(i,{...e,innerRef:t}));var c=a(150823);class m extends r.Component{constructor(){super(...arguments),this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e),27===e.keyCode&&e.target.blur()},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)}}render(){let e={...this.props};e.className=`${this.props.defaultClass} ${this.props.className||""}`;let t=this.props.dataTestId;return delete e.defaultClass,delete e.dataTestId,this.props.onClick&&(e.onClick=this.onClick),r.createElement("button",{onKeyDown:this.onKeyDown,...e,"data-testid":t},this.props.children)}}m.displayName="ButtonBase";class d extends r.Component{render(){let{fullWidth:e,...t}=this.props;return r.createElement(m,{defaultClass:o()(c.xZ,e&&c.Ij),...t})}}d.displayName="ButtonPrimary";class _ extends r.Component{render(){let e=this.props;return r.createElement(m,{defaultClass:c.HM,type:"button",...e})}}_.displayName="ButtonSecondary",r.forwardRef(function({className:e,...t},a){return r.createElement(s,{className:o()(c._Z,e),...t,ref:a})});class u extends r.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{9===e.keyCode&&this.setState({showFocus:!0})},this.documentMouseDown=()=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.classNameForInput=()=>{let e=`${c.kv} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${c.hP}`),e},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){let e=this.props.classOverride||this.classNameForInput(),t={...this.props,className:e};return delete t.classOverride,r.createElement("input",{type:"checkbox",onFocus:this.onFocus,...t})}}u.displayName="Checkbox"},543312:(e,t,a)=>{a.d(t,{I:()=>i,e:()=>s});var r=a(99506),n=a(243987),o=a(284111),l=a(723239);let i=(0,o.Z1)(l.Vm,e=>(e??[]).some(e=>null!=e&&!(0,n.w5)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit)),s=(0,o.Z1)(l.Vm,e=>(e??[]).filter(e=>null!=e&&e.subscription===r.Qh.OK&&null==e.gracePeriodEnd&&!e.orgId&&e.canEdit))},887811:(e,t,a)=>{a.d(t,{NV:()=>i,Qk:()=>s,sh:()=>m,vD:()=>c});var r=a(939863),n=a(384162),o=a(555328),l=a(479296);let i=new Set(["PM","ENG","DES","MKT","UR"]),s=(e,t)=>e?n.Dw.loadingKeyForPayload({shelfType:o.cS.FILE_BROWSER_RECOMMENDED_TEMPLATES,filterLabel:t}):n.sz.loadingKeyForPayload({shelfType:o.cS.FILE_BROWSER_RECOMMENDED_TEMPLATES}),c=(0,l.n)(e=>(function(e){if(!e)return"OTH";let t={"software-development":"ENG","user-research":"UR",design:"DES",marketing:"MKT","product-management":"PM",other:"OTH"};if(e in t)return t[e];let a={"project-manager":"PM",designer:"DES",developer:"ENG",marketer:"MKT","product-manager":"PM",consultant:"OTH",sales:"MKT","ux-researcher":"UR",student:"OTH",educator:"OTH"};return e in a?a[e]:e.endsWith("-developer")?"ENG":e.endsWith("-designer")?"DES":e.includes("Eng")||e.includes("Dev")?"ENG":e.includes("Des")?"DES":e.includes("Lead")||e.includes("Man")?"PM":"OTH"})(e?.profile?.job_title??"OTH"));function m(e){if(!e||!i.has(e))return[null,null];switch(e){case"PM":return[(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_pm"),(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_pm_badge")];case"ENG":return[(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_eng"),(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_eng_badge")];case"DES":return[(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_des"),(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_des_badge")];case"MKT":return[(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_mkt"),(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_mkt_badge")];case"UR":return[(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_ur"),(0,r.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_ur_badge")];default:return[null,null]}}},757782:(e,t,a)=>{a.d(t,{G:()=>u,Q:()=>_});var r=a(411855),n=a(629019),o=a.n(n),l=a(966712),i=a(374626),s=a(192437),c=a(259927),m=a(977230),d=a(726732),_=(e=>(e.FILE_BROWSER="file_browser",e))(_||{});function u({entryPoint:e}){return r.createElement(s.tH,{boundaryKey:"figment-debugger",fallback:r.createElement("div",null)},r.createElement(p,{entryPoint:e}))}function p({entryPoint:e}){let[t,a]=(0,i.fp)(m.eE);return(0,r.useEffect)(()=>{a(!!(0,d.wh)())},[]),t&&(0,l.kc)().figment_debugger?r.createElement("div",{className:o()("file_browser"===e?"figment_debugger--fileBrowserContainer--KNMPr figment_debugger--container--4qsMx":"figment_debugger--container--4qsMx",c.s4,c.Dm)},r.createElement(f,null)):null}function f(){let[e,t]=(0,i.fp)(m.a4),[a,n]=(0,r.useState)([]),o=(0,r.useRef)(null),l=o.current&&o.current.value.length>0,s=l?a:e;return r.createElement("div",{className:"figment_debugger--mainWrapper--Tty8t",tabIndex:0,"data-fullscreen-intercept":!0},r.createElement(g,null,r.createElement("input",{ref:o,placeholder:"\u{1F50E} Event name",className:"figment_debugger--searchBar--uECKp",onInput:t=>{let a=t.target.value.toLowerCase();a.length<3&&n([]),n(e.filter(e=>e.requestJson.event.toLowerCase().includes(a)))}})),r.createElement(g,null,r.createElement("button",{onClick:()=>{t("clear")}},"[clear]")),l&&r.createElement(g,null,"Showing "+s.length+" of "+e.length+" most recent events"),s.map(e=>r.createElement(E,{key:e.requestJson.figment_debugger_uuid,req:e})))}function g(e){return r.createElement("div",{className:"figment_debugger--sectionWrapper--Zr0-r","data-fullscreen-intercept":!0},e.children)}function E({req:e}){let[t,a]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),l=e.requestJson,i=(0,r.useMemo)(()=>t&&null!=l.properties?Object.entries(l.properties).map(([e,t])=>r.createElement("div",{key:e},e,": ",JSON.stringify(t))):[],[l,t]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"figment_debugger--logrow--dxWpW",tabIndex:0,role:"button",onClick:()=>{a(!t),o(!1)},"data-fullscreen-intercept":!0},r.createElement("span",null,t?"\uFF0D":"\uFF0B"),"\xa0",r.createElement("span",null,e.networkState===m.tM.SUCCESS?"\u{1F49A}":e.networkState===m.tM.FAILURE?"\u{1F494}":"\u{1F9E1}"),"\xa0",r.createElement("span",{className:"figment_debugger--timestamp--BaHtN"},l.sentAt.slice(11,16)),"\xa0",l.event),t&&r.createElement("div",{className:"figment_debugger--propertiesWrapper--hZGnc"},r.createElement("div",{className:"figment_debugger--propertiesButtonsRow--ZL1rH"},r.createElement("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e.requestJson.properties)),o(!0)}},"[",n?"copied":"copy","]")),i))}},776008:(e,t,a)=>{a.d(t,{E:()=>i,f:()=>l});var r=a(314866);let n=443==a.j?864e5:null,o=()=>Date.now()-14*n;function l({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:a}){return!!(e.getTime()<=o()&&(null==t||t.getTime()<=o()))&&!a}function i(e,t=[]){return null==e.data||t.includes(e.data)||!r.s_.includes(e.data)?"other":e.data}},634732:(e,t,a)=>{a.d(t,{P:()=>T});var r=a(411855),n=a(188507),o=a(320063),l=a(966712);if(443==a.j)var i=a(374626);var s=a(939863),c=a(662275),m=a(101505),d=a(456104),_=a(723239),u=a(582947),p=a(860178),f=a(397065),g=a(700886),E=a(312415),h=a(463546);let b=443==a.j?864e5:null,w=()=>Date.now()-b,y="seen_japanese_launch_announcement",x=(0,u.r1)(y);function T(){let e=(0,n.wA)(),t=(0,p.TA)(),a=(0,i.md)(_.mp),u=(0,i.md)(x),b=(0,d.e)({overlay:h.hxO,priority:f.N.DEFAULT_MODAL},[a,u]);return(0,o.h)(()=>{let e=l.Ay()?.iso_code==="JP",t=l.Ay()?.user_data?.locale==="ja";e&&!t&&b.show({canShow:(e,t)=>!t&&null!=e&&e.getTime()<w()})}),r.createElement(g._l,{isShowing:b.isShowing,title:(0,s.tx)("rcs.japanese_launch_modal.title"),description:(0,s.tx)("rcs.japanese_launch_modal.body"),media:r.createElement("img",{width:408,src:"https://static.figma.com/uploads/aa243114f8307af99f0c1728ada3182f8568a919",alt:""}),primaryCta:{type:"button",label:(0,s.tx)("rcs.japanese_launch_modal.button"),onClick:()=>{e((0,c.to)({type:E.kA,data:{source:E.IO.USER_SETTINGS}}))},ctaTrackingDescriptor:m.c.UPDATE_LANGUAGE_SETTINGS,trackingProperties:{userId:t}},trackingContextName:"Japanese Launch Announcement Modal",userFlagOnShow:y,onClose:b.complete})}},720750:(e,t,a)=>{a.d(t,{L:()=>f});var r=a(411855),n=a(320063),o=a(966712);if(443==a.j)var l=a(374626);if(443==a.j)var i=a(860601);var s=a(456104),c=a(723239),m=a(309798),d=a(397065),_=a(370456),u=a(538918),p=a(463546);function f(){let e=!!(0,m.f)("not_gen_0"),t=(0,l.md)(c.NT),a=(0,l.md)(c.g5),{isShowing:f,complete:g,show:E}=(0,s.e)({overlay:p.Lg0,priority:d.N.HIGH_PRIORITY_MODAL},[t,a]);return((0,n.h)(()=>{E({canShow:(t,a)=>!(e||(0,u.d2)({emailValidatedAt:a,jobTitle:t}))})}),f)?(0,o.kc)().show_unified_dynamic_preview_nux?r.createElement(_.b,{trackingContextName:"Gen 0 NUX",isShowing:f,onOverlayClose:()=>{g()},dataTestId:"NuxDynamicPreviewOverlay-Gen0WelcomeOverlay"}):r.createElement(u.vm,{onClose:i.lQ,onClickPrimaryCta:()=>{g()},isShowing:f}):null}},454984:(e,t,a)=>{a.d(t,{ZL:()=>P});var r=a(411855),n=a(188507),o=a(629019),l=a.n(o),i=a(966712),s=a(915440),c=a(711525),m=a(650322),d=a(946689),_=a(163023),u=a(901536),p=a(939863),f=a(507877),g=a(662275),E=a(995852),h=a(349410),b=a(672517),w=a(594901),y=a(611978),x=a(860178),T=a(309798),C=a(279453),v=a(243987),k=a(428467),N=a(851363),S=a(237870),I=a(585878),A=a(74592),O=a(247866);function R(e,t,a){return a||(e.length>0?e[0]:t.length>0?t[0]:null)}function D(e,t){let a=t.findIndex(t=>t.id===e.id);a>0&&(t.splice(a,1),t.unshift(e))}let P=(0,S.Ju)(function(e){let t=(0,w.FC)(),a=(0,x.iZ)(),o=(0,n.wA)(),S=(0,y._6)(),P=(0,s.Rs)(C.UpR,{}),L=(0,h.H5)(),M=!!(0,T.f)("edu_hide_verification");if("loaded"!==P.status||((0,i.kc)().edu_bootcamps_reverification||(M=(P.data?.currentUser?.schoolType?.status===c.tT.Loaded?P.data.currentUser.schoolType.data:null)===A.h6.BOOTCAMP_OR_ONLINE&&L()),!a))return null;let F=(0,m.x$)(P.data.currentUser?.eduPeriodEnd,(0,m.cn)(a));if(F===1/0)return null;let U=F>0?function(e,t){let a=Object.values(e.teams).filter(t=>t.student_team_state===N.kU.STUDENT_TEAM_CURRENT&&(0,k.canOwnTeam)(t.id,e)),n=Object.values(e.teams).filter(t=>t.student_team_state===N.kU.STUDENT_TEAM_CURRENT&&(0,k.canEditTeam)(t.id,e)&&!(0,k.canOwnTeam)(t.id,e)),o=R(a,n,t);if(null===o)return null;let l=null;if((0,k.canOwnTeam)(o.id,e)){if(D(o,a),n.length>0)switch(a.length){case 0:break;case 1:l=(0,p.tx)("edu.offboarding_modal.the_team_you_own_will_become_view_only_for_all_members_and_you_ll_lose_edit_access_to_other_teams",{teamName:r.createElement("strong",null,a[0].name),teamCount:n.length});break;case 2:l=(0,p.tx)("edu.offboarding_modal.the_two_teams_you_own_will_become_view_only_for_all_members_and_you_ll_lose_edit_access_to_other_teams",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name),teamCount:n.length});break;default:l=(0,p.tx)("edu.offboarding_modal.the_three_teams_you_own_will_become_view_only_for_all_members_and_you_ll_lose_edit_access_to_other_teams",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name),teamName3:r.createElement("strong",null,a[2].name),teamCount:n.length})}else switch(a.length){case 0:break;case 1:l=(0,p.tx)("edu.offboarding_modal.the_team_you_own_will_become_view_only_for_all_members_once_your_plan_expires",{teamName:r.createElement("strong",null,a[0].name)});break;case 2:l=(0,p.tx)("edu.offboarding_modal.the_two_teams_you_own_will_become_view_only_for_all_members_once_your_plan_expires",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name)});break;default:l=(0,p.tx)("edu.offboarding_modal.the_three_teams_you_own_will_become_view_only_for_all_members_once_your_plan_expires",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name),teamName3:r.createElement("strong",null,a[2].name)})}}else switch(D(o,n),n.length){case 0:break;case 1:l=(0,p.tx)("edu.offboarding_modal.you_ll_lose_edit_access_to_team_once_your_plan_expires",{teamName:r.createElement("strong",null,n[0].name)});break;default:l=(0,p.tx)("edu.offboarding_modal.you_ll_lose_edit_access_to_team_and_team_once_your_plan_expires",{teamName1:r.createElement("strong",null,n[0].name),teamName2:r.createElement("strong",null,n[1].name)})}return null===l?null:{displayTeam:o,title:l}}(t,e.team):function(e,t){let a=Object.values(e.teams).filter(t=>t.student_team_state===N.kU.STUDENT_TEAM_EXPIRED&&(0,k.canOwnTeam)(t.id,e)&&(0,v.oc)(t.id,e)),n=Object.values(e.teams).filter(t=>t.student_team_state===N.kU.STUDENT_TEAM_CURRENT&&!(0,k.canEditTeam)(t.id,e)),o=R(a,n,t);if(null===o)return null;let l=null;if((0,k.canOwnTeam)(o.id,e)){if(D(o,a),n.length>0)switch(a.length){case 0:break;case 1:l=(0,p.tx)("edu.offboarding_modal.the_team_you_own_is_now_view_only_for_all_members_and_you_can_no_longer_make_edits",{teamName:r.createElement("strong",null,a[0].name),teamCount:n.length});break;case 2:l=(0,p.tx)("edu.offboarding_modal.the_two_teams_you_own_are_now_view_only_for_all_members_and_you_can_no_longer_make_edits",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name),teamCount:n.length});break;default:l=(0,p.tx)("edu.offboarding_modal.the_three_teams_you_own_are_now_view_only_for_all_members_and_you_can_no_longer_make_edits",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name),teamName3:r.createElement("strong",null,a[2].name),teamCount:n.length})}else switch(a.length){case 0:break;case 1:l=(0,p.tx)("edu.offboarding_modal.the_team_you_own_is_now_view_only_for_all_members",{teamName:r.createElement("strong",null,a[0].name)});break;case 2:l=(0,p.tx)("edu.offboarding_modal.the_two_teams_you_own_are_now_view_only_for_all_members",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name)});break;default:l=(0,p.tx)("edu.offboarding_modal.the_three_teams_you_own_are_now_view_only_for_all_members",{teamName1:r.createElement("strong",null,a[0].name),teamName2:r.createElement("strong",null,a[1].name),teamName3:r.createElement("strong",null,a[2].name)})}}else switch(D(o,n),n.length){case 0:break;case 1:l=(0,p.tx)("edu.offboarding_modal.you_can_no_longer_edit_team",{teamName:r.createElement("strong",null,n[0].name)});break;default:l=(0,p.tx)("edu.offboarding_modal.you_can_no_longer_edit_team_and_team",{teamName1:r.createElement("strong",null,n[0].name),teamName2:r.createElement("strong",null,n[1].name)})}return null===l?null:{displayTeam:o,title:l}}(t,e.team);if(null===U)return null;let B=U.displayTeam,j=U.title,z=(0,k.canOwnTeam)(B.id,t),G=()=>{o(g.Ce())},$=()=>{G(),o(f.Dw({}))};return r.createElement(b.fu,{name:"Edu Offboarding Modal"},r.createElement(I.XV,{title:(0,p.t)("edu.offboarding_modal.your_education_status"),maxWidth:381,onClose:G},r.createElement("div",{className:l()(u.cx.flex.itemsCenter.p8.$,u.cx.if(F>0,u.cx.colorBgWarningTertiary,u.cx.colorBgDangerTertiary).$)},r.createElement(_.B,{className:u.cx.p8.colorIcon.$,svg:O.A}),r.createElement("p",null,r.createElement("strong",null,F>0?(0,p.tx)("edu.offboarding_modal.your_education_plan_expires_in_days",{daysLeft:F}):(0,p.tx)("edu.offboarding_modal.your_education_plan_has_expired")))),r.createElement("div",{className:u.cx.px16.pt8.pb12.$},r.createElement("p",null,j),r.createElement("div",{className:u.cx.pt16.flex.$},r.createElement("div",{className:u.cx.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),r.createElement("p",null,r.createElement("strong",null,(0,p.tx)("edu.offboarding_modal.if_you_graduated")),z?(0,p.tx)("edu.offboarding_modal.continue_below_to_upgrade_your_team_s_to_the_professional_plan_or",{createProTeamLink:r.createElement(d.Us,{onClick:$,trusted:!0},(0,p.tx)("edu.offboarding_modal.create_a_new_professional_team"))}):(0,p.tx)("edu.offboarding_modal.create_a_new_professional_team_and_start_fresh"))),!M&&r.createElement("div",{className:u.cx.pt16.flex.$},r.createElement("div",{className:u.cx.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),r.createElement("p",null,r.createElement("strong",null,(0,p.tx)("edu.offboarding_modal.if_you_re_still_in_education")),(0,p.tx)("edu.offboarding_modal.verify_your_status_to_keep_collaborating_with_your_teams",{verifyStatusLink:r.createElement(d.Us,{href:"/education/apply",target:"_blank",trusted:!0},(0,p.tx)("edu.offboarding_modal.verify_your_status"))}))),r.createElement("div",{className:u.cx.pt16.flex.$},r.createElement("div",{className:u.cx.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),r.createElement("p",null,r.createElement("strong",null,(0,p.tx)("edu.offboarding_modal.to_save_your_work")),z?(0,p.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later_and_consider_transferring_ownership_of_your_team_s",{transferringOwnershipLink:r.createElement(d.Us,{href:"https://help.figma.com/hc/articles/360038512093",target:"_blank",trusted:!0},(0,p.tx)("edu.offboarding_modal.transferring_ownership"))}):(0,p.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later"))),r.createElement("div",{className:u.cx.flex.flexColumn.itemsEnd.pt32.$},z?r.createElement(d.vd,{onClick:()=>{G(),o(E.WX({teamId:B.id,selectedView:S}))}},(0,p.tx)("edu.offboarding_modal.upgrade_to_professional")):r.createElement(d.vd,{onClick:$},(0,p.tx)("edu.offboarding_modal.create_a_new_professional_team_cta"))))))},"EDU_OFFBOARDING_MODAL")},318327:(e,t,a)=>{a.d(t,{v:()=>w});var r=a(411855),n=a(188507),o=a(915440),l=a(946689),i=a(163023),s=a(939863),c=a(662275),m=a(995852),d=a(101505),_=a(672517),u=a(611978),p=a(279453),f=a(243987),g=a(237870),E=a(488578),h=a(373494),b=a(630834);let w=(0,g.Ju)(function(e){let{teamId:t}=e,a=(0,n.wA)(),g=(0,u._6)(),w=(0,n.d4)(e=>e.folders),y=(0,o.Rs)(p.bel,{teamId:t}),x=y.data?.team?.teamFileCounts?.designFileCount??0,T=y.data?.team?.teamFileCounts?.whiteboardFileCount??0,C=(0,n.d4)(e=>e.teams[t]),v=e=>{e.preventDefault(),a(c.Lo())},k=x>f.WW,N=T>f.WW,S=C.projects>f.Wf,I=Object.keys(w).filter(e=>w[e]?.is_view_only).map(e=>w[e]),A=Object.keys(w).filter(e=>w[e]?.is_invite_only).map(e=>w[e]);return r.createElement(_.fu,{name:"LockedTeamUsageModal",properties:{teamId:t}},r.createElement(E.aF,{className:"locked_team_usage_modal--modal--hgYFc",size:"medium"},r.createElement("div",{className:"locked_team_usage_modal--modalBar--wjRk6"},r.createElement(i.B,{className:"locked_team_usage_modal--modalCloseX--aPcCQ",svg:b.default,onClick:v})),r.createElement("h3",{className:"locked_team_usage_modal--headerText--5KMOz"},(0,s.tx)("payments_modal.to_meet_the_limits_for_your_starter_plan")),r.createElement("ul",null,k&&r.createElement("li",null,(0,s.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:x-f.WW})),N&&r.createElement("li",null,(0,s.tx)("payments_modal.move_figjam_files_to_drafts",{numFigJamFiles:T-f.WW})),S&&r.createElement("li",null,(0,s.tx)("payments_modal.remove_projects",{numProjects:C.projects-f.Wf})),I.length>0&&r.createElement("li",null,(0,s.tx)("payments_modal.remove_view_only_permissions_from_all_projects")),A.length>0&&r.createElement("li",null,(0,s.tx)("payments_modal.remove_invite_only_permissions_from_all_projects"))),r.createElement("p",null,(0,s.tx)("payments_modal.if_you_would_rather_keep_the_current_limits",{upgradeToProfessional:r.createElement(l.Us,{onClick:e=>{e.preventDefault(),a(c.Lo()),a(m.WX({teamId:t,selectedView:g}))},trackingProperties:{trackingDescriptor:d.c.UPGRADE_TO_PROFESSIONAL},trusted:!0},(0,s.tx)("payments_modal.upgrade_to_professional"))})),r.createElement("div",{className:`${h.v0} locked_team_usage_modal--buttonRow--y7F3c`},r.createElement(l.M7,{onClick:v,trackingProperties:{teamId:t}},(0,s.tx)("payments_modal.okay")))))},"LockedTeamUsageModal")},999394:(e,t,a)=>{a.d(t,{c:()=>r});var r=(e=>(e[e.WARN=0]="WARN",e[e.WARN_SOFT=1]="WARN_SOFT",e[e.ANNOUNCEMENT=2]="ANNOUNCEMENT",e[e.EVENT=3]="EVENT",e))(r||{})},984032:(e,t,a)=>{a.d(t,{BO:()=>N,IG:()=>k,gL:()=>S});var r=a(411855),n=a(188507);if(443==a.j)var o=a(374626);var l=a(563706),i=a(27087),s=a(946689),c=a(881388),m=a(939863),d=a(931828),_=a(657544),u=a(672517),p=a(335682),f=a(316081),g=a(746806),E=a(63666),h=a(70964),b=a(936181),w=a(15839),y=a(178911),x=a(121230),T=a(275596),C=a(996887);function v({trackingContextName:e,getTitle:t,getBody:a,width:n=268}){return{modalType:w.q3.POINTER,trackingContextName:e,width:n,onboardingKey:y.yl,shouldCenterArrow:g.EL.FALLBACK,element:()=>r.createElement(r.Fragment,null,r.createElement(b.x,{target:y.yl}),r.createElement("div",{className:C.Hj},t()),a()),userFlag:"seen_figjam_widget_nudge_flag"}}w.q3.SELF_CONTAINED,v({trackingContextName:"FigJam Widget Nudge Generic",getTitle:()=>(0,m.t)("rcs.figjam_widget_nudge.generic_title"),getBody:()=>(0,m.t)("rcs.figjam_widget_nudge.generic_body")}),v({trackingContextName:"FigJam Widget Nudge Project Management",getTitle:()=>(0,m.t)("rcs.figjam_widget_nudge.pm_title"),getBody:()=>(0,m.t)("rcs.figjam_widget_nudge.pm_body"),width:240}),v({trackingContextName:"FigJam Widget Nudge Alignment",getTitle:()=>(0,m.t)("rcs.figjam_widget_nudge.align_title"),getBody:()=>(0,m.t)("rcs.figjam_widget_nudge.align_body")}),v({trackingContextName:"FigJam Widget Nudge Fun",getTitle:()=>(0,m.t)("rcs.figjam_widget_nudge.fun_title"),getBody:()=>(0,m.t)("rcs.figjam_widget_nudge.fun_body")});let k={modalType:w.q3.MOBILE,trackingContextName:"Mobile FigJam Redirect Modal",element:function(e){return r.useEffect(()=>{i.Ay.post("/api/mobile_redirect/figjam").catch(e=>{console.error(e)})},[]),r.createElement(r.Fragment,null,r.createElement(h.Gv,{width:"100%",src:"https://static.figma.com/uploads/f95cfc857cdc5c164958966add0665b69673667c"}),r.createElement(h.ok,null,r.createElement("h1",null,(0,m.tx)("rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop")),r.createElement(s.Kz,{multiple:1,direction:"y"}),r.createElement("p",{className:C.G3},(0,m.tx)("rcs.redirect_from_mobile_to_desktop.to_use_figjam_head_to_a_desktop_device_we've_sent_you_an_email_with_instructions")),r.createElement(s.Kz,{multiple:3,direction:"y"}),r.createElement(s.CY,{onClick:e.dismissModal,role:"button",style:{fontSize:"13px"},trusted:!0},(0,m.tx)("rcs.redirect_from_mobile_to_desktop.continue_in_mobile_browser"))))},userFlag:"seen_figjam_mobile_signup_redirect_modal"},N={modalType:w.q3.MOBILE,type:w.dZ.SHELF,trackingContextName:"Mobile Redirect Shelf",element:(0,f.XY)(e=>r.createElement(h.mS,null,r.createElement("p",{className:C.RZ},(0,m.tx)("rcs.redirect_from_mobile_to_desktop.continue_in")),r.createElement(s.Kz,{multiple:3,direction:"y"}),r.createElement(x.t,{icon:"https://static.figma.com/uploads/a3006bdcba9fa948d80e6248c95f310fed735fcd",title:(0,m.t)("rcs.redirect_from_mobile_to_desktop.open_in_desktop"),description:(0,m.t)("rcs.redirect_from_mobile_to_desktop.for_the_full_figma_experience"),ctaType:"primary",ctaText:(0,m.t)("rcs.redirect_from_mobile_to_desktop.email_link"),ctaOnClick:()=>{i.Ay.post("/api/mobile_redirect/login").then(()=>{e.dispatch(c.s.flash("Email sent!"))}).catch(e=>{console.error(e)}),e.dismissModal()}}),(0,l.tS)()&&r.createElement(r.Fragment,null,r.createElement(s.Kz,{multiple:3,direction:"y"}),r.createElement(x.t,{icon:"https://static.figma.com/uploads/669133f44606033fe46c705fc9e031582da50554",title:(0,m.t)("rcs.redirect_from_mobile_to_desktop.figma_app"),description:(0,m.t)("rcs.redirect_from_mobile_to_desktop.for_viewing_and_commenting"),ctaType:"secondary",ctaText:(0,m.t)("rcs.redirect_from_mobile_to_desktop.get"),ctaHref:(0,l.j5)()?_.o:_.J,ctaOnClick:()=>{e.dismissModal()}})),r.createElement(s.Kz,{multiple:3,direction:"y"}),r.createElement(x.t,{icon:"https://static.figma.com/uploads/363af28bb9933a27b22cab48d7243afb3d53d8ac",title:(0,m.t)("rcs.redirect_from_mobile_to_desktop.mobile_browser"),ctaType:"secondary",ctaText:(0,m.t)("rcs.redirect_from_mobile_to_desktop.continue"),ctaOnClick:()=>{e.dismissModal()}})))};function S(e){let[t,a]=r.useState(!0),l=(0,n.wA)(),i=(0,o.md)(p.yV);r.useEffect(()=>{setTimeout(()=>a(!1),1e3)});let c=()=>{l(d.b({explicitly_dismissed_create_component_pointer:!0})),e.dismissModal()};return t?null:r.createElement(u.fu,{name:"library upsell create component pointer",properties:{fileKey:i?.key,teamId:i?.teamId}},r.createElement(b.x,{target:"create-symbol"}),r.createElement(E.NJ,{dismissModal:c,width:244,targetKey:"create-symbol",shouldNotWrapInParagraphTag:!0,shouldCenterArrow:g.EL.FALLBACK},r.createElement("p",null,(0,m.tx)("rcs.upsell_libraries.click_here_to_turn_into_component")),r.createElement(s.Kz,{multiple:2}),r.createElement("div",{className:T.kP},r.createElement(s.vd,{onClick:c,className:T.ZO},(0,m.tx)("rcs.upsell_libraries.visual_bell.got_it")))))}w.q3.FEATURE_UPDATE,(0,n.Ng)(e=>({userId:e.user?.id||""}))(e=>r.createElement(r.Fragment,null,r.createElement(h.u9.Content,null,r.createElement("div",{className:C.xi},r.createElement(s.Kz,{multiple:5}),r.createElement("div",{className:C.o$},(0,m.tx)("rcs.figjam_april_2022_onboarding.new")),r.createElement("h1",null,(0,m.tx)("rcs.figjam_april_2022_onboarding.creative_tools_for_you_built_line_break_with_by_our_community",{lineBreak:r.createElement("br",null)})),r.createElement(s.Kz,{multiple:2}),r.createElement("p",null,(0,m.tx)("rcs.figjam_april_2022_onboarding.figma_community_puts_thousands_of_templates_time_saving_ui_kits_and_powerful_plugins_at_your_fingertips_all_created_by_figma_users_just_like_you")),r.createElement(s.Kz,{multiple:4}),r.createElement(s.pY,{trackingProperties:{userId:e.userId},href:"/community",target:"_blank",rel:"noopener",onClick:e.onClickPrimaryCta},(0,m.tx)("rcs.figjam_april_2022_onboarding.explore_community")),r.createElement(s.Kz,{multiple:5})),r.createElement("div",{className:C.g2},r.createElement("div",{className:C.vW},r.createElement("img",{width:512,src:"https://static.figma.com/uploads/2ab09dc63038e0d9d96ad3845ef3e8af4bde427a",alt:""}))))))},454542:(e,t,a)=>{a.d(t,{d:()=>l});var r=a(411855),n=a(901536),o=a(939863);let l=(0,a(422237).ex)("pro_trial_expired",function(){return r.createElement("div",{className:n.cx.flex.itemsCenter.justifyCenter.$},r.createElement("p",null,(0,o.tx)("team_list.pro_trial_expired_tooltip")))})},123948:(e,t,a)=>{a.d(t,{V:()=>l});var r=a(411855),n=a(901536),o=a(939863);let l=(0,a(422237).ex)("pro_trial",function(e){let t=r.createElement("span",{style:{fontWeight:600}},(0,o.tx)("team_list.pro_trial_time_left_days",{daysLeft:e.daysLeft}));return r.createElement("div",{className:n.cx.flex.itemsCenter.justifyCenter.$},r.createElement("p",null,(0,o.tx)("team_list.pro_trial_time_left",{daysLeftText:t})))},e=>({daysLeft:Number(e.getAttribute("data-tooltip-pro-trials-days-left")||0)}))},316082:(e,t,a)=>{a.d(t,{w:()=>l,y:()=>i});var r=a(411855),n=a(587670),o=a(939683);function l(){let[e,t]=r.useState(navigator.onLine);return r.useEffect(()=>{let e=()=>t(navigator.onLine);return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),e}function i(){let e=(0,o.U)(),t=n.h3O?.getSessionState(),a=l();return r.useEffect(()=>{!a&&t&&t!==n.kul.DETACHED&&e("offline_multiplayer_discrepancy",{isNavigatorOnline:navigator.onLine,isJoined:t===n.kul.JOINED,multiplayerSessionState:t.toString()})},[a,t,e]),a||t===n.kul.JOINED}},870232:(e,t,a)=>{function r(){return null}a.d(t,{BX:()=>c,GO:()=>_,Mr:()=>E,Qc:()=>o,S7:()=>h,eg:()=>d,j8:()=>p,l:()=>m,li:()=>s,lt:()=>n,mh:()=>g,nl:()=>u,oT:()=>f,rC:()=>l,rf:()=>i});let n=r,o=r,l=r,i=r,s=r,c=r,m=r,d=r,_=r,u=r,p=r,f=r,g=r,E=r,h=r},74592:(e,t,a)=>{a.d(t,{h6:()=>o});var r=a(411855),n=(e=>(e.STUDENT="student",e.EDUCATOR="educator",e.ADMINISTRATOR="administrator",e.EMPTY="",e))(n||{}),o=(e=>(e.K12="k12",e.HIGHER_ED="higher_ed",e.BOOTCAMP_OR_ONLINE="bootcamp_or_online",e.EMPTY="",e))(o||{}),l=(e=>(e.GENERAL_EDUCATION="General Education",e.SOCIAL_STUDIES="Social Studies",e.ENGLISH_LANGUAGE_ARTS="English Language Arts",e.COMPUTER_SCIENCE_ENGINEERING_TECHNOLOGY="Computer Science / Engineering / Technology",e.CAREER_AND_TECHNICAL_EDUCATION="Career and Technical Education",e.MATH="Math",e.SCIENCE="Science",e.ART_GRAPHIC_DESIGN="Art / Graphic Design",e.LIBRARIES="Libraries",e.FOREIGN_LANGUAGE="Foreign Language",e.HUMAN_COMPUTER_INTERACTION="Human-Computer Interaction",e.GRAPHIC_VISUAL_DESIGN="Graphic / Visual Design",e.COMPUTER_SCIENCE="Computer Science",e.ENTREPRENEURSHIP="Entrepreneurship",e.UX_UI_OR_INTERACTION_DESIGN="UX/UI or Interaction Design",e.INFORMATION_SCIENCE="Information Science",e.OTHER="Other",e))(l||{});r.createContext({})},52678:(e,t,a)=>{a.d(t,{K:()=>en});var r=a(411855),n=a(188507),o=a(634832),l=a(629019),i=a.n(l),s=a(776250),c=a(737947),m=a(358145),d=a(498750),_=a(503457),u=a(915440),p=a(27087),f=a(62342),g=a(355819),E=a(163023),h=a(47506),b=a(881388),w=a(939863),y=a(67294),x=a(975350),T=a(738269),C=a(662275),v=a(569172),k=a(654034),N=a(692630),S=a(355513),I=a(694687),A=a(611978),O=a(860178),R=a(279453),D=a(531827),P=a(103271),L=a(498606),M=a(819117),F=a(237870),U=a(402609),B=a(421422),j=a(727236),z=a(182876),G=a(400333),$=a(488578),W=a(126674),H=a(679736),q=a(160156),K=a(47026),V=a(339617),Y=a(531398),X=a(385121),J=a(430811),Q=a(70080),Z=a(412141),ee=a(40674),et=a(893984),ea=a(630834);function er(){return r.createElement("div",null,(0,w.t)("fig_feed.post_dne"))}let en=(0,F.Ju)(function(e){let t=(0,n.wA)(),a=(0,I.sZ)(),l=(0,A._6)();r.useEffect(()=>{"teamFeed"!==l.view&&"user"!==l.view&&("fullscreen"===l.view&&e.inFileView||t(C.Ce()))},[t,l,e.inFileView]);let i=r.useRef({selectedView:l,inFileView:e.inFileView});r.useEffect(()=>{i.current={selectedView:l,inFileView:e.inFileView}},[e.inFileView,l]),r.useEffect(()=>()=>{i.current.inFileView||"teamFeed"!==i.current.selectedView.view||t(T.$T({...i.current.selectedView,postUuid:void 0}))},[t]);let _=r.useRef(!1),f=r.useCallback(t=>{_.current||!t||e.autofocusCommentInput||(t.focus(),_.current=!0)},[e.autofocusCommentInput]),g=(0,m.ZC)(e.postUuid);r.useEffect(()=>{a&&(e.inFileView||g===e.postUuid||"teamFeed"!==l.view||(_.current=!1,c.Ay.replace((0,W.Kc)(a.id,{uuid:e.postUuid}))))},[g,e.postUuid,a,e.inFileView,l]);let E=(0,u.Rs)(R.FHz,{publicUuid:e.postUuid});r.useEffect(()=>{!e.inFileView&&E.data?.feedPost?.title&&(0,S.hL)(E.data.feedPost.title)},[e.inFileView,E.data]),r.useEffect(()=>((0,s.sx)("Team Feed Post Details View Visited",{postUuid:e.postUuid}),()=>{(0,s.sx)("Team Feed Post Closed",{postUuid:e.postUuid})}),[e.postUuid]),r.useEffect(()=>{p.Ay.post(`/api/feed_posts/${e.postUuid}/mark_viewed`)},[e.postUuid]);let[y,x]=r.useState(0);r.useEffect(()=>{x(e.selectedContentIdx||0)},[e.postUuid,e.selectedContentIdx]);let v=r.useMemo(()=>E.data?.feedPost?E.data.feedPost.content.map(e=>JSON.parse(e)):[],[E.data]),k=v.length,{requestToOpenPostByFeedIdx:N}=e,O=r.useCallback(t=>{t.keyCode===d.Uz.LEFT_ARROW?0===y?N&&void 0!==e.feedIdx&&N(e.feedIdx-1):x(y-1):t.keyCode===d.Uz.RIGHT_ARROW&&(y===k-1?N&&void 0!==e.feedIdx&&N(e.feedIdx+1):x(y+1))},[y,k,N,e.feedIdx]),[D,L]=r.useState(!0),M=r.useCallback(()=>L(e=>!e),[]),[F,z]=r.useState(!1);r.useEffect(()=>{!F&&"loaded"===E.status&&v[y]&&(0,P.Dr)(v[y])&&((0,h.YQ)({id:B.X}),z(!0))},[E.status,F,v,y]);let G=E.data?.feedPost||e.initialPreloadedPost;if(!G)switch(E.status){case"errors":return r.createElement(er,null);case"loading":case"disabled":return r.createElement($.aF,{className:Q.ZA,size:"any"});case"loaded":return t(b.s.error((0,w.t)("fig_feed.post_dne"))),t(C.Ce()),null;default:(0,o.assertNever)(E)}return r.createElement(r.Fragment,null,r.createElement($.aF,{className:Q.ZA,size:"any"},r.createElement("div",{className:Q.Zp,role:"listbox",tabIndex:0,onKeyDown:O,ref:f},r.createElement("div",{className:Q.kL,"data-onboarding-key":j.O},r.createElement("div",{className:D?Q.hQ:Q.MZ},r.createElement(q.xT,{contentItems:v,staticContent:!1,selectedContentIdx:y,setSelectedContentIdx:t=>{x(t),e.onSetSelectedContentIdx?.(t)},pageBackgroundColor:G.backgroundColor??void 0,feedPostUuid:e.postUuid,source:W.Zp.DETAIL_MODAL})),r.createElement(eo,{feedPost:G,contentItems:v,autofocusCommentInput:!!e.autofocusCommentInput,inFileView:e.inFileView,onSidebarToggle:M,show:D})))),r.createElement(U.p,null,r.createElement(j.b,null)))},N.E,F.ZU.YES);function eo(e){let t=(0,n.wA)(),a=(0,O.iZ)(),o=(0,n.d4)(e=>e.currentUserOrgId),l=r.useCallback(()=>{t(C.Ce())},[t]),{fileData:i,fileIcon:s,fileLoaded:c,openFile:m}=(0,W.rS)(e.feedPost.publicUuid,e.contentItems,e.feedPost.fileKey),d=r.useCallback(()=>{let a=e.inFileView&&e.feedPost.fileKey||void 0;t((0,C.to)({type:(0,H.t1)(),data:{preloadedFeedPost:e.feedPost,entryPoint:e.inFileView?H.M2.FILE:H.M2.FEED,lockedFileKey:a}}))},[t,e.feedPost,e.inFileView]),_=(0,W.DG)(e.feedPost.publicUuid,W.dy.DETAIL);if(!o||!a)return null;let u=r.createElement(r.Fragment,null,r.createElement("div",{className:Q.Si},r.createElement(J.Wu,{feedPost:e.feedPost,source:W.Zp.DETAIL_MODAL,onEditClick:d})),r.createElement("button",{onClick:_,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,w.t)("fig_feed.copy_link_to_post")},r.createElement(E.B,{svg:et.A,className:Q.Gp})),r.createElement("button",{onClick:e.onSidebarToggle},r.createElement(E.B,{svg:ee.A,className:Q.Gp})),r.createElement("button",{onClick:l},r.createElement(E.B,{svg:ea.default,className:Q.Nk})));if(!e.show)return r.createElement("div",{className:Q.SY},u);let p=r.createElement("div",{className:Q.N1},r.createElement("div",{className:Q.qd},(0,w.tx)("fig_feed.details")),r.createElement("div",{className:Q.IE,"data-testid":"feed-modal-open-file"},u)),g=r.createElement("div",{className:Q.op},r.createElement("div",{className:Q.mY},r.createElement(V.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,size:y.Pf.MEDIUM,shortDate:!1})),r.createElement(ei,{feedPost:e.feedPost,currentOrgId:o,currentUser:a}),c&&!e.inFileView&&r.createElement("button",{className:Q.XE,onClick:e.inFileView?void 0:m},(0,w.tx)("fig_feed.from_file",{fileComponent:r.createElement(r.Fragment,null,r.createElement(f.oS,{className:Q.Wv,type:s,size:f.LE.SMALL}),r.createElement("span",{className:Q.q4},i.name))})),r.createElement("div",{className:Q.E_},r.createElement(Y.Q$,{type:Y.Us.FULL,source:Y.zY.DETAIL_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions})));return r.createElement("div",{className:Q.HP},p,r.createElement(el,{postInfo:g,comments:e.feedPost.comments,postUuid:e.feedPost.publicUuid,currentUser:a,currentOrgId:o,autofocusCommentInput:e.autofocusCommentInput}))}function el(e){let t=(0,n.wA)(),a=r.useRef(null),o=r.useRef(null),[l,i]=r.useState(!1),s=r.useCallback(t=>{0===t.intersectionRatio&&e.comments.length>0?i(!0):i(!1)},[e.comments.length]);(0,z.g)(o,s,{threshold:[0,1]});let c=r.useCallback(()=>{a.current&&a.current.scrollToBottom()},[]),m=e.comments.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()),[d,u]=r.useState(e.comments.length);r.useEffect(()=>{let t=d<e.comments.length;t&&u(e.comments.length);let a=e.comments[e.comments.length-1];t&&a.user.id===e.currentUser.id&&c()},[d,e.comments,e.currentUser,c]);let[p,f]=r.useState([]),h=(0,n.d4)(e=>e.comments.newComment),b=r.useCallback(()=>{t(v.gX({postUuid:e.postUuid,messageMeta:p,attachmentIds:Object.keys(h.attachments)})),f([]),t(x.$M({resetStatusOnly:!1}))},[t,e.postUuid,p,h]),T=r.useMemo(()=>({library:new D.M8(e.currentOrgId,e.postUuid)}),[e.currentOrgId,e.postUuid]),C=r.useCallback(e=>{t(x.nb({attachmentId:e.id,attachment:e}))},[t]),N=r.useCallback((e,a)=>{t(x.nb({attachmentId:e,attachment:null})),a?a.then(()=>M.J.delete(e)):M.J.delete(e)},[t]);return r.createElement("div",{className:Q.ty},r.createElement(g.P,{innerClassName:Q.qy,useBottomPinning:!0,ref:a},e.postInfo,r.createElement("div",{ref:o,className:Q.Ai},m.map(t=>r.createElement(K.i,{key:t.id,commentId:t.id,commentUuid:t.uuid||"",createdAt:t.createdAt,commentUser:t.user,reactions:t.reactions,messageMeta:(0,k.o8)(t.messageMeta),user:e.currentUser,currentOrgId:e.currentOrgId,mentionables:T,attachments:t.attachments}))),l&&r.createElement("div",{className:Q.cm,onClick:c,role:"button",tabIndex:0},r.createElement(E.B,{svg:Z.A,className:Q.mL}),(0,w.tx)("fig_feed.num_comments",{numComments:m.length}))),r.createElement("div",{className:Q.kG},r.createElement("div",{className:Q.gK},r.createElement(y.H8,{user:e.currentUser,size:y.Pf.MEDIUM})),r.createElement(X.o,{fallback:null,errorFallback:_.H4.NONE,user:e.currentUser,currentOrgId:e.currentOrgId,autofocus:e.autofocusCommentInput,onSubmit:b,hideSubmitButton:!1,mentionables:T,composerContainerClass:Q.DA,editableTypeaheadClass:Q.OX,messageContent:p,updateMessage:f,editingExistingComment:!1,updateAttachment:C,deleteAttachment:N,attachments:Object.values(h.attachments)})))}function ei(e){let t=r.useMemo(()=>(0,k.o8)(e.feedPost.descriptionMeta),[e.feedPost.descriptionMeta]);return r.createElement("div",{role:"textbox",tabIndex:0,className:Q.tL},r.createElement("div",{className:Q.pT},e.feedPost.title),r.createElement(G.HH,{messageMeta:t,commentId:e.feedPost.id,className:i()(Q.gG)}))}},531398:(e,t,a)=>{a.d(t,{Q$:()=>f,Us:()=>u,mz:()=>y,nn:()=>g,zY:()=>p});var r=a(411855),n=a(188507),o=a(629019),l=a.n(o),i=a(569172),s=a(318812),c=a(860178),m=a(336174),d=a(884101),_=a(114292),u=(e=>(e[e.FULL=0]="FULL",e[e.ADD_ONLY=1]="ADD_ONLY",e))(u||{}),p=(e=>(e[e.TILE_CONTENT=0]="TILE_CONTENT",e[e.TILE_POST=1]="TILE_POST",e[e.DETAIL_POST=2]="DETAIL_POST",e[e.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",e[e.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",e[e.FILE_POPOVER=5]="FILE_POPOVER",e))(p||{});function f(e){let t=(0,n.wA)(),a=(0,c.iZ)(),{existingReactionIdForCurrentUser:o}=b(e.feedReactions,a),l=r.useCallback(({emoji:a,addOnly:r})=>{let n=o(a);n?r||t(i.Oy({feedPostUuid:e.postUuid,emoji:a,reactionId:n})):t(i.EF({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:a}))},[t,o,e.postUuid,e.postId]);return r.createElement(E,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:l,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function g(e){let t=(0,n.wA)(),a=(0,c.iZ)(),{existingReactionIdForCurrentUser:o}=b(e.feedReactions,a),l=r.useCallback(({emoji:a,addOnly:r})=>{let n=o(a);n?r||t(i.t9({commentUuid:e.commentUuid,emoji:a,reactionId:n})):t(i.FJ({commentUuid:e.commentUuid,commentId:e.commentId,emoji:a}))},[t,o,e.commentUuid,e.commentId]);return r.createElement(E,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:l,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function E(e){let t=(0,c.iZ)(),{toggleReaction:a}=e,{reactionsWithSelected:n}=b(e.feedReactions,t),o=r.useCallback((e,t)=>{t.stopPropagation(),a({emoji:e.emoji,addOnly:!1})},[a]),l=r.useCallback(e=>{a({emoji:e,addOnly:!0})},[a]),i=r.createElement(h,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:l,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?i:r.createElement("div",{className:_.KD},r.createElement(d.Kb,{reactions:n,collapseOverflow:!1,onClickExisting:o,prependToList:e.prependToList},i))}function h(e){let t=r.useRef(null),{isReactionPickerVisible:a,toggleReactionPicker:n,emojiPicker:o}=x(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!a?r.createElement("div",{className:_.$S}):r.createElement(r.Fragment,null,r.createElement("div",{ref:t,className:l()(1===e.type?_.D5:_.HL)},r.createElement(d.ny,{onClick:n,selected:a,styleClassName:_.$S,selectedStyleClassName:_.Qi})),a&&o)}let b=(e,t)=>{let a=r.useMemo(()=>{let a={};if(!t)return a;for(let r of e)r.user.id===t.id&&(a[r.emoji]=r.id);return a},[e,t]),n=r.useCallback(e=>a[e],[a]);return{reactionsWithSelected:r.useMemo(()=>{let t={};for(let a of e){let{emoji:e,user:r,createdAt:o}=a;t[e]||(t[e]={emoji:e,users:[],selected:!!n(e),createdAt:o.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,o.getTime()),t[e].users.push({handle:r.handle,id:r.id,img_url:r.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,n]),existingReactionIdForCurrentUser:n}},w=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function y(e,t){return(0,s.BK)(w(t,e?.id)).showing}let x=(e,t,a,n)=>{let o=(0,s.BK)(w(t,e?.id)),l=r.useCallback(e=>{n(e.shortcodes),o.hide()},[o,n]),i=a.current&&r.createElement(m._,{onInsert:l,onCancel:o.hide,targetRect:a.current.getBoundingClientRect()});return{isReactionPickerVisible:o.showing,toggleReactionPicker:o.toggle,emojiPicker:i}}},430811:(e,t,a)=>{a.d(t,{Hx:()=>E,Wu:()=>b,j8:()=>w});var r=a(411855),n=a(188507),o=a(776250),l=a(27087),i=a(268537),s=a(939863),c=a(662275),m=a(569172),d=a(963067),_=a(860178),u=a(237870),p=a(488578),f=a(665061);let g=(0,u.Ju)(function(e){let t=(0,s.tx)("fig_feed.delete_confirmation");return e.numComments&&e.numReactions?t=(0,s.tx)("fig_feed.delete_confirmation_with_comments_and_reactions",{numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?t=(0,s.tx)("fig_feed.delete_confirmation_with_comments",{numComments:e.numComments}):e.numReactions&&(t=(0,s.tx)("fig_feed.delete_confirmation_with_reactions",{numReactions:e.numReactions})),r.createElement(p.Rw,{destructive:!0,confirmationTitle:(0,s.tx)("fig_feed.delete_post"),confirmText:(0,s.tx)("fig_feed.delete"),onConfirm:e.onConfirm,popStack:!0},r.createElement("p",null,t))},"PostConfirmDeleteModal");var E=(e=>(e.USER="user_post_context_menu",e.SYSTEM="system_post_context_menu",e))(E||{});let h=e=>{let t=(0,_.iZ)(),a=(0,d.Yo)(),r=(t&&t.id===e.creator.id)??!1;return{canDelete:r,canAdminDelete:a?.isAdmin??!1,canEdit:r}};function b(e){let t=(0,n.wA)(),a=r.useCallback(()=>t(m.Y9()),[t]),{onEditClick:d,feedPost:_}=e,{canDelete:u,canAdminDelete:p,canEdit:E}=h(_),b=_.comments.length,y=_.reactions.length,x=r.useCallback(()=>{t((0,c.AS)()),l.Ay.del(`/api/feed_posts/post_uuid/${_.publicUuid}`).then(()=>{(0,o.sx)("Team Feed Post Deleted",{postUuid:_.publicUuid}),a()})},[t,_.publicUuid,a]),T=r.useCallback(()=>{t((0,c.to)({type:g,data:{onConfirm:x,numComments:b,numReactions:y},showModalsBeneath:!0}))},[t,x,b,y]);if(!u&&!p)return null;let C=u?(0,s.tx)("fig_feed.delete_ellipsis"):(0,s.tx)("fig_feed.delete_admin_ellipsis"),v=[!!E&&!!d&&r.createElement(i.c$,{key:"edit",onClick:d},(0,s.tx)("fig_feed.edit")),(!!u||!!p)&&r.createElement(i.c$,{key:"delete",onClick:T},C)];return r.createElement(f.V,{dropdownId:w("user_post_context_menu",e.feedPost.publicUuid,e.source),options:v,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let w=(e,t,a)=>e+t+a},67048:(e,t,a)=>{a.d(t,{G:()=>m});var r=a(411855),n=a(629019),o=a.n(n),l=a(281381),i=a(901536),s=a(939863),c=a(498606);function m({location:e,overrideText:t,hoverStyleClassName:a,onMouseUp:n,onPointerUp:m}){return r.createElement(l.Ex,{className:o()(i.cx.font11.fontNormal.h16.px4.b1.bRadius5.mr0.hFitContent.cursorPointer.if("MODAL"===e||"FILE_BROWSER_BAR"===e||"SLIDES_REWRITE_MODAL"===e,i.cx.colorTextSecondary.colorBorder).if("SUMMARIZE_NUDGE"===e,i.cx.colorTextOnbrand.colorBorderBrand).if("SUMMARIZE_NUDGE_DISABLED"===e,i.cx.colorTextOnbrand.colorBorderDisabled).if("INLINE_TOOLBAR"===e,i.cx.colorTextMenuSecondary.colorBorderMenu).if("SLIDES_REWRITE_MODAL"===e,i.cx.textBodySmall).$,a),color:l.zE.INVERT,subtle:!0,text:t??(0,s.t)("whiteboard.ai_modal.beta_badge"),onMouseUp:n,onPointerUp:m,dataTooltip:(0,s.t)("qa.learn_more"),dataTooltipType:c.Ib.TEXT,dataTooltipShowAbove:!0})}},907159:(e,t,a)=>{a.d(t,{xZ:()=>y});var r=a(411855),n=a(188507),o=a(504440),l=a(140686),i=a(256296),s=a(939863),c=a(119198),m=a(931828),d=a(672517),_=a(102310),u=a(99506),p=a(945020),f=a(740280),g=a(864114);let E={education:{title:(0,s.tx)("whiteboard.whats_new.diagram.title"),carousel:["https://static.figma.com/uploads/c58d5f4a37c974b72777d0d482b5e168819ed339","https://static.figma.com/uploads/87363e4551c98cc4dd5c2eb17c8a1c216b4df558","https://static.figma.com/uploads/17e4b5731b359b5da1cc9498bee8d19a574ecb39"],body:(0,s.tx)("whiteboard.whats_new.other.control.body")},"software-development":{title:(0,s.tx)("whiteboard.whats_new.diagram.title"),carousel:["https://static.figma.com/uploads/d17ad024cc18607d4a8b1a00d5e2c2d9c33f7124","https://static.figma.com/uploads/6c43de4a393f0c6a62c810c9e624475937af46b1","https://static.figma.com/uploads/39e86727a54bf46978d4893784240e752197b537"],body:(0,s.tx)("whiteboard.whats_new.engineer.control.body")},"user-research":{title:(0,s.tx)("whiteboard.whats_new.workshop.title"),carousel:["https://static.figma.com/uploads/3875dfbdfc499dfc81addcc2cb4c425432e4d83c","https://static.figma.com/uploads/19c6fa16695aa643eb32b6de523e34682c99ff74","https://static.figma.com/uploads/d32d06accd71ec34d461ebeb0683d372ce3c4e86"],body:(0,s.tx)("whiteboard.whats_new.research.control.body")},design:{title:(0,s.tx)("whiteboard.whats_new.brainstorm.title"),carousel:["https://static.figma.com/uploads/86daaf50ff13c8defd9b675fbfabffe8fe2b6913","https://static.figma.com/uploads/4d374f6472949a2b2b6428ea45e6e09d4608b5b2","https://static.figma.com/uploads/532f390ae672946525645d4b0bdaaf4d84a2d1e5"],body:(0,s.tx)("whiteboard.whats_new.design.control.body")},marketing:{title:(0,s.tx)("whiteboard.whats_new.workshop.title"),carousel:["https://static.figma.com/uploads/86daaf50ff13c8defd9b675fbfabffe8fe2b6913","https://static.figma.com/uploads/19c6fa16695aa643eb32b6de523e34682c99ff74","https://static.figma.com/uploads/5828c6e302bd2cf83170176485c5cae9a7e09fa9"],body:(0,s.tx)("whiteboard.whats_new.marketing.control.body")},"product-management":{title:(0,s.tx)("whiteboard.whats_new.meeting.title"),carousel:["https://static.figma.com/uploads/07a2696df083d2dcbbc25f3c1b184c88b72ed4a6","https://static.figma.com/uploads/19c6fa16695aa643eb32b6de523e34682c99ff74","https://static.figma.com/uploads/d42ae46e1e5c846580f4cfa3d275a0a4fde6c482"],body:(0,s.tx)("whiteboard.whats_new.product.control.body")},other:{title:(0,s.tx)("whiteboard.whats_new.diagram.title"),carousel:["https://static.figma.com/uploads/c58d5f4a37c974b72777d0d482b5e168819ed339","https://static.figma.com/uploads/87363e4551c98cc4dd5c2eb17c8a1c216b4df558","https://static.figma.com/uploads/17e4b5731b359b5da1cc9498bee8d19a574ecb39"],body:(0,s.tx)("whiteboard.whats_new.other.control.body")}};var h=a(226055);function b(e){let t=E[e.jobTitle].carousel,a=(0,r.useRef)(null),n=(0,h.GS)()?45:27,[o,l]=(0,r.useState)(1),i=(0,r.useCallback)(()=>(a.current&&(1===o?a.current.style.transition="none":a.current.style.transition="transform 0.4s ease-in-out"),o===2*t.length-2)?l(1):l(e=>e+1),[t.length,o]);return(0,r.useEffect)(()=>{setTimeout(()=>{setTimeout(()=>{i(),a.current&&(a.current.style.transform=`translateX(-${210*o-n}px)`)},1===o?400:3e3)},0)},[o,i,n]),r.createElement("div",{className:"whats_new_v2_carousel--carouselContainer--fm3dW"},r.createElement("div",{className:"whats_new_v2_carousel--slideTrack--CsJL8",ref:a},r.createElement("img",{src:t[2],alt:"clone of last thumbnail"}),r.createElement("img",{src:t[0],alt:"first thumbnail"}),r.createElement("img",{src:t[1],alt:"second thumbnail"}),r.createElement("img",{src:t[2],alt:"last thumbnail"}),r.createElement("img",{src:t[0],alt:"clone of first thumbnail"}),r.createElement("img",{src:t[1],alt:"clone of second thumbnail"})))}let w=(0,d.tf)(o.$n);function y(e){let t=(0,n.wA)(),a=(0,_.B)(),[o,l]=r.useState(!0),i=e.jobTitle??"other",d=`Design to FigJam What's New v2 > ${i} > ${e.context}`,{title:h,body:y}=E[e.jobTitle],T=(0,r.useCallback)(()=>{t(m.b({dont_show_figjam_updates_in_figma_design:!o})),e.onClose()},[o,t,e]);return r.createElement(f.X,{trackingContextName:d,position:g.Q.BOTTOM_RIGHT,title:h,onClose:T,description:y,media:r.createElement(r.Fragment,null,r.createElement("img",{src:"https://static.figma.com/uploads/f9217dd1dac2a765d218e1de9eb6fcbb32a454ec",alt:"",className:"whats_new_v2--newBadge--kl1gy"}),r.createElement("img",{src:"https://static.figma.com/uploads/d67cccad0bd5d4d8f50d8cac15b5ed848027e0a8",alt:"",className:"whats_new_v2--peaceIcon--Uk3-s"}),r.createElement(b,{jobTitle:e.jobTitle})),overrideFooter:r.createElement("div",{className:"whats_new_v2--ctaRow--8jvr-"},r.createElement(w,{htmlAttributes:{"data-editor-theme":"whiteboard"},onClick:()=>{T(),t(m.b({interacted_figjam_whats_new_v2_cta:!0})),t(c.zE({state:a,editorType:u._Y.WHITEBOARD,team:void 0,from:p.f6.FIGJAM_WHATS_NEW_MODAL,openNewFileIn:p.ai.NEW_TAB}))}},(0,s.tx)("rcs.whats_new_in_figjam.try_fig_jam")),"editor"===e.context&&r.createElement("div",{className:"whats_new_v2--checkboxRow--eYDbx"},r.createElement(x,{checked:o,setChecked:()=>l(!o)}))),userFlagOnShow:"seen_whats_new_v2_modal",isShowing:e.isShowing})}function x({checked:e,setChecked:t}){return r.createElement(l.S,{label:r.createElement(i.J,null,(0,s.t)("rcs.whats_new_in_figjam.show_fig_jam_updates")),checked:e,onChange:t})}},954244:(e,t,a)=>{a.d(t,{R:()=>n});var r=a(411855);function n(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9.5a.5.5 0 0 0-1 0V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3a.5.5 0 0 0 0-1zm9 0a5.5 5.5 0 0 0-5.5 5.5v1.793l-1.646-1.647a.5.5 0 0 0-.708.708l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5a.5.5 0 0 0-.708-.708L12.5 13.293V11.5A4.5 4.5 0 0 1 17 7h.5a.5.5 0 0 0 0-1z",clipRule:"evenodd"}))}}}]);

//# debugId=a808ac18-35d2-569a-a74d-3824fa837b56

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/2e3af31920107483c0cae8a5e6a74f12cb0a6d3c/5239-42e495d1f735734d.min.js.map